{
  "resourceType": "Library",
  "id": "library-EXM117-FHIR3-8.3.000",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><table class=\"grid dict\"><tr><th scope=\"row\"><b>Id: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\">library-EXM117-FHIR3-8.3.000</td></tr><tr><th scope=\"row\"><b>Type: </b></th><td style=\"padding-right: 25px;\"> Logic Library </td></tr><tr><th scope=\"row\"><b>Version: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\">8.3.000</td></tr><tr><th scope=\"row\"><b>Status: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\">active</td></tr><tr style=\"vertical-align: top;\"><th rowspan=\"4\" scope=\"row\"><b>Related: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span><span style=\"padding-left: 25px;\"><b>reference: </b><span>Library/library-FHIRHelpers-3.0.0</span></span></span></p></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span><span style=\"padding-left: 25px;\"><b>reference: </b><span>Library/library-MATGlobalCommonFunctions-FHIR3-2.0.000</span></span></span></p></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span><span style=\"padding-left: 25px;\"><b>reference: </b><span>Library/library-SupplementalDataElements-FHIR3-1.0.0</span></span></span></p></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span><span style=\"padding-left: 25px;\"><b>reference: </b><span>Library/library-Hospice-FHIR3-1.0.000</span></span></span></p></td></tr><tr style=\"vertical-align: top;\"><th rowspan=\"58\" scope=\"row\"><b>Data Requirements: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Encounter</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>type</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Encounter</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>type</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Encounter</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>type</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1024</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Encounter</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>type</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1022</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1214</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1031</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.114.12.1007</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1219</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1224</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1001</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1009</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1059</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1060</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1053</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1061</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1062</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1032</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1063</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1064</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1037</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1217</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1216</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1073</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1032</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1025</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1170</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1066</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1067</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1001</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1009</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1039</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1221</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1215</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1033</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1026</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1024</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1007</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1056</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1223</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Immunization</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>vaccineCode</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1218</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1009</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Condition</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1001</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><th scope=\"row\"><b>Content: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\"><b>type: </b><span>text/cql</span></td></tr><tr><td colspan=\"2\" style=\"padding-left: 25px; padding-right: 25px;\"><pre><code class=\"language-cql\">library EXM117_FHIR3 version '8.3.000'\n\n/*\nChildhood Immunization Screening (CIS)\n*/\n\nusing FHIR version '3.0.0'\n\ninclude FHIRHelpers version '3.0.0' called FHIRHelpers\ninclude MATGlobalCommonFunctions_FHIR3 version '2.0.000' called Global\ninclude SupplementalDataElements_FHIR3 version '1.0.0' called SDE\ninclude Hospice_FHIR3 version '1.0.000' called Hospice\n\n/*\nDescription\nPercentage of children 2 years of age who had four diphtheria, tetanus and acellular pertussis (DTaP); three polio (IPV), one measles, mumps and rubella (MMR); three H influenza type B (HiB); three hepatitis B (Hep B); one chicken pox (VZV); four pneumococcal conjugate (PCV); one hepatitis A (Hep A); two or three rotavirus (RV); and two influenza (flu) vaccines by their second birthday\n*/\n\ncodesystem &quot;CPT&quot;: 'http://www.ama-assn.org/'\ncodesystem &quot;CVX&quot;: 'http://www2a.cdc.gov/'\ncodesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct/731000124108'\ncodesystem &quot;LOINC&quot;: 'http://loinc.org'\n\nvalueset &quot;Anaphylactic Reaction to Common Baker's Yeast&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1032'\nvalueset &quot;Anaphylactic Reaction to DTaP Vaccine&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1031'\nvalueset &quot;Anaphylactic Reaction to Hepatitis A Vaccine&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1026'\nvalueset &quot;Anti Hepatitis A IgG Antigen Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1033'\nvalueset &quot;Anti Hepatitis B Virus Surface Ab&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1073'\nvalueset &quot;Disorders of the Immune System&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1001'\nvalueset &quot;DTaP Vaccine Administered&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1022'\nvalueset &quot;DTaP Vaccine&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1214'\nvalueset &quot;Encephalopathy due to Childhood Vaccination&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.114.12.1007'\nvalueset &quot;Encounter Inpatient&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307'\nvalueset &quot;Ethnicity&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.837'\nvalueset &quot;Haemophilus Influenzae Type B (HiB) Vaccine Administered&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1043'\nvalueset &quot;Haemophilus Influenzae Type B (HiB) Vaccine&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1217'\nvalueset &quot;Hepatitis A Vaccine Administered&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1041'\nvalueset &quot;Hepatitis A Vaccine&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1215'\nvalueset &quot;Hepatitis A&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1024'\nvalueset &quot;Hepatitis B Vaccine Administered&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1042'\nvalueset &quot;Hepatitis B Vaccine&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1216'\nvalueset &quot;Hepatitis B&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1025'\nvalueset &quot;HIV&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003'\nvalueset &quot;Home Healthcare Services&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016'\nvalueset &quot;Hospice care ambulatory&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1108.15'\nvalueset &quot;Inactivated Polio Vaccine (IPV) Administered&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1045'\nvalueset &quot;Inactivated Polio Vaccine (IPV)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1219'\nvalueset &quot;Influenza Vaccine Administered&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1044'\nvalueset &quot;Influenza Vaccine&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1218'\nvalueset &quot;Intussusception&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1056'\nvalueset &quot;Malignant Neoplasm of Lymphatic and Hematopoietic Tissue&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1009'\nvalueset &quot;Measles Antibody Test (IgG Antibody presence)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1060'\nvalueset &quot;Measles Antibody Test (IgG Antibody Titer)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1059'\nvalueset &quot;Measles&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1053'\nvalueset &quot;Measles, Mumps and Rubella (MMR) Vaccine Administered&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1031'\nvalueset &quot;Measles, Mumps and Rubella (MMR) Vaccine&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1224'\nvalueset &quot;Mumps Antibody Test (IgG Antibody presence)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1062'\nvalueset &quot;Mumps Antibody Test (IgG Antibody Titer)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1061'\nvalueset &quot;Mumps&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1032'\nvalueset &quot;Office Visit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001'\nvalueset &quot;ONC Administrative Sex&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1'\nvalueset &quot;Payer&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591'\nvalueset &quot;Pneumococcal Conjugate Vaccine Administered&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1046'\nvalueset &quot;Pneumococcal Conjugate Vaccine&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1221'\nvalueset &quot;Positive Finding&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.121.12.1016'\nvalueset &quot;Preventive Care Services, Initial Office Visit, 0 to 17&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1022'\nvalueset &quot;Preventive Care, Established Office Visit, 0 to 17&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1024'\nvalueset &quot;Race&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.836'\nvalueset &quot;Rotavirus Vaccine (3 dose schedule)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1223'\nvalueset &quot;Rubella Antibody Test (IgG Antibody presence)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1064'\nvalueset &quot;Rubella Antibody Test (IgG Antibody Titer)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1063'\nvalueset &quot;Rubella&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1037'\nvalueset &quot;Severe Combined Immunodeficiency&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1007'\nvalueset &quot;Varicella Zoster Antibody Test (IgG Antibody Presence)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1067'\nvalueset &quot;Varicella Zoster Antibody Test (IgG Antibody Titer)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1066'\nvalueset &quot;Varicella Zoster Vaccine (VZV) Administered&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1040'\nvalueset &quot;Varicella Zoster Vaccine (VZV)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1170'\nvalueset &quot;Varicella Zoster&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1039'\n\n// BTR -&gt; Codes must come after value sets\ncode &quot;Birth date&quot;: '21112-8' from &quot;LOINC&quot; display 'Birth date'\ncode &quot;Anaphylaxis due to Haemophilus influenzae type b vaccine (disorder)&quot;: '433621000124101' from &quot;SNOMEDCT&quot; display 'Anaphylaxis due to Haemophilus influenzae type b vaccine (disorder)'\ncode &quot;Anaphylaxis due to Hepatitis B vaccine (disorder)&quot;: '433621000124101'from &quot;SNOMEDCT&quot; display 'Anaphylaxis due to Hepatitis B vaccine (disorder)'\ncode &quot;Anaphylaxis due to rotavirus vaccine (disorder)&quot;: '428331000124103' from &quot;SNOMEDCT&quot; display 'Anaphylaxis due to rotavirus vaccine (disorder)'\ncode &quot;Discharge to healthcare facility for hospice care (procedure)&quot;: '428371000124100' from &quot;SNOMEDCT&quot; display 'Discharge to healthcare facility for hospice care (procedure)'\ncode &quot;Discharge to home for hospice care (procedure)&quot;: '428361000124107' from &quot;SNOMEDCT&quot; display 'Discharge to home for hospice care (procedure)'\ncode &quot;Influenza virus vaccine adverse reaction (disorder)&quot;: '420113004' from &quot;SNOMEDCT&quot; display 'Influenza virus vaccine adverse reaction (disorder)'\ncode &quot;Neomycin adverse reaction (disorder)&quot;: '292927007' from &quot;SNOMEDCT&quot; display 'Neomycin adverse reaction (disorder)'\ncode &quot;Pneumococcal vaccine adverse reaction (disorder)&quot;: '293116002' from &quot;SNOMEDCT&quot; display 'Pneumococcal vaccine adverse reaction (disorder)'\ncode &quot;Poliomyelitis vaccine adverse reaction (disorder)&quot;: '293117006' from &quot;SNOMEDCT&quot; display 'Poliomyelitis vaccine adverse reaction (disorder)'\ncode &quot;Polymyxin B adverse reaction (disorder)&quot;: '292992006' from &quot;SNOMEDCT&quot; display 'Polymyxin B adverse reaction (disorder)'\ncode &quot;Rotavirus vaccine, human, attenuated (RV1), 2 dose schedule, live, for oral use&quot;: '90681' from &quot;SNOMEDCT&quot; display 'Rotavirus vaccine, human, attenuated (RV1), 2 dose schedule, live, for oral use'\ncode &quot;Rotavirus vaccine, pentavalent (RV5), 3 dose schedule, live, for oral use&quot;: '90680' from &quot;CPT&quot; display 'Rotavirus vaccine, pentavalent (RV5), 3 dose schedule, live, for oral use'\ncode &quot;Rotavirus, live, monovalent vaccine&quot;: '119' from &quot;CVX&quot; display 'Rotavirus, live, monovalent vaccine'\ncode &quot;Streptomycin adverse reaction (disorder)&quot;: '292925004' from &quot;SNOMEDCT&quot; display 'Streptomycin adverse reaction (disorder)'\n\n/*\nThis library has an explicit parameter which is the measurement year.\nWhile the actual parameter type accepts all intervals, this library\nexpects it will only be given arguments corresponding exactly to one whole\ncalendar year, and it will not behave properly otherwise; 2017 for example:\nInterval[DateTime(2017,1,1,0,0,0,0), DateTime(2018,1,1,0,0,0,0))\n*/\n\nparameter &quot;Measurement Period&quot; Interval&lt;DateTime&gt;\n/*\nThis library evaluates with respect to exactly 1 candidate patient at a time,\nthat patient being given by the special context parameter Patient.\n*/\n\ncontext Patient\n\n\ndefine &quot;SDE Ethnicity&quot;:\n  SDE.&quot;SDE Ethnicity&quot;\n\ndefine &quot;SDE Payer&quot;:\n   SDE.&quot;SDE Payer&quot;\n\ndefine &quot;SDE Race&quot;:\n  SDE.&quot;SDE Race&quot;\n\ndefine &quot;SDE Sex&quot;:\n   SDE.&quot;SDE Sex&quot;\n\n/*\nInitial Population\n*/\n\ndefine &quot;Initial Population&quot;:\n\t\tGlobal.&quot;CalendarAgeInYearsAt&quot;(FHIRHelpers.ToDate(Patient.birthDate),  start of &quot;Measurement Period&quot;)&gt;= 1\n\t\t\t\tand Global.&quot;CalendarAgeInYearsAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), end of &quot;Measurement Period&quot;)= 2\n\t\tand exists ( &quot;Qualifying Encounter&quot; )\n\t\tand (not Hospice.&quot;Has Hospice&quot;(&quot;Measurement Period&quot;))\n\ndefine &quot;Qualifying Encounter&quot;:\n\t( [&quot;Encounter&quot;: &quot;Office Visit&quot;]\n\t\tunion [&quot;Encounter&quot;: &quot;Home Healthcare Services&quot;]\n\t\tunion [&quot;Encounter&quot;: &quot;Preventive Care, Established Office Visit, 0 to 17&quot;]\n\t\tunion [&quot;Encounter&quot;: &quot;Preventive Care Services, Initial Office Visit, 0 to 17&quot;] ) ValidEncounter\n\t\twhere ValidEncounter.status = 'finished'\n\t\t\tand ValidEncounter.period during &quot;Measurement Period&quot;\n\ndefine &quot;Denominator&quot;:\n\t&quot;Initial Population&quot;\n\ndefine &quot;Numerator&quot;:\n\n\t( exists ( &quot;Four DTaP Vaccinations&quot; )\n\t\t\tor exists ( &quot;DTaP Numerator Inclusion Conditions&quot; )\n\t)\n\t\tand ( exists ( &quot;Three Polio Vaccinations&quot; )\n\t\t\t\tor exists ( &quot;Polio Numerator Inclusion Conditions&quot; )\n\t\t)\n\t\tand ( exists ( &quot;One MMR Vaccinations&quot; )\n\t\t\t\tor exists ( &quot;MMR Numerator Inclusion Conditions&quot; )\n\t\t\t\tor ( exists ( &quot;Measles Indicators&quot; )\n\t\t\t\t\t\tand exists ( &quot;Mumps Indicators&quot; )\n\t\t\t\t\t\tand exists ( &quot;Rubella Indicators&quot; )\n\t\t\t\t)\n\t\t)\n\t\tand ( exists ( &quot;Three Hib Vaccinations&quot; )\n\t\t\t\tor exists ( &quot;Hib Numerator Inclusion Conditions&quot; )\n\t\t)\n\t\tand ( exists ( &quot;Three Hepatitis B Vaccinations&quot; )\n\t\t\t\tor exists ( &quot;Hepatitis B Numerator Inclusion Conditions&quot; )\n\t\t)\n\t\tand ( exists ( &quot;One Chicken Pox Vaccination&quot; )\n\t\t\t\tor exists ( &quot;Varicella Zoster Numerator Inclusion Conditions&quot; )\n\t\t)\n\t\tand ( exists ( &quot;Four Pneumococcal Conjugate Vaccinations&quot; )\n\t\t\t\tor exists ( &quot;Pneumococcal Conjugate Numerator Inclusion Conditions&quot; )\n\t\t)\n\t\tand ( exists ( &quot;One Hepatitis A Vaccinations&quot; )\n\t\t\t\tor exists ( &quot;Hepatitis A Numerator Inclusion Conditions&quot; )\n\t\t)\n\t\tand ( exists ( &quot;Rotavirus 2 Dose Vaccinations&quot; )\n\t\t\t\tor exists ( &quot;Rotavirus Numerator Inclusion Conditions&quot; )\n\t\t\t\tor exists ( &quot;Rotavirus 2 or 3 Dose Vaccinations&quot; )\n\t\t\t\tor exists ( &quot;Rotavirus 3 Dose Vaccinations&quot; )\n\t\t)\n\t\tand ( exists ( &quot;Two Influenza Vaccinations&quot; )\n\t\t\t\tor exists ( &quot;Influenza Numerator Inclusion Conditions&quot; &quot;Numerator Compliant Influenza Conditions&quot; )\n\t\t)\n\n/* How do we enact the Hospice Library\n// BTR -&gt; Add an include for Hospice_FHIR, we've already translated that to FHIR, then you can just reference it\n*/\n define &quot;Four DTaP Vaccinations&quot;:\n\tfrom\n\t\t&quot;DTaP Immunizations or Procedures&quot; DTaPVaccination1,\n\t\t&quot;DTaP Immunizations or Procedures&quot; DTaPVaccination2,\n\t\t&quot;DTaP Immunizations or Procedures&quot; DTaPVaccination3,\n\t\t&quot;DTaP Immunizations or Procedures&quot; DTaPVaccination4\n\t\twhere DTaPVaccination2.date 1 day or more after day of DTaPVaccination1.date\n\t\t\tand DTaPVaccination3.date 1 day or more after day of DTaPVaccination2.date\n\t\t\tand DTaPVaccination4.date 1 day or more after day of DTaPVaccination3.date\n\t\treturn DTaPVaccination1\n\ndefine &quot;DTaP Immunizations or Procedures&quot;:\n\t[&quot;Immunization&quot; : &quot;DTaP Vaccine&quot;] DTaP\n\t\twhere DTaP.status = 'completed'\n\t\t\tand ( Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), DTaP.date) &gt;= 42 )\n\t\t\tand (\n        Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), DTaP.date)\n          &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, DTaP.date)\n      )\n\ndefine &quot;DTaP Numerator Inclusion Conditions&quot;:\n\t(\n    [&quot;Condition&quot;: &quot;Anaphylactic Reaction to DTaP Vaccine&quot;]\n\t\t  union [&quot;Condition&quot;: &quot;Encephalopathy due to Childhood Vaccination&quot;]\n  ) DTaPConditions\n\t\t  where DTaPConditions.verificationStatus = 'confirmed'\n\t\t\t\tand (\n          Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), DTaPConditions.onset.&quot;start&quot;)\n            &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, DTaPConditions.onset.&quot;start&quot;)\n        )\n\ndefine &quot;Three Polio Vaccinations&quot;:\n\tfrom\n    &quot;Polio Immunizations or Procedures&quot; PolioVaccination1,\n\t\t&quot;Polio Immunizations or Procedures&quot; PolioVaccination2,\n\t\t&quot;Polio Immunizations or Procedures&quot; PolioVaccination3\n\t\twhere PolioVaccination2.date 1 day or more after day of PolioVaccination1.date\n\t\t\tand PolioVaccination3.date 1 day or more after day of PolioVaccination2.date\n\t\treturn PolioVaccination1\n\n define &quot;Polio Immunizations or Procedures&quot;:\n\t[&quot;Immunization&quot;: &quot;Inactivated Polio Vaccine (IPV)&quot;] PolioVaccination\n\t\twhere PolioVaccination.status ~ 'completed'\n\t\tand (Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), PolioVaccination.date) &gt;= 42 )\n\t\tand (\n      Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), PolioVaccination.date)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, PolioVaccination.date)\n    )\n\ndefine &quot;Polio Numerator Inclusion Conditions&quot;:\n\t( [&quot;Condition&quot;: &quot;Poliomyelitis vaccine adverse reaction (disorder)&quot;]\n\t\tunion [&quot;Condition&quot;: &quot;Streptomycin adverse reaction (disorder)&quot;]\n\t\tunion [&quot;Condition&quot;: &quot;Polymyxin B adverse reaction (disorder)&quot;]\n\t\tunion [&quot;Condition&quot;: &quot;Neomycin adverse reaction (disorder)&quot;] ) PolioConditions\n\t\t\twhere PolioConditions.verificationStatus ~ 'confirmed'\n\t\t\t\tand (\n          Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), PolioConditions.onset.&quot;start&quot;)\n            &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, PolioConditions.onset.&quot;start&quot;)\n        )\n\ndefine &quot;One MMR Vaccinations&quot;:\n\t[&quot;Immunization&quot;: &quot;Measles, Mumps and Rubella (MMR) Vaccine&quot;] MMRVaccination\n\t\twhere MMRVaccination.status ~ 'completed'\n\t\tand (\n      Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), MMRVaccination.date)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, MMRVaccination.date)\n    )\n\ndefine &quot;MMR Numerator Inclusion Conditions&quot;:\n\t(\n    [&quot;Condition&quot;: &quot;Disorders of the Immune System&quot;]\n  \t\tunion [&quot;Condition&quot;: &quot;HIV&quot;]\n  \t\tunion [&quot;Condition&quot;: &quot;Malignant Neoplasm of Lymphatic and Hematopoietic Tissue&quot;]\n  \t\tunion [&quot;Condition&quot;: &quot;Neomycin adverse reaction (disorder)&quot;]\n  ) MMRConditions\n\t\t\twhere MMRConditions.verificationStatus ~ 'confirmed'\n\t\t\t\tand (\n          Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), MMRConditions.onset.&quot;start&quot;)\n            &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, MMRConditions.onset.&quot;start&quot;)\n        )\n\ndefine &quot;Measles Indicators&quot;:\n\t(\n    (\n      [&quot;Observation&quot;: &quot;Measles Antibody Test (IgG Antibody Titer)&quot;] MeaslesTiter\n      \twhere MeaslesTiter.status in {'final', 'amended'}\n      \tand MeaslesTiter.value &gt;= 1.10\n    )\n\t\tunion (\n      [&quot;Observation&quot;: &quot;Measles Antibody Test (IgG Antibody presence)&quot;] MeaslesIgGPresence\n  \t\t\twhere MeaslesIgGPresence.status in {'final', 'amended'}\n  \t\t\tand MeaslesIgGPresence.interpretation in &quot;Positive Finding&quot;\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Measles&quot;] MeaslesDiagnosis\n  \t\t\twhere MeaslesDiagnosis.verificationStatus ~ 'confirmed'\n  \t\t\treturn &quot;Observation&quot; { effective: MeaslesDiagnosis.onset }\n\t\t)\n  ) Measles\n\t\t\twhere Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), Measles.effective.&quot;start&quot;)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, Measles.effective.&quot;start&quot;)\n\ndefine &quot;Mumps Indicators&quot;:\n\t(\n    (\n      [&quot;Observation&quot;: &quot;Mumps Antibody Test (IgG Antibody Titer)&quot;] MumpsTiter\n      \twhere MumpsTiter.status in {'final', 'amended'}\n      \tand MumpsTiter.value &gt;= 1.10\n    )\n\t\tunion (\n      [&quot;Observation&quot;: &quot;Mumps Antibody Test (IgG Antibody presence)&quot;] MumpsIgGPresence\n  \t\t\twhere MumpsIgGPresence.status in {'final', 'amended'}\n  \t\t\tand MumpsIgGPresence.interpretation in &quot;Positive Finding&quot;\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Mumps&quot;] MumpsDiagnosis\n  \t\t\twhere MumpsDiagnosis.verificationStatus ~ 'confirmed'\n  \t\t\treturn &quot;Observation&quot; { effective: MumpsDiagnosis.onset }\n\t\t)\n  ) Measles\n\t\t\twhere Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), Measles.effective.&quot;start&quot;)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, Measles.effective.&quot;start&quot;)\n\ndefine &quot;Rubella Indicators&quot;:\n\t(\n    (\n      [&quot;Observation&quot;: &quot;Rubella Antibody Test (IgG Antibody Titer)&quot;] RubellaTiter\n      \twhere RubellaTiter.status in {'final', 'amended'}\n      \tand RubellaTiter.value &gt;= 1.10\n    )\n\t\tunion (\n      [&quot;Observation&quot;: &quot;Rubella Antibody Test (IgG Antibody presence)&quot;] RubellaIgGPresence\n  \t\t\twhere RubellaIgGPresence.status in {'final', 'amended'}\n  \t\t\tand RubellaIgGPresence.interpretation in &quot;Positive Finding&quot;\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Rubella&quot;] RubellaDiagnosis\n  \t\t\twhere RubellaDiagnosis.verificationStatus ~ 'confirmed'\n  \t\t\treturn &quot;Observation&quot; { effective: RubellaDiagnosis.onset }\n\t\t)\n  ) Rubella\n\t\t\twhere Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), Rubella.effective.&quot;start&quot;)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, Rubella.effective.&quot;start&quot;)\n\ndefine &quot;Three Hib Vaccinations&quot;:\n\tfrom\n\t\t&quot;Hib Immunizations or Procedures&quot; HiBVaccination1,\n\t\t&quot;Hib Immunizations or Procedures&quot; HiBVaccination2,\n\t\t&quot;Hib Immunizations or Procedures&quot; HiBVaccination3\n\t\twhere HiBVaccination2.date 1 day or more after day of HiBVaccination1.date\n\t\t\tand HiBVaccination3.date 1 day or more after day of HiBVaccination2.date\n\t\treturn HiBVaccination1\n\ndefine &quot;Hib Immunizations or Procedures&quot;:\n\t[&quot;Immunization&quot;: &quot;Haemophilus Influenzae Type B (HiB) Vaccine&quot;] HibVaccination\n\t\twhere HibVaccination.status ~ 'completed'\n\t\tand ( Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), HibVaccination.date) &gt;= 42 )\n\t\tand (\n      Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), HibVaccination.date)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, HibVaccination.date)\n    )\n\ndefine &quot;Hib Numerator Inclusion Conditions&quot;:\n\t[&quot;Condition&quot;: &quot;Anaphylaxis due to Haemophilus influenzae type b vaccine (disorder)&quot;] HibReaction\n\t\twhere HibReaction.verificationStatus ~ 'confirmed'\n\t\t\tand (\n        Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), HibReaction.onset.&quot;start&quot;)\n          &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, HibReaction.onset.&quot;start&quot;)\n      )\n\ndefine &quot;Three Hepatitis B Vaccinations&quot;:\n\tfrom\n\t\t&quot;Hepatitis B Immunizations or Procedures&quot; HepatitisBVaccination1,\n\t\t&quot;Hepatitis B Immunizations or Procedures&quot; HepatitisBVaccination2,\n\t\t&quot;Hepatitis B Immunizations or Procedures&quot; HepatitisBVaccination3\n\t\twhere HepatitisBVaccination2.date 1 day or more after day of HepatitisBVaccination1.date\n\t\t\tand HepatitisBVaccination3.date 1 day or more after day of HepatitisBVaccination2.date\n\t\treturn HepatitisBVaccination1\n\ndefine &quot;Hepatitis B Immunizations or Procedures&quot;:\n\t[&quot;Immunization&quot;: &quot;Hepatitis B Vaccine&quot;] HepatitisBVaccination\n\t\twhere HepatitisBVaccination.status = 'completed'\n\t\tand (\n      Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), HepatitisBVaccination.date)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, HepatitisBVaccination.date)\n    )\n\ndefine &quot;Hepatitis B Numerator Inclusion Conditions&quot;:\n\t(\n    (\n      [&quot;Observation&quot;: &quot;Anti Hepatitis B Virus Surface Ab&quot;] HepatitisBAntigenTest\n      \twhere HepatitisBAntigenTest.status in {'final', 'amended'}\n      \tand HepatitisBAntigenTest.interpretation in &quot;Positive Finding&quot;\n    )\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Anaphylaxis due to Hepatitis B vaccine (disorder)&quot;] HepatitisBReaction\n\t\t\t\twhere HepatitisBReaction.verificationStatus ~ 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective:  HepatitisBReaction.onset }\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Anaphylactic Reaction to Common Baker's Yeast&quot;] YeastReaction\n\t\t\t\twhere YeastReaction.verificationStatus ~ 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective:  YeastReaction.onset }\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Hepatitis B&quot;] HepatitisBDiagnosis\n\t\t\t\twhere HepatitisBDiagnosis.verificationStatus = 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective:  HepatitisBDiagnosis.onset }\n\t\t)\n  ) HepBConditions\n\t\t\twhere (\n        Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), HepBConditions.effective.&quot;start&quot;)\n          &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, HepBConditions.effective.&quot;start&quot;)\n      )\n\ndefine &quot;One Chicken Pox Vaccination&quot;:\n\t[&quot;Immunization&quot;: &quot;Varicella Zoster Vaccine (VZV)&quot;] ChickenPoxVaccination\n\t\twhere ChickenPoxVaccination.status ~ 'completed'\n\t\tand (\n      Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), ChickenPoxVaccination.date)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, ChickenPoxVaccination.date)\n    )\n\ndefine &quot;Varicella Zoster Numerator Inclusion Conditions&quot;:\n\t(\n    (\n      [&quot;Observation&quot;: &quot;Varicella Zoster Antibody Test (IgG Antibody Titer)&quot;] ChickenPoxTiter\n        where ChickenPoxTiter.status in {'final' , 'amended'}\n          and ChickenPoxTiter.value &gt;= 1.10\n    )\n\t\tunion (\n      [&quot;Observation&quot;: &quot;Varicella Zoster Antibody Test (IgG Antibody Presence)&quot;] ChickenPoxIgGPresence\n\t\t\t\twhere ChickenPoxIgGPresence.status in {'final' , 'amended'}\n\t\t\t\tand ChickenPoxIgGPresence.interpretation in &quot;Positive Finding&quot;\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Disorders of the Immune System&quot;] ImmuneDisorder\n\t\t\t\twhere ImmuneDisorder.verificationStatus ~ 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective: ImmuneDisorder.onset }\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;HIV&quot;] HIV\n\t\t\t\twhere HIV.verificationStatus ~ 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective: HIV.onset }\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Malignant Neoplasm of Lymphatic and Hematopoietic Tissue&quot;] LymphaticMalignantNeoplasm\n\t\t\t\twhere LymphaticMalignantNeoplasm.verificationStatus ~ 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective: LymphaticMalignantNeoplasm.onset }\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Neomycin adverse reaction (disorder)&quot;] NeomycinReaction\n\t\t\t\twhere NeomycinReaction.verificationStatus ~ 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective: NeomycinReaction.onset }\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Varicella Zoster&quot;] VaricellaZoster\n\t\t\t\twhere VaricellaZoster.verificationStatus ~ 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective: VaricellaZoster.onset }\n\t\t)\n  ) VaricellaZosterConditions\n\t\t\twhere (\n        Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), VaricellaZosterConditions.effective.&quot;start&quot;)\n          &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, VaricellaZosterConditions.effective.&quot;start&quot;)\n      )\n\ndefine &quot;Four Pneumococcal Conjugate Vaccinations&quot;:\n\tfrom\n\t\t&quot;Pneumococcal Conjugate Immunizations or Procedures&quot; PneumococcalVaccination1,\n\t\t&quot;Pneumococcal Conjugate Immunizations or Procedures&quot; PneumococcalVaccination2,\n\t\t&quot;Pneumococcal Conjugate Immunizations or Procedures&quot; PneumococcalVaccination3,\n\t\t&quot;Pneumococcal Conjugate Immunizations or Procedures&quot; PneumococcalVaccination4\n  \t\twhere PneumococcalVaccination2.date 1 day or more after day of PneumococcalVaccination1.date\n  \t\t\tand PneumococcalVaccination3.date 1 day or more after day of PneumococcalVaccination2.date\n  \t\t\tand PneumococcalVaccination4.date 1 day or more after day of PneumococcalVaccination3.date\n  \t\treturn PneumococcalVaccination1\n\ndefine &quot;Pneumococcal Conjugate Immunizations or Procedures&quot;:\n  [&quot;Immunization&quot;: &quot;Pneumococcal Conjugate Vaccine&quot;] PneumococcalVaccination\n    where PneumococcalVaccination.status ~ 'completed'\n    and ( Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), PneumococcalVaccination.date) &gt;= 42 )\n    and (\n      Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), PneumococcalVaccination.date)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, PneumococcalVaccination.date)\n    )\n\ndefine &quot;Pneumococcal Conjugate Numerator Inclusion Conditions&quot;:\n\t[&quot;Condition&quot;: &quot;Pneumococcal vaccine adverse reaction (disorder)&quot;] PneumococcalReaction\n\t\twhere PneumococcalReaction.verificationStatus ~ 'confirmed'\n\t\t\tand (\n        Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), PneumococcalReaction.onset.&quot;start&quot;)\n          &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, PneumococcalReaction.onset.&quot;start&quot;)\n      )\n\ndefine &quot;One Hepatitis A Vaccinations&quot;:\n\t[&quot;Immunization&quot;: &quot;Hepatitis A Vaccine&quot;] HepatitisAVaccination\n\t\twhere HepatitisAVaccination.status ~ 'completed'\n\t\tand (\n      Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), HepatitisAVaccination.date)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, HepatitisAVaccination.date)\n    )\n\ndefine &quot;Hepatitis A Numerator Inclusion Conditions&quot;:\n\t(\n    (\n      [&quot;Observation&quot;: &quot;Anti Hepatitis A IgG Antigen Test&quot;] HepatitisAAntigenTest\n        where HepatitisAAntigenTest.status in {'final' , 'amended'}\n        \tand HepatitisAAntigenTest.interpretation in &quot;Positive Finding&quot;\n    )\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Anaphylactic Reaction to Hepatitis A Vaccine&quot;] HepatitisAReaction\n\t\t\t\twhere HepatitisAReaction.verificationStatus ~ 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective: HepatitisAReaction.onset }\n\t\t)\n\t\tunion (\n      [&quot;Condition&quot;: &quot;Hepatitis A&quot;] HepatitisADiagnosis\n\t\t\t\twhere HepatitisADiagnosis.verificationStatus ~ 'confirmed'\n\t\t\t\treturn &quot;Observation&quot; { effective: HepatitisADiagnosis.onset }\n\t\t)\n  ) HepatitisAConditions\n\t\t\twhere (\n        Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), HepatitisAConditions.effective.&quot;start&quot;)\n          &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, HepatitisAConditions.effective.&quot;start&quot;)\n      )\n\ndefine &quot;Rotavirus 2 Dose Immunizations or Procedures&quot;:\n  [&quot;Immunization&quot;: &quot;Rotavirus, live, monovalent vaccine&quot;] TwoDoseRotavirus\n  \twhere TwoDoseRotavirus.status ~ 'completed'\n  \tand ( Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), TwoDoseRotavirus.date) &gt;= 42 )\n  \tand (\n      Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), TwoDoseRotavirus.date)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, TwoDoseRotavirus.date)\n    )\n\ndefine &quot;Rotavirus 3 Dose Immunizations or Procedures&quot;:\n  [&quot;Immunization&quot;: &quot;Rotavirus Vaccine (3 dose schedule)&quot;] ThreeDoseRotavirus\n  \twhere ThreeDoseRotavirus.status ~ 'completed'\n  \tand ( Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), ThreeDoseRotavirus.date) &gt;= 42 )\n  \tand (\n      Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), ThreeDoseRotavirus.date)\n        &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, ThreeDoseRotavirus.date)\n    )\n\ndefine &quot;Rotavirus 2 or 3 Dose Vaccinations&quot;:\n  &quot;Rotavirus 2 Dose Vaccination Followed by Two Rotavirus 3 Dose Vaccinations&quot;\n  \tunion &quot;Rotavirus 3 Dose Vaccination Followed by A Rotavirus 2 Dose Vaccination and A Rotavirus 3 Dose Vaccination&quot;\n  \tunion &quot;Rotavirus 3 Dose Vaccinations Followed by One Rotavirus 2 Dose Vaccination&quot;\n\ndefine &quot;Rotavirus 2 Dose Vaccination Followed by Two Rotavirus 3 Dose Vaccinations&quot;:\n\tfrom\n\t\t&quot;Rotavirus 2 Dose Immunizations or Procedures&quot; Rotavirus233Vaccination1,\n\t\t&quot;Rotavirus 3 Dose Immunizations or Procedures&quot; Rotavirus233Vaccination2,\n\t\t&quot;Rotavirus 3 Dose Immunizations or Procedures&quot; Rotavirus233Vaccination3\n\t\twhere Rotavirus233Vaccination2.date 1 day or more after day of Rotavirus233Vaccination1.date\n\t\t\tand Rotavirus233Vaccination3.date 1 day or more after day of Rotavirus233Vaccination2.date\n\t\treturn Rotavirus233Vaccination1\n\ndefine &quot;Rotavirus 2 Dose Vaccinations&quot;:\n\tfrom\n\t\t&quot;Rotavirus 2 Dose Immunizations or Procedures&quot; Rotavirus2Vaccination1,\n\t\t&quot;Rotavirus 2 Dose Immunizations or Procedures&quot; Rotavirus2Vaccination2\n\t\twhere Rotavirus2Vaccination2.date 1 day or more after day of Rotavirus2Vaccination1.date\n\t\treturn Rotavirus2Vaccination1\n\ndefine &quot;Rotavirus 3 Dose Vaccination Followed by A Rotavirus 2 Dose Vaccination and A Rotavirus 3 Dose Vaccination&quot;:\n\tfrom\n\t\t&quot;Rotavirus 3 Dose Immunizations or Procedures&quot; Rotavirus323Vaccination1,\n\t\t&quot;Rotavirus 2 Dose Immunizations or Procedures&quot; Rotavirus323Vaccination2,\n\t\t&quot;Rotavirus 3 Dose Immunizations or Procedures&quot; Rotavirus323Vaccination3\n\t\twhere Rotavirus323Vaccination2.date 1 day or more after day of Rotavirus323Vaccination1.date\n\t\t\tand Rotavirus323Vaccination3.date 1 day or more after day of Rotavirus323Vaccination2.date\n\t\treturn Rotavirus323Vaccination1\n\ndefine &quot;Rotavirus 3 Dose Vaccinations&quot;:\n\tfrom\n\t\t&quot;Rotavirus 3 Dose Immunizations or Procedures&quot; Rotavirus3Vaccination1,\n\t\t&quot;Rotavirus 3 Dose Immunizations or Procedures&quot; Rotavirus3Vaccination2,\n\t\t&quot;Rotavirus 3 Dose Immunizations or Procedures&quot; Rotavirus3Vaccination3\n\t\twhere Rotavirus3Vaccination2.date 1 day or more after day of Rotavirus3Vaccination1.date\n\t\t\tand Rotavirus3Vaccination3.date 1 day or more after day of Rotavirus3Vaccination2.date\n\t\treturn Rotavirus3Vaccination1\n\ndefine &quot;Rotavirus 3 Dose Vaccinations Followed by One Rotavirus 2 Dose Vaccination&quot;:\n\tfrom\n\t\t&quot;Rotavirus 3 Dose Immunizations or Procedures&quot; Rotavirus332Vaccination1,\n\t\t&quot;Rotavirus 3 Dose Immunizations or Procedures&quot; Rotavirus332Vaccination2,\n\t\t&quot;Rotavirus 2 Dose Immunizations or Procedures&quot; Rotavirus332Vaccination3\n\t\twhere Rotavirus332Vaccination2.date 1 day or more after day of Rotavirus332Vaccination1.date\n\t\t\tand Rotavirus332Vaccination3.date 1 day or more after day of Rotavirus332Vaccination2.date\n\t\treturn Rotavirus332Vaccination1\n\ndefine &quot;Rotavirus Numerator Inclusion Conditions&quot;:\n\t(\n    [&quot;Condition&quot;: &quot;Anaphylaxis due to rotavirus vaccine (disorder)&quot;]\n\t\t\tunion [&quot;Condition&quot;: &quot;Severe Combined Immunodeficiency&quot;]\n\t\t\tunion [&quot;Condition&quot;: &quot;Intussusception&quot;]\n  ) RotavirusConditions\n\t\t\twhere RotavirusConditions.verificationStatus ~ 'confirmed'\n\t\t\t\tand (\n          Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate),  RotavirusConditions.onset.&quot;start&quot;)\n            &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years,  RotavirusConditions.onset.&quot;start&quot;)\n        )\n\n define &quot;Two Influenza Vaccinations&quot;:\n\tfrom\n\t\t&quot;Influenza Immunizations or Procedures&quot; FluVaccination1,\n\t\t&quot;Influenza Immunizations or Procedures&quot; FluVaccination2\n  \t\twhere FluVaccination2.date 1 day or more after day of FluVaccination1.date\n  \t\treturn FluVaccination1\n\ndefine &quot;Influenza Immunizations or Procedures&quot;:\n  [&quot;Immunization&quot;: &quot;Influenza Vaccine&quot;] InfluenzaVaccination\n  \twhere InfluenzaVaccination.status ~ 'completed'\n  \t\tand ( Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), InfluenzaVaccination.date) &gt;= 180 )\n  \t\tand (\n        Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), InfluenzaVaccination.date)\n          &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, InfluenzaVaccination.date)\n      )\n\ndefine &quot;Influenza Numerator Inclusion Conditions&quot;:\n\t(\n    [&quot;Condition&quot;: &quot;Influenza virus vaccine adverse reaction (disorder)&quot;]\n  \t\tunion [&quot;Condition&quot;: &quot;Malignant Neoplasm of Lymphatic and Hematopoietic Tissue&quot;]\n  \t\tunion [&quot;Condition&quot;: &quot;Neomycin adverse reaction (disorder)&quot;]\n  \t\tunion [&quot;Condition&quot;: &quot;HIV&quot;]\n  \t\tunion [&quot;Condition&quot;: &quot;Disorders of the Immune System&quot;]\n  ) InfluenzaConditions\n\t\t\twhere InfluenzaConditions.verificationStatus ~ 'confirmed'\n\t\t\t\tand (\n          Global.&quot;CalendarAgeInDaysAt&quot;(FHIRHelpers.ToDate(Patient.birthDate), InfluenzaConditions.onset.&quot;start&quot;)\n            &lt;= Global.&quot;CalendarAgeInDaysAt&quot;(Patient.birthDate + 2 years, InfluenzaConditions.onset.&quot;start&quot;)\n        )\n</code></pre>\n                    \n                    \n                </td>\n            </tr>\n        \n    </table>\n</div>"
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "cqf-tooling"
    }
  } ],
  "version": "8.3.000",
  "name": "EXM117_FHIR3",
  "status": "active",
  "experimental": true,
  "type": {
    "coding": [ {
      "system": "http://hl7.org/fhir/codesystem-library-type.html",
      "code": "logic-library"
    } ]
  },
  "dataRequirement": [ {
    "type": "Encounter",
    "codeFilter": [ {
      "path": "type",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001"
      }
    } ]
  }, {
    "type": "Encounter",
    "codeFilter": [ {
      "path": "type",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016"
      }
    } ]
  }, {
    "type": "Encounter",
    "codeFilter": [ {
      "path": "type",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1024"
      }
    } ]
  }, {
    "type": "Encounter",
    "codeFilter": [ {
      "path": "type",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1022"
      }
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1214"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1031"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.114.12.1007"
      }
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1219"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1224"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1001"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1009"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1059"
      }
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1060"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1053"
      }
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1061"
      }
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1062"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1032"
      }
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1063"
      }
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1064"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1037"
      }
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1217"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1216"
      }
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1073"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1032"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1025"
      }
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1170"
      }
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1066"
      }
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1067"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1001"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1009"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1039"
      }
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1221"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1215"
      }
    } ]
  }, {
    "type": "Observation",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.198.12.1033"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1026"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.110.12.1024"
      }
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode"
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1007"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.199.12.1056"
      }
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1223"
      }
    } ]
  }, {
    "type": "Immunization",
    "codeFilter": [ {
      "path": "vaccineCode",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.12.1218"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.108.12.1009"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code"
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1003"
      }
    } ]
  }, {
    "type": "Condition",
    "codeFilter": [ {
      "path": "code",
      "valueSetReference": {
        "reference": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.120.12.1001"
      }
    } ]
  } ],
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBFWE0xMTdfRkhJUjMgdmVyc2lvbiAnOC4zLjAwMCcKCi8qCkNoaWxkaG9vZCBJbW11bml6YXRpb24gU2NyZWVuaW5nIChDSVMpCiovCgp1c2luZyBGSElSIHZlcnNpb24gJzMuMC4wJwoKaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICczLjAuMCcgY2FsbGVkIEZISVJIZWxwZXJzCmluY2x1ZGUgTUFUR2xvYmFsQ29tbW9uRnVuY3Rpb25zX0ZISVIzIHZlcnNpb24gJzIuMC4wMDAnIGNhbGxlZCBHbG9iYWwKaW5jbHVkZSBTdXBwbGVtZW50YWxEYXRhRWxlbWVudHNfRkhJUjMgdmVyc2lvbiAnMS4wLjAnIGNhbGxlZCBTREUKaW5jbHVkZSBIb3NwaWNlX0ZISVIzIHZlcnNpb24gJzEuMC4wMDAnIGNhbGxlZCBIb3NwaWNlCgovKgpEZXNjcmlwdGlvbgpQZXJjZW50YWdlIG9mIGNoaWxkcmVuIDIgeWVhcnMgb2YgYWdlIHdobyBoYWQgZm91ciBkaXBodGhlcmlhLCB0ZXRhbnVzIGFuZCBhY2VsbHVsYXIgcGVydHVzc2lzIChEVGFQKTsgdGhyZWUgcG9saW8gKElQViksIG9uZSBtZWFzbGVzLCBtdW1wcyBhbmQgcnViZWxsYSAoTU1SKTsgdGhyZWUgSCBpbmZsdWVuemEgdHlwZSBCIChIaUIpOyB0aHJlZSBoZXBhdGl0aXMgQiAoSGVwIEIpOyBvbmUgY2hpY2tlbiBwb3ggKFZaVik7IGZvdXIgcG5ldW1vY29jY2FsIGNvbmp1Z2F0ZSAoUENWKTsgb25lIGhlcGF0aXRpcyBBIChIZXAgQSk7IHR3byBvciB0aHJlZSByb3RhdmlydXMgKFJWKTsgYW5kIHR3byBpbmZsdWVuemEgKGZsdSkgdmFjY2luZXMgYnkgdGhlaXIgc2Vjb25kIGJpcnRoZGF5CiovCgpjb2Rlc3lzdGVtICJDUFQiOiAnaHR0cDovL3d3dy5hbWEtYXNzbi5vcmcvJwpjb2Rlc3lzdGVtICJDVlgiOiAnaHR0cDovL3d3dzJhLmNkYy5nb3YvJwpjb2Rlc3lzdGVtICJTTk9NRURDVCI6ICdodHRwOi8vc25vbWVkLmluZm8vc2N0LzczMTAwMDEyNDEwOCcKY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycKCnZhbHVlc2V0ICJBbmFwaHlsYWN0aWMgUmVhY3Rpb24gdG8gQ29tbW9uIEJha2VyJ3MgWWVhc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk5LjEyLjEwMzInCnZhbHVlc2V0ICJBbmFwaHlsYWN0aWMgUmVhY3Rpb24gdG8gRFRhUCBWYWNjaW5lIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjE5OS4xMi4xMDMxJwp2YWx1ZXNldCAiQW5hcGh5bGFjdGljIFJlYWN0aW9uIHRvIEhlcGF0aXRpcyBBIFZhY2NpbmUiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk5LjEyLjEwMjYnCnZhbHVlc2V0ICJBbnRpIEhlcGF0aXRpcyBBIElnRyBBbnRpZ2VuIFRlc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk4LjEyLjEwMzMnCnZhbHVlc2V0ICJBbnRpIEhlcGF0aXRpcyBCIFZpcnVzIFN1cmZhY2UgQWIiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk4LjEyLjEwNzMnCnZhbHVlc2V0ICJEaXNvcmRlcnMgb2YgdGhlIEltbXVuZSBTeXN0ZW0iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTIwLjEyLjEwMDEnCnZhbHVlc2V0ICJEVGFQIFZhY2NpbmUgQWRtaW5pc3RlcmVkIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDIyJwp2YWx1ZXNldCAiRFRhUCBWYWNjaW5lIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjE5Ni4xMi4xMjE0Jwp2YWx1ZXNldCAiRW5jZXBoYWxvcGF0aHkgZHVlIHRvIENoaWxkaG9vZCBWYWNjaW5hdGlvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMTQuMTIuMTAwNycKdmFsdWVzZXQgIkVuY291bnRlciBJbnBhdGllbnQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNjY2LjUuMzA3Jwp2YWx1ZXNldCAiRXRobmljaXR5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExNDIyMi40LjExLjgzNycKdmFsdWVzZXQgIkhhZW1vcGhpbHVzIEluZmx1ZW56YWUgVHlwZSBCIChIaUIpIFZhY2NpbmUgQWRtaW5pc3RlcmVkIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDQzJwp2YWx1ZXNldCAiSGFlbW9waGlsdXMgSW5mbHVlbnphZSBUeXBlIEIgKEhpQikgVmFjY2luZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xOTYuMTIuMTIxNycKdmFsdWVzZXQgIkhlcGF0aXRpcyBBIFZhY2NpbmUgQWRtaW5pc3RlcmVkIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDQxJwp2YWx1ZXNldCAiSGVwYXRpdGlzIEEgVmFjY2luZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xOTYuMTIuMTIxNScKdmFsdWVzZXQgIkhlcGF0aXRpcyBBIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDI0Jwp2YWx1ZXNldCAiSGVwYXRpdGlzIEIgVmFjY2luZSBBZG1pbmlzdGVyZWQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTEwLjEyLjEwNDInCnZhbHVlc2V0ICJIZXBhdGl0aXMgQiBWYWNjaW5lIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjE5Ni4xMi4xMjE2Jwp2YWx1ZXNldCAiSGVwYXRpdGlzIEIiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTEwLjEyLjEwMjUnCnZhbHVlc2V0ICJISVYiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTIwLjEyLjEwMDMnCnZhbHVlc2V0ICJIb21lIEhlYWx0aGNhcmUgU2VydmljZXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwMTYnCnZhbHVlc2V0ICJIb3NwaWNlIGNhcmUgYW1idWxhdG9yeSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExMDguMTUnCnZhbHVlc2V0ICJJbmFjdGl2YXRlZCBQb2xpbyBWYWNjaW5lIChJUFYpIEFkbWluaXN0ZXJlZCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMTAuMTIuMTA0NScKdmFsdWVzZXQgIkluYWN0aXZhdGVkIFBvbGlvIFZhY2NpbmUgKElQVikiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk2LjEyLjEyMTknCnZhbHVlc2V0ICJJbmZsdWVuemEgVmFjY2luZSBBZG1pbmlzdGVyZWQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTEwLjEyLjEwNDQnCnZhbHVlc2V0ICJJbmZsdWVuemEgVmFjY2luZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xOTYuMTIuMTIxOCcKdmFsdWVzZXQgIkludHVzc3VzY2VwdGlvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xOTkuMTIuMTA1NicKdmFsdWVzZXQgIk1hbGlnbmFudCBOZW9wbGFzbSBvZiBMeW1waGF0aWMgYW5kIEhlbWF0b3BvaWV0aWMgVGlzc3VlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwOC4xMi4xMDA5Jwp2YWx1ZXNldCAiTWVhc2xlcyBBbnRpYm9keSBUZXN0IChJZ0cgQW50aWJvZHkgcHJlc2VuY2UpIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjE5OC4xMi4xMDYwJwp2YWx1ZXNldCAiTWVhc2xlcyBBbnRpYm9keSBUZXN0IChJZ0cgQW50aWJvZHkgVGl0ZXIpIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjE5OC4xMi4xMDU5Jwp2YWx1ZXNldCAiTWVhc2xlcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMTAuMTIuMTA1MycKdmFsdWVzZXQgIk1lYXNsZXMsIE11bXBzIGFuZCBSdWJlbGxhIChNTVIpIFZhY2NpbmUgQWRtaW5pc3RlcmVkIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDMxJwp2YWx1ZXNldCAiTWVhc2xlcywgTXVtcHMgYW5kIFJ1YmVsbGEgKE1NUikgVmFjY2luZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xOTYuMTIuMTIyNCcKdmFsdWVzZXQgIk11bXBzIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBwcmVzZW5jZSkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk4LjEyLjEwNjInCnZhbHVlc2V0ICJNdW1wcyBBbnRpYm9keSBUZXN0IChJZ0cgQW50aWJvZHkgVGl0ZXIpIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjE5OC4xMi4xMDYxJwp2YWx1ZXNldCAiTXVtcHMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTEwLjEyLjEwMzInCnZhbHVlc2V0ICJPZmZpY2UgVmlzaXQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwMDEnCnZhbHVlc2V0ICJPTkMgQWRtaW5pc3RyYXRpdmUgU2V4IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMScKdmFsdWVzZXQgIlBheWVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExNDIyMi40LjExLjM1OTEnCnZhbHVlc2V0ICJQbmV1bW9jb2NjYWwgQ29uanVnYXRlIFZhY2NpbmUgQWRtaW5pc3RlcmVkIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDQ2Jwp2YWx1ZXNldCAiUG5ldW1vY29jY2FsIENvbmp1Z2F0ZSBWYWNjaW5lIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjE5Ni4xMi4xMjIxJwp2YWx1ZXNldCAiUG9zaXRpdmUgRmluZGluZyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMjEuMTIuMTAxNicKdmFsdWVzZXQgIlByZXZlbnRpdmUgQ2FyZSBTZXJ2aWNlcywgSW5pdGlhbCBPZmZpY2UgVmlzaXQsIDAgdG8gMTciOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwMjInCnZhbHVlc2V0ICJQcmV2ZW50aXZlIENhcmUsIEVzdGFibGlzaGVkIE9mZmljZSBWaXNpdCwgMCB0byAxNyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDEuMTIuMTAyNCcKdmFsdWVzZXQgIlJhY2UiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTE0MjIyLjQuMTEuODM2Jwp2YWx1ZXNldCAiUm90YXZpcnVzIFZhY2NpbmUgKDMgZG9zZSBzY2hlZHVsZSkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk2LjEyLjEyMjMnCnZhbHVlc2V0ICJSdWJlbGxhIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBwcmVzZW5jZSkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk4LjEyLjEwNjQnCnZhbHVlc2V0ICJSdWJlbGxhIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBUaXRlcikiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk4LjEyLjEwNjMnCnZhbHVlc2V0ICJSdWJlbGxhIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDM3Jwp2YWx1ZXNldCAiU2V2ZXJlIENvbWJpbmVkIEltbXVub2RlZmljaWVuY3kiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTIwLjEyLjEwMDcnCnZhbHVlc2V0ICJWYXJpY2VsbGEgWm9zdGVyIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBQcmVzZW5jZSkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk4LjEyLjEwNjcnCnZhbHVlc2V0ICJWYXJpY2VsbGEgWm9zdGVyIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBUaXRlcikiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTk4LjEyLjEwNjYnCnZhbHVlc2V0ICJWYXJpY2VsbGEgWm9zdGVyIFZhY2NpbmUgKFZaVikgQWRtaW5pc3RlcmVkIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDQwJwp2YWx1ZXNldCAiVmFyaWNlbGxhIFpvc3RlciBWYWNjaW5lIChWWlYpIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjE5Ni4xMi4xMTcwJwp2YWx1ZXNldCAiVmFyaWNlbGxhIFpvc3RlciI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMTAuMTIuMTAzOScKCi8vIEJUUiAtPiBDb2RlcyBtdXN0IGNvbWUgYWZ0ZXIgdmFsdWUgc2V0cwpjb2RlICJCaXJ0aCBkYXRlIjogJzIxMTEyLTgnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdCaXJ0aCBkYXRlJwpjb2RlICJBbmFwaHlsYXhpcyBkdWUgdG8gSGFlbW9waGlsdXMgaW5mbHVlbnphZSB0eXBlIGIgdmFjY2luZSAoZGlzb3JkZXIpIjogJzQzMzYyMTAwMDEyNDEwMScgZnJvbSAiU05PTUVEQ1QiIGRpc3BsYXkgJ0FuYXBoeWxheGlzIGR1ZSB0byBIYWVtb3BoaWx1cyBpbmZsdWVuemFlIHR5cGUgYiB2YWNjaW5lIChkaXNvcmRlciknCmNvZGUgIkFuYXBoeWxheGlzIGR1ZSB0byBIZXBhdGl0aXMgQiB2YWNjaW5lIChkaXNvcmRlcikiOiAnNDMzNjIxMDAwMTI0MTAxJ2Zyb20gIlNOT01FRENUIiBkaXNwbGF5ICdBbmFwaHlsYXhpcyBkdWUgdG8gSGVwYXRpdGlzIEIgdmFjY2luZSAoZGlzb3JkZXIpJwpjb2RlICJBbmFwaHlsYXhpcyBkdWUgdG8gcm90YXZpcnVzIHZhY2NpbmUgKGRpc29yZGVyKSI6ICc0MjgzMzEwMDAxMjQxMDMnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdBbmFwaHlsYXhpcyBkdWUgdG8gcm90YXZpcnVzIHZhY2NpbmUgKGRpc29yZGVyKScKY29kZSAiRGlzY2hhcmdlIHRvIGhlYWx0aGNhcmUgZmFjaWxpdHkgZm9yIGhvc3BpY2UgY2FyZSAocHJvY2VkdXJlKSI6ICc0MjgzNzEwMDAxMjQxMDAnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdEaXNjaGFyZ2UgdG8gaGVhbHRoY2FyZSBmYWNpbGl0eSBmb3IgaG9zcGljZSBjYXJlIChwcm9jZWR1cmUpJwpjb2RlICJEaXNjaGFyZ2UgdG8gaG9tZSBmb3IgaG9zcGljZSBjYXJlIChwcm9jZWR1cmUpIjogJzQyODM2MTAwMDEyNDEwNycgZnJvbSAiU05PTUVEQ1QiIGRpc3BsYXkgJ0Rpc2NoYXJnZSB0byBob21lIGZvciBob3NwaWNlIGNhcmUgKHByb2NlZHVyZSknCmNvZGUgIkluZmx1ZW56YSB2aXJ1cyB2YWNjaW5lIGFkdmVyc2UgcmVhY3Rpb24gKGRpc29yZGVyKSI6ICc0MjAxMTMwMDQnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdJbmZsdWVuemEgdmlydXMgdmFjY2luZSBhZHZlcnNlIHJlYWN0aW9uIChkaXNvcmRlciknCmNvZGUgIk5lb215Y2luIGFkdmVyc2UgcmVhY3Rpb24gKGRpc29yZGVyKSI6ICcyOTI5MjcwMDcnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdOZW9teWNpbiBhZHZlcnNlIHJlYWN0aW9uIChkaXNvcmRlciknCmNvZGUgIlBuZXVtb2NvY2NhbCB2YWNjaW5lIGFkdmVyc2UgcmVhY3Rpb24gKGRpc29yZGVyKSI6ICcyOTMxMTYwMDInIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdQbmV1bW9jb2NjYWwgdmFjY2luZSBhZHZlcnNlIHJlYWN0aW9uIChkaXNvcmRlciknCmNvZGUgIlBvbGlvbXllbGl0aXMgdmFjY2luZSBhZHZlcnNlIHJlYWN0aW9uIChkaXNvcmRlcikiOiAnMjkzMTE3MDA2JyBmcm9tICJTTk9NRURDVCIgZGlzcGxheSAnUG9saW9teWVsaXRpcyB2YWNjaW5lIGFkdmVyc2UgcmVhY3Rpb24gKGRpc29yZGVyKScKY29kZSAiUG9seW15eGluIEIgYWR2ZXJzZSByZWFjdGlvbiAoZGlzb3JkZXIpIjogJzI5Mjk5MjAwNicgZnJvbSAiU05PTUVEQ1QiIGRpc3BsYXkgJ1BvbHlteXhpbiBCIGFkdmVyc2UgcmVhY3Rpb24gKGRpc29yZGVyKScKY29kZSAiUm90YXZpcnVzIHZhY2NpbmUsIGh1bWFuLCBhdHRlbnVhdGVkIChSVjEpLCAyIGRvc2Ugc2NoZWR1bGUsIGxpdmUsIGZvciBvcmFsIHVzZSI6ICc5MDY4MScgZnJvbSAiU05PTUVEQ1QiIGRpc3BsYXkgJ1JvdGF2aXJ1cyB2YWNjaW5lLCBodW1hbiwgYXR0ZW51YXRlZCAoUlYxKSwgMiBkb3NlIHNjaGVkdWxlLCBsaXZlLCBmb3Igb3JhbCB1c2UnCmNvZGUgIlJvdGF2aXJ1cyB2YWNjaW5lLCBwZW50YXZhbGVudCAoUlY1KSwgMyBkb3NlIHNjaGVkdWxlLCBsaXZlLCBmb3Igb3JhbCB1c2UiOiAnOTA2ODAnIGZyb20gIkNQVCIgZGlzcGxheSAnUm90YXZpcnVzIHZhY2NpbmUsIHBlbnRhdmFsZW50IChSVjUpLCAzIGRvc2Ugc2NoZWR1bGUsIGxpdmUsIGZvciBvcmFsIHVzZScKY29kZSAiUm90YXZpcnVzLCBsaXZlLCBtb25vdmFsZW50IHZhY2NpbmUiOiAnMTE5JyBmcm9tICJDVlgiIGRpc3BsYXkgJ1JvdGF2aXJ1cywgbGl2ZSwgbW9ub3ZhbGVudCB2YWNjaW5lJwpjb2RlICJTdHJlcHRvbXljaW4gYWR2ZXJzZSByZWFjdGlvbiAoZGlzb3JkZXIpIjogJzI5MjkyNTAwNCcgZnJvbSAiU05PTUVEQ1QiIGRpc3BsYXkgJ1N0cmVwdG9teWNpbiBhZHZlcnNlIHJlYWN0aW9uIChkaXNvcmRlciknCgovKgpUaGlzIGxpYnJhcnkgaGFzIGFuIGV4cGxpY2l0IHBhcmFtZXRlciB3aGljaCBpcyB0aGUgbWVhc3VyZW1lbnQgeWVhci4KV2hpbGUgdGhlIGFjdHVhbCBwYXJhbWV0ZXIgdHlwZSBhY2NlcHRzIGFsbCBpbnRlcnZhbHMsIHRoaXMgbGlicmFyeQpleHBlY3RzIGl0IHdpbGwgb25seSBiZSBnaXZlbiBhcmd1bWVudHMgY29ycmVzcG9uZGluZyBleGFjdGx5IHRvIG9uZSB3aG9sZQpjYWxlbmRhciB5ZWFyLCBhbmQgaXQgd2lsbCBub3QgYmVoYXZlIHByb3Blcmx5IG90aGVyd2lzZTsgMjAxNyBmb3IgZXhhbXBsZToKSW50ZXJ2YWxbRGF0ZVRpbWUoMjAxNywxLDEsMCwwLDAsMCksIERhdGVUaW1lKDIwMTgsMSwxLDAsMCwwLDApKQoqLwoKcGFyYW1ldGVyICJNZWFzdXJlbWVudCBQZXJpb2QiIEludGVydmFsPERhdGVUaW1lPgovKgpUaGlzIGxpYnJhcnkgZXZhbHVhdGVzIHdpdGggcmVzcGVjdCB0byBleGFjdGx5IDEgY2FuZGlkYXRlIHBhdGllbnQgYXQgYSB0aW1lLAp0aGF0IHBhdGllbnQgYmVpbmcgZ2l2ZW4gYnkgdGhlIHNwZWNpYWwgY29udGV4dCBwYXJhbWV0ZXIgUGF0aWVudC4KKi8KCmNvbnRleHQgUGF0aWVudAoKCmRlZmluZSAiU0RFIEV0aG5pY2l0eSI6CiAgU0RFLiJTREUgRXRobmljaXR5IgoKZGVmaW5lICJTREUgUGF5ZXIiOgogICBTREUuIlNERSBQYXllciIKCmRlZmluZSAiU0RFIFJhY2UiOgogIFNERS4iU0RFIFJhY2UiCgpkZWZpbmUgIlNERSBTZXgiOgogICBTREUuIlNERSBTZXgiCgovKgpJbml0aWFsIFBvcHVsYXRpb24KKi8KCmRlZmluZSAiSW5pdGlhbCBQb3B1bGF0aW9uIjoKCQlHbG9iYWwuIkNhbGVuZGFyQWdlSW5ZZWFyc0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCAgc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpPj0gMQoJCQkJYW5kIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJblllYXJzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksIGVuZCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIik9IDIKCQlhbmQgZXhpc3RzICggIlF1YWxpZnlpbmcgRW5jb3VudGVyIiApCgkJYW5kIChub3QgSG9zcGljZS4iSGFzIEhvc3BpY2UiKCJNZWFzdXJlbWVudCBQZXJpb2QiKSkKCmRlZmluZSAiUXVhbGlmeWluZyBFbmNvdW50ZXIiOgoJKCBbIkVuY291bnRlciI6ICJPZmZpY2UgVmlzaXQiXQoJCXVuaW9uIFsiRW5jb3VudGVyIjogIkhvbWUgSGVhbHRoY2FyZSBTZXJ2aWNlcyJdCgkJdW5pb24gWyJFbmNvdW50ZXIiOiAiUHJldmVudGl2ZSBDYXJlLCBFc3RhYmxpc2hlZCBPZmZpY2UgVmlzaXQsIDAgdG8gMTciXQoJCXVuaW9uIFsiRW5jb3VudGVyIjogIlByZXZlbnRpdmUgQ2FyZSBTZXJ2aWNlcywgSW5pdGlhbCBPZmZpY2UgVmlzaXQsIDAgdG8gMTciXSApIFZhbGlkRW5jb3VudGVyCgkJd2hlcmUgVmFsaWRFbmNvdW50ZXIuc3RhdHVzID0gJ2ZpbmlzaGVkJwoJCQlhbmQgVmFsaWRFbmNvdW50ZXIucGVyaW9kIGR1cmluZyAiTWVhc3VyZW1lbnQgUGVyaW9kIgoKZGVmaW5lICJEZW5vbWluYXRvciI6CgkiSW5pdGlhbCBQb3B1bGF0aW9uIgoKZGVmaW5lICJOdW1lcmF0b3IiOgoKCSggZXhpc3RzICggIkZvdXIgRFRhUCBWYWNjaW5hdGlvbnMiICkKCQkJb3IgZXhpc3RzICggIkRUYVAgTnVtZXJhdG9yIEluY2x1c2lvbiBDb25kaXRpb25zIiApCgkpCgkJYW5kICggZXhpc3RzICggIlRocmVlIFBvbGlvIFZhY2NpbmF0aW9ucyIgKQoJCQkJb3IgZXhpc3RzICggIlBvbGlvIE51bWVyYXRvciBJbmNsdXNpb24gQ29uZGl0aW9ucyIgKQoJCSkKCQlhbmQgKCBleGlzdHMgKCAiT25lIE1NUiBWYWNjaW5hdGlvbnMiICkKCQkJCW9yIGV4aXN0cyAoICJNTVIgTnVtZXJhdG9yIEluY2x1c2lvbiBDb25kaXRpb25zIiApCgkJCQlvciAoIGV4aXN0cyAoICJNZWFzbGVzIEluZGljYXRvcnMiICkKCQkJCQkJYW5kIGV4aXN0cyAoICJNdW1wcyBJbmRpY2F0b3JzIiApCgkJCQkJCWFuZCBleGlzdHMgKCAiUnViZWxsYSBJbmRpY2F0b3JzIiApCgkJCQkpCgkJKQoJCWFuZCAoIGV4aXN0cyAoICJUaHJlZSBIaWIgVmFjY2luYXRpb25zIiApCgkJCQlvciBleGlzdHMgKCAiSGliIE51bWVyYXRvciBJbmNsdXNpb24gQ29uZGl0aW9ucyIgKQoJCSkKCQlhbmQgKCBleGlzdHMgKCAiVGhyZWUgSGVwYXRpdGlzIEIgVmFjY2luYXRpb25zIiApCgkJCQlvciBleGlzdHMgKCAiSGVwYXRpdGlzIEIgTnVtZXJhdG9yIEluY2x1c2lvbiBDb25kaXRpb25zIiApCgkJKQoJCWFuZCAoIGV4aXN0cyAoICJPbmUgQ2hpY2tlbiBQb3ggVmFjY2luYXRpb24iICkKCQkJCW9yIGV4aXN0cyAoICJWYXJpY2VsbGEgWm9zdGVyIE51bWVyYXRvciBJbmNsdXNpb24gQ29uZGl0aW9ucyIgKQoJCSkKCQlhbmQgKCBleGlzdHMgKCAiRm91ciBQbmV1bW9jb2NjYWwgQ29uanVnYXRlIFZhY2NpbmF0aW9ucyIgKQoJCQkJb3IgZXhpc3RzICggIlBuZXVtb2NvY2NhbCBDb25qdWdhdGUgTnVtZXJhdG9yIEluY2x1c2lvbiBDb25kaXRpb25zIiApCgkJKQoJCWFuZCAoIGV4aXN0cyAoICJPbmUgSGVwYXRpdGlzIEEgVmFjY2luYXRpb25zIiApCgkJCQlvciBleGlzdHMgKCAiSGVwYXRpdGlzIEEgTnVtZXJhdG9yIEluY2x1c2lvbiBDb25kaXRpb25zIiApCgkJKQoJCWFuZCAoIGV4aXN0cyAoICJSb3RhdmlydXMgMiBEb3NlIFZhY2NpbmF0aW9ucyIgKQoJCQkJb3IgZXhpc3RzICggIlJvdGF2aXJ1cyBOdW1lcmF0b3IgSW5jbHVzaW9uIENvbmRpdGlvbnMiICkKCQkJCW9yIGV4aXN0cyAoICJSb3RhdmlydXMgMiBvciAzIERvc2UgVmFjY2luYXRpb25zIiApCgkJCQlvciBleGlzdHMgKCAiUm90YXZpcnVzIDMgRG9zZSBWYWNjaW5hdGlvbnMiICkKCQkpCgkJYW5kICggZXhpc3RzICggIlR3byBJbmZsdWVuemEgVmFjY2luYXRpb25zIiApCgkJCQlvciBleGlzdHMgKCAiSW5mbHVlbnphIE51bWVyYXRvciBJbmNsdXNpb24gQ29uZGl0aW9ucyIgIk51bWVyYXRvciBDb21wbGlhbnQgSW5mbHVlbnphIENvbmRpdGlvbnMiICkKCQkpCgovKiBIb3cgZG8gd2UgZW5hY3QgdGhlIEhvc3BpY2UgTGlicmFyeQovLyBCVFIgLT4gQWRkIGFuIGluY2x1ZGUgZm9yIEhvc3BpY2VfRkhJUiwgd2UndmUgYWxyZWFkeSB0cmFuc2xhdGVkIHRoYXQgdG8gRkhJUiwgdGhlbiB5b3UgY2FuIGp1c3QgcmVmZXJlbmNlIGl0CiovCiBkZWZpbmUgIkZvdXIgRFRhUCBWYWNjaW5hdGlvbnMiOgoJZnJvbQoJCSJEVGFQIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgRFRhUFZhY2NpbmF0aW9uMSwKCQkiRFRhUCBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiIERUYVBWYWNjaW5hdGlvbjIsCgkJIkRUYVAgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBEVGFQVmFjY2luYXRpb24zLAoJCSJEVGFQIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgRFRhUFZhY2NpbmF0aW9uNAoJCXdoZXJlIERUYVBWYWNjaW5hdGlvbjIuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBEVGFQVmFjY2luYXRpb24xLmRhdGUKCQkJYW5kIERUYVBWYWNjaW5hdGlvbjMuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBEVGFQVmFjY2luYXRpb24yLmRhdGUKCQkJYW5kIERUYVBWYWNjaW5hdGlvbjQuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBEVGFQVmFjY2luYXRpb24zLmRhdGUKCQlyZXR1cm4gRFRhUFZhY2NpbmF0aW9uMQoKZGVmaW5lICJEVGFQIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyI6CglbIkltbXVuaXphdGlvbiIgOiAiRFRhUCBWYWNjaW5lIl0gRFRhUAoJCXdoZXJlIERUYVAuc3RhdHVzID0gJ2NvbXBsZXRlZCcKCQkJYW5kICggR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBEVGFQLmRhdGUpID49IDQyICkKCQkJYW5kICgKICAgICAgICBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksIERUYVAuZGF0ZSkKICAgICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCBEVGFQLmRhdGUpCiAgICAgICkKCmRlZmluZSAiRFRhUCBOdW1lcmF0b3IgSW5jbHVzaW9uIENvbmRpdGlvbnMiOgoJKAogICAgWyJDb25kaXRpb24iOiAiQW5hcGh5bGFjdGljIFJlYWN0aW9uIHRvIERUYVAgVmFjY2luZSJdCgkJICB1bmlvbiBbIkNvbmRpdGlvbiI6ICJFbmNlcGhhbG9wYXRoeSBkdWUgdG8gQ2hpbGRob29kIFZhY2NpbmF0aW9uIl0KICApIERUYVBDb25kaXRpb25zCgkJICB3aGVyZSBEVGFQQ29uZGl0aW9ucy52ZXJpZmljYXRpb25TdGF0dXMgPSAnY29uZmlybWVkJwoJCQkJYW5kICgKICAgICAgICAgIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgRFRhUENvbmRpdGlvbnMub25zZXQuInN0YXJ0IikKICAgICAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIERUYVBDb25kaXRpb25zLm9uc2V0LiJzdGFydCIpCiAgICAgICAgKQoKZGVmaW5lICJUaHJlZSBQb2xpbyBWYWNjaW5hdGlvbnMiOgoJZnJvbQogICAgIlBvbGlvIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgUG9saW9WYWNjaW5hdGlvbjEsCgkJIlBvbGlvIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgUG9saW9WYWNjaW5hdGlvbjIsCgkJIlBvbGlvIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgUG9saW9WYWNjaW5hdGlvbjMKCQl3aGVyZSBQb2xpb1ZhY2NpbmF0aW9uMi5kYXRlIDEgZGF5IG9yIG1vcmUgYWZ0ZXIgZGF5IG9mIFBvbGlvVmFjY2luYXRpb24xLmRhdGUKCQkJYW5kIFBvbGlvVmFjY2luYXRpb24zLmRhdGUgMSBkYXkgb3IgbW9yZSBhZnRlciBkYXkgb2YgUG9saW9WYWNjaW5hdGlvbjIuZGF0ZQoJCXJldHVybiBQb2xpb1ZhY2NpbmF0aW9uMQoKIGRlZmluZSAiUG9saW8gSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIjoKCVsiSW1tdW5pemF0aW9uIjogIkluYWN0aXZhdGVkIFBvbGlvIFZhY2NpbmUgKElQVikiXSBQb2xpb1ZhY2NpbmF0aW9uCgkJd2hlcmUgUG9saW9WYWNjaW5hdGlvbi5zdGF0dXMgfiAnY29tcGxldGVkJwoJCWFuZCAoR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBQb2xpb1ZhY2NpbmF0aW9uLmRhdGUpID49IDQyICkKCQlhbmQgKAogICAgICBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksIFBvbGlvVmFjY2luYXRpb24uZGF0ZSkKICAgICAgICA8PSBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKFBhdGllbnQuYmlydGhEYXRlICsgMiB5ZWFycywgUG9saW9WYWNjaW5hdGlvbi5kYXRlKQogICAgKQoKZGVmaW5lICJQb2xpbyBOdW1lcmF0b3IgSW5jbHVzaW9uIENvbmRpdGlvbnMiOgoJKCBbIkNvbmRpdGlvbiI6ICJQb2xpb215ZWxpdGlzIHZhY2NpbmUgYWR2ZXJzZSByZWFjdGlvbiAoZGlzb3JkZXIpIl0KCQl1bmlvbiBbIkNvbmRpdGlvbiI6ICJTdHJlcHRvbXljaW4gYWR2ZXJzZSByZWFjdGlvbiAoZGlzb3JkZXIpIl0KCQl1bmlvbiBbIkNvbmRpdGlvbiI6ICJQb2x5bXl4aW4gQiBhZHZlcnNlIHJlYWN0aW9uIChkaXNvcmRlcikiXQoJCXVuaW9uIFsiQ29uZGl0aW9uIjogIk5lb215Y2luIGFkdmVyc2UgcmVhY3Rpb24gKGRpc29yZGVyKSJdICkgUG9saW9Db25kaXRpb25zCgkJCXdoZXJlIFBvbGlvQ29uZGl0aW9ucy52ZXJpZmljYXRpb25TdGF0dXMgfiAnY29uZmlybWVkJwoJCQkJYW5kICgKICAgICAgICAgIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgUG9saW9Db25kaXRpb25zLm9uc2V0LiJzdGFydCIpCiAgICAgICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCBQb2xpb0NvbmRpdGlvbnMub25zZXQuInN0YXJ0IikKICAgICAgICApCgpkZWZpbmUgIk9uZSBNTVIgVmFjY2luYXRpb25zIjoKCVsiSW1tdW5pemF0aW9uIjogIk1lYXNsZXMsIE11bXBzIGFuZCBSdWJlbGxhIChNTVIpIFZhY2NpbmUiXSBNTVJWYWNjaW5hdGlvbgoJCXdoZXJlIE1NUlZhY2NpbmF0aW9uLnN0YXR1cyB+ICdjb21wbGV0ZWQnCgkJYW5kICgKICAgICAgR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBNTVJWYWNjaW5hdGlvbi5kYXRlKQogICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCBNTVJWYWNjaW5hdGlvbi5kYXRlKQogICAgKQoKZGVmaW5lICJNTVIgTnVtZXJhdG9yIEluY2x1c2lvbiBDb25kaXRpb25zIjoKCSgKICAgIFsiQ29uZGl0aW9uIjogIkRpc29yZGVycyBvZiB0aGUgSW1tdW5lIFN5c3RlbSJdCiAgCQl1bmlvbiBbIkNvbmRpdGlvbiI6ICJISVYiXQogIAkJdW5pb24gWyJDb25kaXRpb24iOiAiTWFsaWduYW50IE5lb3BsYXNtIG9mIEx5bXBoYXRpYyBhbmQgSGVtYXRvcG9pZXRpYyBUaXNzdWUiXQogIAkJdW5pb24gWyJDb25kaXRpb24iOiAiTmVvbXljaW4gYWR2ZXJzZSByZWFjdGlvbiAoZGlzb3JkZXIpIl0KICApIE1NUkNvbmRpdGlvbnMKCQkJd2hlcmUgTU1SQ29uZGl0aW9ucy52ZXJpZmljYXRpb25TdGF0dXMgfiAnY29uZmlybWVkJwoJCQkJYW5kICgKICAgICAgICAgIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgTU1SQ29uZGl0aW9ucy5vbnNldC4ic3RhcnQiKQogICAgICAgICAgICA8PSBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKFBhdGllbnQuYmlydGhEYXRlICsgMiB5ZWFycywgTU1SQ29uZGl0aW9ucy5vbnNldC4ic3RhcnQiKQogICAgICAgICkKCmRlZmluZSAiTWVhc2xlcyBJbmRpY2F0b3JzIjoKCSgKICAgICgKICAgICAgWyJPYnNlcnZhdGlvbiI6ICJNZWFzbGVzIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBUaXRlcikiXSBNZWFzbGVzVGl0ZXIKICAgICAgCXdoZXJlIE1lYXNsZXNUaXRlci5zdGF0dXMgaW4geydmaW5hbCcsICdhbWVuZGVkJ30KICAgICAgCWFuZCBNZWFzbGVzVGl0ZXIudmFsdWUgPj0gMS4xMAogICAgKQoJCXVuaW9uICgKICAgICAgWyJPYnNlcnZhdGlvbiI6ICJNZWFzbGVzIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBwcmVzZW5jZSkiXSBNZWFzbGVzSWdHUHJlc2VuY2UKICAJCQl3aGVyZSBNZWFzbGVzSWdHUHJlc2VuY2Uuc3RhdHVzIGluIHsnZmluYWwnLCAnYW1lbmRlZCd9CiAgCQkJYW5kIE1lYXNsZXNJZ0dQcmVzZW5jZS5pbnRlcnByZXRhdGlvbiBpbiAiUG9zaXRpdmUgRmluZGluZyIKCQkpCgkJdW5pb24gKAogICAgICBbIkNvbmRpdGlvbiI6ICJNZWFzbGVzIl0gTWVhc2xlc0RpYWdub3NpcwogIAkJCXdoZXJlIE1lYXNsZXNEaWFnbm9zaXMudmVyaWZpY2F0aW9uU3RhdHVzIH4gJ2NvbmZpcm1lZCcKICAJCQlyZXR1cm4gIk9ic2VydmF0aW9uIiB7IGVmZmVjdGl2ZTogTWVhc2xlc0RpYWdub3Npcy5vbnNldCB9CgkJKQogICkgTWVhc2xlcwoJCQl3aGVyZSBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksIE1lYXNsZXMuZWZmZWN0aXZlLiJzdGFydCIpCiAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIE1lYXNsZXMuZWZmZWN0aXZlLiJzdGFydCIpCgpkZWZpbmUgIk11bXBzIEluZGljYXRvcnMiOgoJKAogICAgKAogICAgICBbIk9ic2VydmF0aW9uIjogIk11bXBzIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBUaXRlcikiXSBNdW1wc1RpdGVyCiAgICAgIAl3aGVyZSBNdW1wc1RpdGVyLnN0YXR1cyBpbiB7J2ZpbmFsJywgJ2FtZW5kZWQnfQogICAgICAJYW5kIE11bXBzVGl0ZXIudmFsdWUgPj0gMS4xMAogICAgKQoJCXVuaW9uICgKICAgICAgWyJPYnNlcnZhdGlvbiI6ICJNdW1wcyBBbnRpYm9keSBUZXN0IChJZ0cgQW50aWJvZHkgcHJlc2VuY2UpIl0gTXVtcHNJZ0dQcmVzZW5jZQogIAkJCXdoZXJlIE11bXBzSWdHUHJlc2VuY2Uuc3RhdHVzIGluIHsnZmluYWwnLCAnYW1lbmRlZCd9CiAgCQkJYW5kIE11bXBzSWdHUHJlc2VuY2UuaW50ZXJwcmV0YXRpb24gaW4gIlBvc2l0aXZlIEZpbmRpbmciCgkJKQoJCXVuaW9uICgKICAgICAgWyJDb25kaXRpb24iOiAiTXVtcHMiXSBNdW1wc0RpYWdub3NpcwogIAkJCXdoZXJlIE11bXBzRGlhZ25vc2lzLnZlcmlmaWNhdGlvblN0YXR1cyB+ICdjb25maXJtZWQnCiAgCQkJcmV0dXJuICJPYnNlcnZhdGlvbiIgeyBlZmZlY3RpdmU6IE11bXBzRGlhZ25vc2lzLm9uc2V0IH0KCQkpCiAgKSBNZWFzbGVzCgkJCXdoZXJlIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgTWVhc2xlcy5lZmZlY3RpdmUuInN0YXJ0IikKICAgICAgICA8PSBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKFBhdGllbnQuYmlydGhEYXRlICsgMiB5ZWFycywgTWVhc2xlcy5lZmZlY3RpdmUuInN0YXJ0IikKCmRlZmluZSAiUnViZWxsYSBJbmRpY2F0b3JzIjoKCSgKICAgICgKICAgICAgWyJPYnNlcnZhdGlvbiI6ICJSdWJlbGxhIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBUaXRlcikiXSBSdWJlbGxhVGl0ZXIKICAgICAgCXdoZXJlIFJ1YmVsbGFUaXRlci5zdGF0dXMgaW4geydmaW5hbCcsICdhbWVuZGVkJ30KICAgICAgCWFuZCBSdWJlbGxhVGl0ZXIudmFsdWUgPj0gMS4xMAogICAgKQoJCXVuaW9uICgKICAgICAgWyJPYnNlcnZhdGlvbiI6ICJSdWJlbGxhIEFudGlib2R5IFRlc3QgKElnRyBBbnRpYm9keSBwcmVzZW5jZSkiXSBSdWJlbGxhSWdHUHJlc2VuY2UKICAJCQl3aGVyZSBSdWJlbGxhSWdHUHJlc2VuY2Uuc3RhdHVzIGluIHsnZmluYWwnLCAnYW1lbmRlZCd9CiAgCQkJYW5kIFJ1YmVsbGFJZ0dQcmVzZW5jZS5pbnRlcnByZXRhdGlvbiBpbiAiUG9zaXRpdmUgRmluZGluZyIKCQkpCgkJdW5pb24gKAogICAgICBbIkNvbmRpdGlvbiI6ICJSdWJlbGxhIl0gUnViZWxsYURpYWdub3NpcwogIAkJCXdoZXJlIFJ1YmVsbGFEaWFnbm9zaXMudmVyaWZpY2F0aW9uU3RhdHVzIH4gJ2NvbmZpcm1lZCcKICAJCQlyZXR1cm4gIk9ic2VydmF0aW9uIiB7IGVmZmVjdGl2ZTogUnViZWxsYURpYWdub3Npcy5vbnNldCB9CgkJKQogICkgUnViZWxsYQoJCQl3aGVyZSBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksIFJ1YmVsbGEuZWZmZWN0aXZlLiJzdGFydCIpCiAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIFJ1YmVsbGEuZWZmZWN0aXZlLiJzdGFydCIpCgpkZWZpbmUgIlRocmVlIEhpYiBWYWNjaW5hdGlvbnMiOgoJZnJvbQoJCSJIaWIgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBIaUJWYWNjaW5hdGlvbjEsCgkJIkhpYiBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiIEhpQlZhY2NpbmF0aW9uMiwKCQkiSGliIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgSGlCVmFjY2luYXRpb24zCgkJd2hlcmUgSGlCVmFjY2luYXRpb24yLmRhdGUgMSBkYXkgb3IgbW9yZSBhZnRlciBkYXkgb2YgSGlCVmFjY2luYXRpb24xLmRhdGUKCQkJYW5kIEhpQlZhY2NpbmF0aW9uMy5kYXRlIDEgZGF5IG9yIG1vcmUgYWZ0ZXIgZGF5IG9mIEhpQlZhY2NpbmF0aW9uMi5kYXRlCgkJcmV0dXJuIEhpQlZhY2NpbmF0aW9uMQoKZGVmaW5lICJIaWIgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIjoKCVsiSW1tdW5pemF0aW9uIjogIkhhZW1vcGhpbHVzIEluZmx1ZW56YWUgVHlwZSBCIChIaUIpIFZhY2NpbmUiXSBIaWJWYWNjaW5hdGlvbgoJCXdoZXJlIEhpYlZhY2NpbmF0aW9uLnN0YXR1cyB+ICdjb21wbGV0ZWQnCgkJYW5kICggR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBIaWJWYWNjaW5hdGlvbi5kYXRlKSA+PSA0MiApCgkJYW5kICgKICAgICAgR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBIaWJWYWNjaW5hdGlvbi5kYXRlKQogICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCBIaWJWYWNjaW5hdGlvbi5kYXRlKQogICAgKQoKZGVmaW5lICJIaWIgTnVtZXJhdG9yIEluY2x1c2lvbiBDb25kaXRpb25zIjoKCVsiQ29uZGl0aW9uIjogIkFuYXBoeWxheGlzIGR1ZSB0byBIYWVtb3BoaWx1cyBpbmZsdWVuemFlIHR5cGUgYiB2YWNjaW5lIChkaXNvcmRlcikiXSBIaWJSZWFjdGlvbgoJCXdoZXJlIEhpYlJlYWN0aW9uLnZlcmlmaWNhdGlvblN0YXR1cyB+ICdjb25maXJtZWQnCgkJCWFuZCAoCiAgICAgICAgR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBIaWJSZWFjdGlvbi5vbnNldC4ic3RhcnQiKQogICAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIEhpYlJlYWN0aW9uLm9uc2V0LiJzdGFydCIpCiAgICAgICkKCmRlZmluZSAiVGhyZWUgSGVwYXRpdGlzIEIgVmFjY2luYXRpb25zIjoKCWZyb20KCQkiSGVwYXRpdGlzIEIgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBIZXBhdGl0aXNCVmFjY2luYXRpb24xLAoJCSJIZXBhdGl0aXMgQiBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiIEhlcGF0aXRpc0JWYWNjaW5hdGlvbjIsCgkJIkhlcGF0aXRpcyBCIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgSGVwYXRpdGlzQlZhY2NpbmF0aW9uMwoJCXdoZXJlIEhlcGF0aXRpc0JWYWNjaW5hdGlvbjIuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBIZXBhdGl0aXNCVmFjY2luYXRpb24xLmRhdGUKCQkJYW5kIEhlcGF0aXRpc0JWYWNjaW5hdGlvbjMuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBIZXBhdGl0aXNCVmFjY2luYXRpb24yLmRhdGUKCQlyZXR1cm4gSGVwYXRpdGlzQlZhY2NpbmF0aW9uMQoKZGVmaW5lICJIZXBhdGl0aXMgQiBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiOgoJWyJJbW11bml6YXRpb24iOiAiSGVwYXRpdGlzIEIgVmFjY2luZSJdIEhlcGF0aXRpc0JWYWNjaW5hdGlvbgoJCXdoZXJlIEhlcGF0aXRpc0JWYWNjaW5hdGlvbi5zdGF0dXMgPSAnY29tcGxldGVkJwoJCWFuZCAoCiAgICAgIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgSGVwYXRpdGlzQlZhY2NpbmF0aW9uLmRhdGUpCiAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIEhlcGF0aXRpc0JWYWNjaW5hdGlvbi5kYXRlKQogICAgKQoKZGVmaW5lICJIZXBhdGl0aXMgQiBOdW1lcmF0b3IgSW5jbHVzaW9uIENvbmRpdGlvbnMiOgoJKAogICAgKAogICAgICBbIk9ic2VydmF0aW9uIjogIkFudGkgSGVwYXRpdGlzIEIgVmlydXMgU3VyZmFjZSBBYiJdIEhlcGF0aXRpc0JBbnRpZ2VuVGVzdAogICAgICAJd2hlcmUgSGVwYXRpdGlzQkFudGlnZW5UZXN0LnN0YXR1cyBpbiB7J2ZpbmFsJywgJ2FtZW5kZWQnfQogICAgICAJYW5kIEhlcGF0aXRpc0JBbnRpZ2VuVGVzdC5pbnRlcnByZXRhdGlvbiBpbiAiUG9zaXRpdmUgRmluZGluZyIKICAgICkKCQl1bmlvbiAoCiAgICAgIFsiQ29uZGl0aW9uIjogIkFuYXBoeWxheGlzIGR1ZSB0byBIZXBhdGl0aXMgQiB2YWNjaW5lIChkaXNvcmRlcikiXSBIZXBhdGl0aXNCUmVhY3Rpb24KCQkJCXdoZXJlIEhlcGF0aXRpc0JSZWFjdGlvbi52ZXJpZmljYXRpb25TdGF0dXMgfiAnY29uZmlybWVkJwoJCQkJcmV0dXJuICJPYnNlcnZhdGlvbiIgeyBlZmZlY3RpdmU6ICBIZXBhdGl0aXNCUmVhY3Rpb24ub25zZXQgfQoJCSkKCQl1bmlvbiAoCiAgICAgIFsiQ29uZGl0aW9uIjogIkFuYXBoeWxhY3RpYyBSZWFjdGlvbiB0byBDb21tb24gQmFrZXIncyBZZWFzdCJdIFllYXN0UmVhY3Rpb24KCQkJCXdoZXJlIFllYXN0UmVhY3Rpb24udmVyaWZpY2F0aW9uU3RhdHVzIH4gJ2NvbmZpcm1lZCcKCQkJCXJldHVybiAiT2JzZXJ2YXRpb24iIHsgZWZmZWN0aXZlOiAgWWVhc3RSZWFjdGlvbi5vbnNldCB9CgkJKQoJCXVuaW9uICgKICAgICAgWyJDb25kaXRpb24iOiAiSGVwYXRpdGlzIEIiXSBIZXBhdGl0aXNCRGlhZ25vc2lzCgkJCQl3aGVyZSBIZXBhdGl0aXNCRGlhZ25vc2lzLnZlcmlmaWNhdGlvblN0YXR1cyA9ICdjb25maXJtZWQnCgkJCQlyZXR1cm4gIk9ic2VydmF0aW9uIiB7IGVmZmVjdGl2ZTogIEhlcGF0aXRpc0JEaWFnbm9zaXMub25zZXQgfQoJCSkKICApIEhlcEJDb25kaXRpb25zCgkJCXdoZXJlICgKICAgICAgICBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksIEhlcEJDb25kaXRpb25zLmVmZmVjdGl2ZS4ic3RhcnQiKQogICAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIEhlcEJDb25kaXRpb25zLmVmZmVjdGl2ZS4ic3RhcnQiKQogICAgICApCgpkZWZpbmUgIk9uZSBDaGlja2VuIFBveCBWYWNjaW5hdGlvbiI6CglbIkltbXVuaXphdGlvbiI6ICJWYXJpY2VsbGEgWm9zdGVyIFZhY2NpbmUgKFZaVikiXSBDaGlja2VuUG94VmFjY2luYXRpb24KCQl3aGVyZSBDaGlja2VuUG94VmFjY2luYXRpb24uc3RhdHVzIH4gJ2NvbXBsZXRlZCcKCQlhbmQgKAogICAgICBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksIENoaWNrZW5Qb3hWYWNjaW5hdGlvbi5kYXRlKQogICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCBDaGlja2VuUG94VmFjY2luYXRpb24uZGF0ZSkKICAgICkKCmRlZmluZSAiVmFyaWNlbGxhIFpvc3RlciBOdW1lcmF0b3IgSW5jbHVzaW9uIENvbmRpdGlvbnMiOgoJKAogICAgKAogICAgICBbIk9ic2VydmF0aW9uIjogIlZhcmljZWxsYSBab3N0ZXIgQW50aWJvZHkgVGVzdCAoSWdHIEFudGlib2R5IFRpdGVyKSJdIENoaWNrZW5Qb3hUaXRlcgogICAgICAgIHdoZXJlIENoaWNrZW5Qb3hUaXRlci5zdGF0dXMgaW4geydmaW5hbCcgLCAnYW1lbmRlZCd9CiAgICAgICAgICBhbmQgQ2hpY2tlblBveFRpdGVyLnZhbHVlID49IDEuMTAKICAgICkKCQl1bmlvbiAoCiAgICAgIFsiT2JzZXJ2YXRpb24iOiAiVmFyaWNlbGxhIFpvc3RlciBBbnRpYm9keSBUZXN0IChJZ0cgQW50aWJvZHkgUHJlc2VuY2UpIl0gQ2hpY2tlblBveElnR1ByZXNlbmNlCgkJCQl3aGVyZSBDaGlja2VuUG94SWdHUHJlc2VuY2Uuc3RhdHVzIGluIHsnZmluYWwnICwgJ2FtZW5kZWQnfQoJCQkJYW5kIENoaWNrZW5Qb3hJZ0dQcmVzZW5jZS5pbnRlcnByZXRhdGlvbiBpbiAiUG9zaXRpdmUgRmluZGluZyIKCQkpCgkJdW5pb24gKAogICAgICBbIkNvbmRpdGlvbiI6ICJEaXNvcmRlcnMgb2YgdGhlIEltbXVuZSBTeXN0ZW0iXSBJbW11bmVEaXNvcmRlcgoJCQkJd2hlcmUgSW1tdW5lRGlzb3JkZXIudmVyaWZpY2F0aW9uU3RhdHVzIH4gJ2NvbmZpcm1lZCcKCQkJCXJldHVybiAiT2JzZXJ2YXRpb24iIHsgZWZmZWN0aXZlOiBJbW11bmVEaXNvcmRlci5vbnNldCB9CgkJKQoJCXVuaW9uICgKICAgICAgWyJDb25kaXRpb24iOiAiSElWIl0gSElWCgkJCQl3aGVyZSBISVYudmVyaWZpY2F0aW9uU3RhdHVzIH4gJ2NvbmZpcm1lZCcKCQkJCXJldHVybiAiT2JzZXJ2YXRpb24iIHsgZWZmZWN0aXZlOiBISVYub25zZXQgfQoJCSkKCQl1bmlvbiAoCiAgICAgIFsiQ29uZGl0aW9uIjogIk1hbGlnbmFudCBOZW9wbGFzbSBvZiBMeW1waGF0aWMgYW5kIEhlbWF0b3BvaWV0aWMgVGlzc3VlIl0gTHltcGhhdGljTWFsaWduYW50TmVvcGxhc20KCQkJCXdoZXJlIEx5bXBoYXRpY01hbGlnbmFudE5lb3BsYXNtLnZlcmlmaWNhdGlvblN0YXR1cyB+ICdjb25maXJtZWQnCgkJCQlyZXR1cm4gIk9ic2VydmF0aW9uIiB7IGVmZmVjdGl2ZTogTHltcGhhdGljTWFsaWduYW50TmVvcGxhc20ub25zZXQgfQoJCSkKCQl1bmlvbiAoCiAgICAgIFsiQ29uZGl0aW9uIjogIk5lb215Y2luIGFkdmVyc2UgcmVhY3Rpb24gKGRpc29yZGVyKSJdIE5lb215Y2luUmVhY3Rpb24KCQkJCXdoZXJlIE5lb215Y2luUmVhY3Rpb24udmVyaWZpY2F0aW9uU3RhdHVzIH4gJ2NvbmZpcm1lZCcKCQkJCXJldHVybiAiT2JzZXJ2YXRpb24iIHsgZWZmZWN0aXZlOiBOZW9teWNpblJlYWN0aW9uLm9uc2V0IH0KCQkpCgkJdW5pb24gKAogICAgICBbIkNvbmRpdGlvbiI6ICJWYXJpY2VsbGEgWm9zdGVyIl0gVmFyaWNlbGxhWm9zdGVyCgkJCQl3aGVyZSBWYXJpY2VsbGFab3N0ZXIudmVyaWZpY2F0aW9uU3RhdHVzIH4gJ2NvbmZpcm1lZCcKCQkJCXJldHVybiAiT2JzZXJ2YXRpb24iIHsgZWZmZWN0aXZlOiBWYXJpY2VsbGFab3N0ZXIub25zZXQgfQoJCSkKICApIFZhcmljZWxsYVpvc3RlckNvbmRpdGlvbnMKCQkJd2hlcmUgKAogICAgICAgIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgVmFyaWNlbGxhWm9zdGVyQ29uZGl0aW9ucy5lZmZlY3RpdmUuInN0YXJ0IikKICAgICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCBWYXJpY2VsbGFab3N0ZXJDb25kaXRpb25zLmVmZmVjdGl2ZS4ic3RhcnQiKQogICAgICApCgpkZWZpbmUgIkZvdXIgUG5ldW1vY29jY2FsIENvbmp1Z2F0ZSBWYWNjaW5hdGlvbnMiOgoJZnJvbQoJCSJQbmV1bW9jb2NjYWwgQ29uanVnYXRlIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgUG5ldW1vY29jY2FsVmFjY2luYXRpb24xLAoJCSJQbmV1bW9jb2NjYWwgQ29uanVnYXRlIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgUG5ldW1vY29jY2FsVmFjY2luYXRpb24yLAoJCSJQbmV1bW9jb2NjYWwgQ29uanVnYXRlIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgUG5ldW1vY29jY2FsVmFjY2luYXRpb24zLAoJCSJQbmV1bW9jb2NjYWwgQ29uanVnYXRlIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgUG5ldW1vY29jY2FsVmFjY2luYXRpb240CiAgCQl3aGVyZSBQbmV1bW9jb2NjYWxWYWNjaW5hdGlvbjIuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBQbmV1bW9jb2NjYWxWYWNjaW5hdGlvbjEuZGF0ZQogIAkJCWFuZCBQbmV1bW9jb2NjYWxWYWNjaW5hdGlvbjMuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBQbmV1bW9jb2NjYWxWYWNjaW5hdGlvbjIuZGF0ZQogIAkJCWFuZCBQbmV1bW9jb2NjYWxWYWNjaW5hdGlvbjQuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBQbmV1bW9jb2NjYWxWYWNjaW5hdGlvbjMuZGF0ZQogIAkJcmV0dXJuIFBuZXVtb2NvY2NhbFZhY2NpbmF0aW9uMQoKZGVmaW5lICJQbmV1bW9jb2NjYWwgQ29uanVnYXRlIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyI6CiAgWyJJbW11bml6YXRpb24iOiAiUG5ldW1vY29jY2FsIENvbmp1Z2F0ZSBWYWNjaW5lIl0gUG5ldW1vY29jY2FsVmFjY2luYXRpb24KICAgIHdoZXJlIFBuZXVtb2NvY2NhbFZhY2NpbmF0aW9uLnN0YXR1cyB+ICdjb21wbGV0ZWQnCiAgICBhbmQgKCBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksIFBuZXVtb2NvY2NhbFZhY2NpbmF0aW9uLmRhdGUpID49IDQyICkKICAgIGFuZCAoCiAgICAgIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgUG5ldW1vY29jY2FsVmFjY2luYXRpb24uZGF0ZSkKICAgICAgICA8PSBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKFBhdGllbnQuYmlydGhEYXRlICsgMiB5ZWFycywgUG5ldW1vY29jY2FsVmFjY2luYXRpb24uZGF0ZSkKICAgICkKCmRlZmluZSAiUG5ldW1vY29jY2FsIENvbmp1Z2F0ZSBOdW1lcmF0b3IgSW5jbHVzaW9uIENvbmRpdGlvbnMiOgoJWyJDb25kaXRpb24iOiAiUG5ldW1vY29jY2FsIHZhY2NpbmUgYWR2ZXJzZSByZWFjdGlvbiAoZGlzb3JkZXIpIl0gUG5ldW1vY29jY2FsUmVhY3Rpb24KCQl3aGVyZSBQbmV1bW9jb2NjYWxSZWFjdGlvbi52ZXJpZmljYXRpb25TdGF0dXMgfiAnY29uZmlybWVkJwoJCQlhbmQgKAogICAgICAgIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgUG5ldW1vY29jY2FsUmVhY3Rpb24ub25zZXQuInN0YXJ0IikKICAgICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCBQbmV1bW9jb2NjYWxSZWFjdGlvbi5vbnNldC4ic3RhcnQiKQogICAgICApCgpkZWZpbmUgIk9uZSBIZXBhdGl0aXMgQSBWYWNjaW5hdGlvbnMiOgoJWyJJbW11bml6YXRpb24iOiAiSGVwYXRpdGlzIEEgVmFjY2luZSJdIEhlcGF0aXRpc0FWYWNjaW5hdGlvbgoJCXdoZXJlIEhlcGF0aXRpc0FWYWNjaW5hdGlvbi5zdGF0dXMgfiAnY29tcGxldGVkJwoJCWFuZCAoCiAgICAgIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgSGVwYXRpdGlzQVZhY2NpbmF0aW9uLmRhdGUpCiAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIEhlcGF0aXRpc0FWYWNjaW5hdGlvbi5kYXRlKQogICAgKQoKZGVmaW5lICJIZXBhdGl0aXMgQSBOdW1lcmF0b3IgSW5jbHVzaW9uIENvbmRpdGlvbnMiOgoJKAogICAgKAogICAgICBbIk9ic2VydmF0aW9uIjogIkFudGkgSGVwYXRpdGlzIEEgSWdHIEFudGlnZW4gVGVzdCJdIEhlcGF0aXRpc0FBbnRpZ2VuVGVzdAogICAgICAgIHdoZXJlIEhlcGF0aXRpc0FBbnRpZ2VuVGVzdC5zdGF0dXMgaW4geydmaW5hbCcgLCAnYW1lbmRlZCd9CiAgICAgICAgCWFuZCBIZXBhdGl0aXNBQW50aWdlblRlc3QuaW50ZXJwcmV0YXRpb24gaW4gIlBvc2l0aXZlIEZpbmRpbmciCiAgICApCgkJdW5pb24gKAogICAgICBbIkNvbmRpdGlvbiI6ICJBbmFwaHlsYWN0aWMgUmVhY3Rpb24gdG8gSGVwYXRpdGlzIEEgVmFjY2luZSJdIEhlcGF0aXRpc0FSZWFjdGlvbgoJCQkJd2hlcmUgSGVwYXRpdGlzQVJlYWN0aW9uLnZlcmlmaWNhdGlvblN0YXR1cyB+ICdjb25maXJtZWQnCgkJCQlyZXR1cm4gIk9ic2VydmF0aW9uIiB7IGVmZmVjdGl2ZTogSGVwYXRpdGlzQVJlYWN0aW9uLm9uc2V0IH0KCQkpCgkJdW5pb24gKAogICAgICBbIkNvbmRpdGlvbiI6ICJIZXBhdGl0aXMgQSJdIEhlcGF0aXRpc0FEaWFnbm9zaXMKCQkJCXdoZXJlIEhlcGF0aXRpc0FEaWFnbm9zaXMudmVyaWZpY2F0aW9uU3RhdHVzIH4gJ2NvbmZpcm1lZCcKCQkJCXJldHVybiAiT2JzZXJ2YXRpb24iIHsgZWZmZWN0aXZlOiBIZXBhdGl0aXNBRGlhZ25vc2lzLm9uc2V0IH0KCQkpCiAgKSBIZXBhdGl0aXNBQ29uZGl0aW9ucwoJCQl3aGVyZSAoCiAgICAgICAgR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBIZXBhdGl0aXNBQ29uZGl0aW9ucy5lZmZlY3RpdmUuInN0YXJ0IikKICAgICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCBIZXBhdGl0aXNBQ29uZGl0aW9ucy5lZmZlY3RpdmUuInN0YXJ0IikKICAgICAgKQoKZGVmaW5lICJSb3RhdmlydXMgMiBEb3NlIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyI6CiAgWyJJbW11bml6YXRpb24iOiAiUm90YXZpcnVzLCBsaXZlLCBtb25vdmFsZW50IHZhY2NpbmUiXSBUd29Eb3NlUm90YXZpcnVzCiAgCXdoZXJlIFR3b0Rvc2VSb3RhdmlydXMuc3RhdHVzIH4gJ2NvbXBsZXRlZCcKICAJYW5kICggR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBUd29Eb3NlUm90YXZpcnVzLmRhdGUpID49IDQyICkKICAJYW5kICgKICAgICAgR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBUd29Eb3NlUm90YXZpcnVzLmRhdGUpCiAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIFR3b0Rvc2VSb3RhdmlydXMuZGF0ZSkKICAgICkKCmRlZmluZSAiUm90YXZpcnVzIDMgRG9zZSBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiOgogIFsiSW1tdW5pemF0aW9uIjogIlJvdGF2aXJ1cyBWYWNjaW5lICgzIGRvc2Ugc2NoZWR1bGUpIl0gVGhyZWVEb3NlUm90YXZpcnVzCiAgCXdoZXJlIFRocmVlRG9zZVJvdGF2aXJ1cy5zdGF0dXMgfiAnY29tcGxldGVkJwogIAlhbmQgKCBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksIFRocmVlRG9zZVJvdGF2aXJ1cy5kYXRlKSA+PSA0MiApCiAgCWFuZCAoCiAgICAgIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgVGhyZWVEb3NlUm90YXZpcnVzLmRhdGUpCiAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIFRocmVlRG9zZVJvdGF2aXJ1cy5kYXRlKQogICAgKQoKZGVmaW5lICJSb3RhdmlydXMgMiBvciAzIERvc2UgVmFjY2luYXRpb25zIjoKICAiUm90YXZpcnVzIDIgRG9zZSBWYWNjaW5hdGlvbiBGb2xsb3dlZCBieSBUd28gUm90YXZpcnVzIDMgRG9zZSBWYWNjaW5hdGlvbnMiCiAgCXVuaW9uICJSb3RhdmlydXMgMyBEb3NlIFZhY2NpbmF0aW9uIEZvbGxvd2VkIGJ5IEEgUm90YXZpcnVzIDIgRG9zZSBWYWNjaW5hdGlvbiBhbmQgQSBSb3RhdmlydXMgMyBEb3NlIFZhY2NpbmF0aW9uIgogIAl1bmlvbiAiUm90YXZpcnVzIDMgRG9zZSBWYWNjaW5hdGlvbnMgRm9sbG93ZWQgYnkgT25lIFJvdGF2aXJ1cyAyIERvc2UgVmFjY2luYXRpb24iCgpkZWZpbmUgIlJvdGF2aXJ1cyAyIERvc2UgVmFjY2luYXRpb24gRm9sbG93ZWQgYnkgVHdvIFJvdGF2aXJ1cyAzIERvc2UgVmFjY2luYXRpb25zIjoKCWZyb20KCQkiUm90YXZpcnVzIDIgRG9zZSBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiIFJvdGF2aXJ1czIzM1ZhY2NpbmF0aW9uMSwKCQkiUm90YXZpcnVzIDMgRG9zZSBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiIFJvdGF2aXJ1czIzM1ZhY2NpbmF0aW9uMiwKCQkiUm90YXZpcnVzIDMgRG9zZSBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiIFJvdGF2aXJ1czIzM1ZhY2NpbmF0aW9uMwoJCXdoZXJlIFJvdGF2aXJ1czIzM1ZhY2NpbmF0aW9uMi5kYXRlIDEgZGF5IG9yIG1vcmUgYWZ0ZXIgZGF5IG9mIFJvdGF2aXJ1czIzM1ZhY2NpbmF0aW9uMS5kYXRlCgkJCWFuZCBSb3RhdmlydXMyMzNWYWNjaW5hdGlvbjMuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBSb3RhdmlydXMyMzNWYWNjaW5hdGlvbjIuZGF0ZQoJCXJldHVybiBSb3RhdmlydXMyMzNWYWNjaW5hdGlvbjEKCmRlZmluZSAiUm90YXZpcnVzIDIgRG9zZSBWYWNjaW5hdGlvbnMiOgoJZnJvbQoJCSJSb3RhdmlydXMgMiBEb3NlIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgUm90YXZpcnVzMlZhY2NpbmF0aW9uMSwKCQkiUm90YXZpcnVzIDIgRG9zZSBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiIFJvdGF2aXJ1czJWYWNjaW5hdGlvbjIKCQl3aGVyZSBSb3RhdmlydXMyVmFjY2luYXRpb24yLmRhdGUgMSBkYXkgb3IgbW9yZSBhZnRlciBkYXkgb2YgUm90YXZpcnVzMlZhY2NpbmF0aW9uMS5kYXRlCgkJcmV0dXJuIFJvdGF2aXJ1czJWYWNjaW5hdGlvbjEKCmRlZmluZSAiUm90YXZpcnVzIDMgRG9zZSBWYWNjaW5hdGlvbiBGb2xsb3dlZCBieSBBIFJvdGF2aXJ1cyAyIERvc2UgVmFjY2luYXRpb24gYW5kIEEgUm90YXZpcnVzIDMgRG9zZSBWYWNjaW5hdGlvbiI6Cglmcm9tCgkJIlJvdGF2aXJ1cyAzIERvc2UgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBSb3RhdmlydXMzMjNWYWNjaW5hdGlvbjEsCgkJIlJvdGF2aXJ1cyAyIERvc2UgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBSb3RhdmlydXMzMjNWYWNjaW5hdGlvbjIsCgkJIlJvdGF2aXJ1cyAzIERvc2UgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBSb3RhdmlydXMzMjNWYWNjaW5hdGlvbjMKCQl3aGVyZSBSb3RhdmlydXMzMjNWYWNjaW5hdGlvbjIuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBSb3RhdmlydXMzMjNWYWNjaW5hdGlvbjEuZGF0ZQoJCQlhbmQgUm90YXZpcnVzMzIzVmFjY2luYXRpb24zLmRhdGUgMSBkYXkgb3IgbW9yZSBhZnRlciBkYXkgb2YgUm90YXZpcnVzMzIzVmFjY2luYXRpb24yLmRhdGUKCQlyZXR1cm4gUm90YXZpcnVzMzIzVmFjY2luYXRpb24xCgpkZWZpbmUgIlJvdGF2aXJ1cyAzIERvc2UgVmFjY2luYXRpb25zIjoKCWZyb20KCQkiUm90YXZpcnVzIDMgRG9zZSBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiIFJvdGF2aXJ1czNWYWNjaW5hdGlvbjEsCgkJIlJvdGF2aXJ1cyAzIERvc2UgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBSb3RhdmlydXMzVmFjY2luYXRpb24yLAoJCSJSb3RhdmlydXMgMyBEb3NlIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgUm90YXZpcnVzM1ZhY2NpbmF0aW9uMwoJCXdoZXJlIFJvdGF2aXJ1czNWYWNjaW5hdGlvbjIuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBSb3RhdmlydXMzVmFjY2luYXRpb24xLmRhdGUKCQkJYW5kIFJvdGF2aXJ1czNWYWNjaW5hdGlvbjMuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBSb3RhdmlydXMzVmFjY2luYXRpb24yLmRhdGUKCQlyZXR1cm4gUm90YXZpcnVzM1ZhY2NpbmF0aW9uMQoKZGVmaW5lICJSb3RhdmlydXMgMyBEb3NlIFZhY2NpbmF0aW9ucyBGb2xsb3dlZCBieSBPbmUgUm90YXZpcnVzIDIgRG9zZSBWYWNjaW5hdGlvbiI6Cglmcm9tCgkJIlJvdGF2aXJ1cyAzIERvc2UgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBSb3RhdmlydXMzMzJWYWNjaW5hdGlvbjEsCgkJIlJvdGF2aXJ1cyAzIERvc2UgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBSb3RhdmlydXMzMzJWYWNjaW5hdGlvbjIsCgkJIlJvdGF2aXJ1cyAyIERvc2UgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBSb3RhdmlydXMzMzJWYWNjaW5hdGlvbjMKCQl3aGVyZSBSb3RhdmlydXMzMzJWYWNjaW5hdGlvbjIuZGF0ZSAxIGRheSBvciBtb3JlIGFmdGVyIGRheSBvZiBSb3RhdmlydXMzMzJWYWNjaW5hdGlvbjEuZGF0ZQoJCQlhbmQgUm90YXZpcnVzMzMyVmFjY2luYXRpb24zLmRhdGUgMSBkYXkgb3IgbW9yZSBhZnRlciBkYXkgb2YgUm90YXZpcnVzMzMyVmFjY2luYXRpb24yLmRhdGUKCQlyZXR1cm4gUm90YXZpcnVzMzMyVmFjY2luYXRpb24xCgpkZWZpbmUgIlJvdGF2aXJ1cyBOdW1lcmF0b3IgSW5jbHVzaW9uIENvbmRpdGlvbnMiOgoJKAogICAgWyJDb25kaXRpb24iOiAiQW5hcGh5bGF4aXMgZHVlIHRvIHJvdGF2aXJ1cyB2YWNjaW5lIChkaXNvcmRlcikiXQoJCQl1bmlvbiBbIkNvbmRpdGlvbiI6ICJTZXZlcmUgQ29tYmluZWQgSW1tdW5vZGVmaWNpZW5jeSJdCgkJCXVuaW9uIFsiQ29uZGl0aW9uIjogIkludHVzc3VzY2VwdGlvbiJdCiAgKSBSb3RhdmlydXNDb25kaXRpb25zCgkJCXdoZXJlIFJvdGF2aXJ1c0NvbmRpdGlvbnMudmVyaWZpY2F0aW9uU3RhdHVzIH4gJ2NvbmZpcm1lZCcKCQkJCWFuZCAoCiAgICAgICAgICBHbG9iYWwuIkNhbGVuZGFyQWdlSW5EYXlzQXQiKEZISVJIZWxwZXJzLlRvRGF0ZShQYXRpZW50LmJpcnRoRGF0ZSksICBSb3RhdmlydXNDb25kaXRpb25zLm9uc2V0LiJzdGFydCIpCiAgICAgICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCAgUm90YXZpcnVzQ29uZGl0aW9ucy5vbnNldC4ic3RhcnQiKQogICAgICAgICkKCiBkZWZpbmUgIlR3byBJbmZsdWVuemEgVmFjY2luYXRpb25zIjoKCWZyb20KCQkiSW5mbHVlbnphIEltbXVuaXphdGlvbnMgb3IgUHJvY2VkdXJlcyIgRmx1VmFjY2luYXRpb24xLAoJCSJJbmZsdWVuemEgSW1tdW5pemF0aW9ucyBvciBQcm9jZWR1cmVzIiBGbHVWYWNjaW5hdGlvbjIKICAJCXdoZXJlIEZsdVZhY2NpbmF0aW9uMi5kYXRlIDEgZGF5IG9yIG1vcmUgYWZ0ZXIgZGF5IG9mIEZsdVZhY2NpbmF0aW9uMS5kYXRlCiAgCQlyZXR1cm4gRmx1VmFjY2luYXRpb24xCgpkZWZpbmUgIkluZmx1ZW56YSBJbW11bml6YXRpb25zIG9yIFByb2NlZHVyZXMiOgogIFsiSW1tdW5pemF0aW9uIjogIkluZmx1ZW56YSBWYWNjaW5lIl0gSW5mbHVlbnphVmFjY2luYXRpb24KICAJd2hlcmUgSW5mbHVlbnphVmFjY2luYXRpb24uc3RhdHVzIH4gJ2NvbXBsZXRlZCcKICAJCWFuZCAoIEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgSW5mbHVlbnphVmFjY2luYXRpb24uZGF0ZSkgPj0gMTgwICkKICAJCWFuZCAoCiAgICAgICAgR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBJbmZsdWVuemFWYWNjaW5hdGlvbi5kYXRlKQogICAgICAgICAgPD0gR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihQYXRpZW50LmJpcnRoRGF0ZSArIDIgeWVhcnMsIEluZmx1ZW56YVZhY2NpbmF0aW9uLmRhdGUpCiAgICAgICkKCmRlZmluZSAiSW5mbHVlbnphIE51bWVyYXRvciBJbmNsdXNpb24gQ29uZGl0aW9ucyI6CgkoCiAgICBbIkNvbmRpdGlvbiI6ICJJbmZsdWVuemEgdmlydXMgdmFjY2luZSBhZHZlcnNlIHJlYWN0aW9uIChkaXNvcmRlcikiXQogIAkJdW5pb24gWyJDb25kaXRpb24iOiAiTWFsaWduYW50IE5lb3BsYXNtIG9mIEx5bXBoYXRpYyBhbmQgSGVtYXRvcG9pZXRpYyBUaXNzdWUiXQogIAkJdW5pb24gWyJDb25kaXRpb24iOiAiTmVvbXljaW4gYWR2ZXJzZSByZWFjdGlvbiAoZGlzb3JkZXIpIl0KICAJCXVuaW9uIFsiQ29uZGl0aW9uIjogIkhJViJdCiAgCQl1bmlvbiBbIkNvbmRpdGlvbiI6ICJEaXNvcmRlcnMgb2YgdGhlIEltbXVuZSBTeXN0ZW0iXQogICkgSW5mbHVlbnphQ29uZGl0aW9ucwoJCQl3aGVyZSBJbmZsdWVuemFDb25kaXRpb25zLnZlcmlmaWNhdGlvblN0YXR1cyB+ICdjb25maXJtZWQnCgkJCQlhbmQgKAogICAgICAgICAgR2xvYmFsLiJDYWxlbmRhckFnZUluRGF5c0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBJbmZsdWVuemFDb25kaXRpb25zLm9uc2V0LiJzdGFydCIpCiAgICAgICAgICAgIDw9IEdsb2JhbC4iQ2FsZW5kYXJBZ2VJbkRheXNBdCIoUGF0aWVudC5iaXJ0aERhdGUgKyAyIHllYXJzLCBJbmZsdWVuemFDb25kaXRpb25zLm9uc2V0LiJzdGFydCIpCiAgICAgICAgKQo="
  } ]
}