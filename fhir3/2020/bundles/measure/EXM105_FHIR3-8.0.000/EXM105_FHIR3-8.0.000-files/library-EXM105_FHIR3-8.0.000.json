{
  "resourceType": "Library",
  "id": "library-EXM105-FHIR3-8.0.000",
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><table class=\"grid dict\"><tr><th scope=\"row\"><b>Id: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\">library-EXM105-FHIR3-8.0.000</td></tr><tr><th scope=\"row\"><b>Type: </b></th><td style=\"padding-right: 25px;\"> Logic Library </td></tr><tr><th scope=\"row\"><b>Version: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\">8.0.000</td></tr><tr><th scope=\"row\"><b>Status: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\">active</td></tr><tr style=\"vertical-align: top;\"><th rowspan=\"4\" scope=\"row\"><b>Related: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span><span style=\"padding-left: 25px;\"><b>reference: </b><span>Library/library-FHIRHelpers-3.0.0</span></span></span></p></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span><span style=\"padding-left: 25px;\"><b>reference: </b><span>Library/library-MATGlobalCommonFunctions-FHIR3-4.0.000</span></span></span></p></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span><span style=\"padding-left: 25px;\"><b>reference: </b><span>Library/library-SupplementalDataElements-FHIR3-1.0.0</span></span></span></p></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><p style=\"margin-bottom: 5px;\"><b>type: </b><span>depends-on</span></p><p style=\"margin-bottom: 5px;\"><b>Resource: </b><br/><span><span style=\"padding-left: 25px;\"><b>reference: </b><span>Library/library-TJCOverall-FHIR3-3.6.000</span></span></span></p></td></tr><tr style=\"vertical-align: top;\"><th rowspan=\"8\" scope=\"row\"><b>Data Requirements: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Encounter</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>type</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.424</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Patient</span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>AllergyIntolerance</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.423</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>MedicationRequest</span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>MedicationRequest</span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Observation</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.215</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>ProcedureRequest</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><td style=\"padding-left: 25px; padding-right: 25px;\"><div><p style=\"margin-bottom: 5px;\"><b>type: </b><span>Procedure</span></p><p style=\"margin-bottom: 5px;\"><b>code filter:</b><br/><span style=\"padding-left: 25px;\"><b>path: </b><span>code</span></span><br/><span style=\"padding-left: 25px;\"><b>valueset: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45</span></span></p></div></td></tr><tr style=\"vertical-align: top;\"><th scope=\"row\"><b>Content: </b></th><td style=\"padding-left: 25px; padding-right: 25px;\"><b>type: </b><span>text/cql</span></td></tr><tr><td colspan=\"2\" style=\"padding-left: 25px; padding-right: 25px;\"><pre><code class=\"language-cql\">library EXM105_FHIR3 version '8.0.000'\n\n/*\nBased on CMS105v8 - Discharged on Statin Medication\nAuthor: TJC\n*/\n\nusing FHIR version '3.0.0'\n\ninclude FHIRHelpers version '3.0.0'\ninclude MATGlobalCommonFunctions_FHIR3 version '4.0.000' called Global\ninclude SupplementalDataElements_FHIR3 version '1.0.0' called SDE\ninclude TJCOverall_FHIR3 version '3.6.000' called TJC\n\ncodesystem &quot;LOINC&quot;: 'http://loinc.org'\ncodesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct/731000124108'\ncodesystem &quot;Diagnosis Role&quot;: 'http://hl7.org/fhir/diagnosis-role'\ncodesystem &quot;RequestIntent&quot;: 'http://hl7.org/fhir/request-intent'\n\nvalueset &quot;Comfort Measures&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45'\nvalueset &quot;Discharged to Health Care Facility for Hospice Care&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.207'\nvalueset &quot;Discharge To Acute Care Facility&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.87'\nvalueset &quot;Discharged to Home for Hospice Care&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.209'\nvalueset &quot;Emergency Department Visit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292'\nvalueset &quot;Ethnicity&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.837'\nvalueset &quot;Ischemic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247'\nvalueset &quot;Hemorrhagic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212'\nvalueset &quot;LDL-c&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.215'\nvalueset &quot;Left Against Medical Advice&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.308'\nvalueset &quot;Medical Reason&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473'\nvalueset &quot;Non-Elective Inpatient Encounter&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.424'\nvalueset &quot;Observation Services&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143'\nvalueset &quot;ONC Administrative Sex&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1'\nvalueset &quot;Patient Expired&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.309'\nvalueset &quot;Patient Refusal&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93'\nvalueset &quot;Payer&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591'\nvalueset &quot;Race&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.836'\nvalueset &quot;Statin Allergen&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.423'\nvalueset &quot;Statin Grouper&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.19'\n\n// TODO: Use NLM VSAC Canonical URLs\ncode &quot;Birthdate&quot;: '21112-8' from &quot;LOINC&quot; display 'Birth date'\ncode &quot;Dead&quot;: '419099009' from &quot;SNOMEDCT&quot; display 'Dead'\n//code &quot;Medication-dischargeMedication&quot;: '8654-6' from &quot;LOINC&quot; display 'Hospital Discharge medications'\n\ncode &quot;Billing&quot;: 'billing' from &quot;Diagnosis Role&quot; display 'Billing'\ncode &quot;Order&quot;: 'order' from &quot;RequestIntent&quot; display 'Order'\n\nparameter &quot;Measurement Period&quot; Interval&lt;DateTime&gt;\n  default Interval[@2019-01-01T00:00:00.0, @2020-01-01T00:00:00.0)\n\ncontext Patient\n\ndefine &quot;SDE Ethnicity&quot;:\n  SDE.&quot;SDE Ethnicity&quot;\n\ndefine &quot;SDE Payer&quot;:\n\tSDE.&quot;SDE Payer&quot;\n\ndefine &quot;SDE Race&quot;:\n  SDE.&quot;SDE Race&quot;\n\ndefine &quot;SDE Sex&quot;:\n\tSDE.&quot;SDE Sex&quot;\n\ndefine &quot;Initial Population&quot;:\n\t&quot;Encounter with Principal Diagnosis and Age&quot;\n\ndefine &quot;Encounter with Principal Diagnosis and Age&quot;:\n\t&quot;All Stroke Encounter&quot; AllStrokeEncounter\n\t\twith [&quot;Patient&quot;] BirthDate\n\t\t\tsuch that AgeInYearsAt(AllStrokeEncounter.period.start) &gt;= 18\n\ndefine &quot;All Stroke Encounter&quot;:\n\t&quot;Non Elective Inpatient Encounter&quot; NonElectiveEncounter\n\t\twhere Global.PrincipalDiagnosis(NonElectiveEncounter).code in &quot;Hemorrhagic Stroke&quot;\n\t\tor Global.PrincipalDiagnosis(NonElectiveEncounter).code in &quot;Ischemic Stroke&quot;\n\ndefine &quot;Non Elective Inpatient Encounter&quot;:\n\t[&quot;Encounter&quot;: &quot;Non-Elective Inpatient Encounter&quot;] NonElectiveEncounter\n\t\twhere Global.&quot;LengthInDays&quot;(NonElectiveEncounter.period)&lt;= 120\n\t\t\tand NonElectiveEncounter.period ends during &quot;Measurement Period&quot;\n\ndefine &quot;Denominator&quot;:\n\tTJC.&quot;Ischemic Stroke Encounter&quot;\n\ndefine &quot;Statin Allergy&quot;:\n\t[&quot;AllergyIntolerance&quot;: &quot;Statin Allergen&quot;]\n\ndefine &quot;Numerator&quot;:\n\t&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n\t\twith &quot;Statin at Discharge&quot; DischargeStatin\n\t\t\tsuch that DischargeStatin.authoredOn during IschemicStrokeEncounter.period\n\ndefine &quot;Ischemic Stroke Encounter&quot;:\n\t&quot;Encounter with Principal Diagnosis and Age&quot; EncounterWithAge\n\t\twhere Global.PrincipalDiagnosis(EncounterWithAge).code in &quot;Ischemic Stroke&quot;\n\n// Medication orders at discharge, how do we know that these are ordered with the intent to be taken discharge rather than the inpatient stay.\ndefine &quot;Statin at Discharge&quot;:\n\t[&quot;MedicationRequest&quot;] Statin\n\t\twhere (Statin.medication as CodeableConcept) in &quot;Statin Grouper&quot;\n\t\t\tand Statin.intent = 'order'\n\ndefine &quot;Statin Not Given at Discharge&quot;:\n\t[&quot;MedicationRequest&quot;] NoStatin\n\t\twhere (NoStatin.medication as CodeableConcept) in &quot;Statin Grouper&quot;\n\t\t\tand (singleton from NoStatin.reasonCode in &quot;Medical Reason&quot;\n\t\t\t\tor singleton from NoStatin.reasonCode in &quot;Patient Refusal&quot;)\n\n//Folling function copied from MATGlobalCommonFunctions 2.0 in cqf-measures github repo\ndefine function &quot;Normalize Onset&quot;(onset Choice&lt;FHIR.dateTime, FHIR.Age, FHIR.Period, FHIR.Range, FHIR.string&gt;):\n\tif onset is FHIR.dateTime then Interval[onset.value, onset.value]\n\telse if onset is FHIR.Period then FHIRHelpers.ToInterval(onset as FHIR.Period)\n\telse null\n\ndefine &quot;Encounter with Max LDL less than 70 mg per dL&quot;:\n\t&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n\t\twhere Max([&quot;Observation&quot;: &quot;LDL-c&quot;] Ldl\n\t\t\t\twhere Ldl.issued during Interval[IschemicStrokeEncounter.period.start - 30 days,IschemicStrokeEncounter.period.end]\n\t\t\t\treturn (Ldl.value as Quantity)\n\t\t) &lt; 70\n\ndefine &quot;Denominator Exception&quot;:\n\t(&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n\t\twith &quot;Statin Not Given at Discharge&quot; NoDischargeStatin\n\t\t\tsuch that NoDischargeStatin.authoredOn during IschemicStrokeEncounter.period\n\t)\n\tunion\n\t(&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n\t\twith &quot;Statin Allergy&quot; StatinAllergy\n\t\t\tsuch that &quot;Normalize Onset&quot;(StatinAllergy.onset) on or before end of IschemicStrokeEncounter.period)\n\ndefine &quot;Denominator Exclusion&quot;:\n\t&quot;Ischemic Stroke Encounters with Discharge Status&quot;\n\tunion\n\t&quot;Comfort Measures during Hospitalization&quot;\n\ndefine &quot;Ischemic Stroke Encounters with Discharge Status&quot;:\n\t(&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n\t\twhere IschemicStrokeEncounter.hospitalization.dischargeDisposition in &quot;Discharge To Acute Care Facility&quot;\n\t\t\tor IschemicStrokeEncounter.hospitalization.dischargeDisposition in &quot;Left Against Medical Advice&quot;\n\t\t\tor IschemicStrokeEncounter.hospitalization.dischargeDisposition in &quot;Patient Expired&quot;\n\t\t\tor IschemicStrokeEncounter.hospitalization.dischargeDisposition in &quot;Discharged to Home for Hospice Care&quot;\n\t\t\tor IschemicStrokeEncounter.hospitalization.dischargeDisposition in &quot;Discharged to Health Care Facility for Hospice Care&quot;\n\t)\n\ndefine &quot;Comfort Measures during Hospitalization&quot;:\n\t&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n\t\twith &quot;Intervention Comfort Measures&quot; ComfortMeasure\n\t\t\tsuch that ComfortMeasure.authoredOn during Global.&quot;Hospitalization&quot;(IschemicStrokeEncounter)\n\n/*\ndefine &quot;Intervention Comfort Measures&quot;:\n\t([&quot;ProcedureRequest&quot;: &quot;Comfort Measures&quot;] P\n\t\twhere P.intent = 'order')\n\t\tunion [&quot;Procedure&quot;: &quot;Comfort Measures&quot;]\n*/\n\ndefine &quot;Intervention Comfort Measures&quot;:\n\t([&quot;ProcedureRequest&quot;: &quot;Comfort Measures&quot;] P\n\t\twhere P.intent in {'plan', 'order'})\n\t\tunion\n\t\t([&quot;Procedure&quot;: &quot;Comfort Measures&quot;] IntervetionPerformed\n\t\twhere IntervetionPerformed.status in {'complete', 'in progress'})\n</code></pre>\n                    \n                    \n                </td>\n            </tr>\n        \n    </table>\n</div>"
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "cqf-tooling"
    }
  } ],
  "version": "8.0.000",
  "name": "EXM105_FHIR3",
  "status": "active",
  "experimental": true,
  "type": {
    "coding": [ {
      "system": "http://hl7.org/fhir/codesystem-library-type.html",
      "code": "logic-library"
    } ]
  },
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBFWE0xMDVfRkhJUjMgdmVyc2lvbiAnOC4wLjAwMCcKCi8qCkJhc2VkIG9uIENNUzEwNXY4IC0gRGlzY2hhcmdlZCBvbiBTdGF0aW4gTWVkaWNhdGlvbgpBdXRob3I6IFRKQwoqLwoKdXNpbmcgRkhJUiB2ZXJzaW9uICczLjAuMCcKCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnMy4wLjAnCmluY2x1ZGUgTUFUR2xvYmFsQ29tbW9uRnVuY3Rpb25zX0ZISVIzIHZlcnNpb24gJzQuMC4wMDAnIGNhbGxlZCBHbG9iYWwKaW5jbHVkZSBTdXBwbGVtZW50YWxEYXRhRWxlbWVudHNfRkhJUjMgdmVyc2lvbiAnMS4wLjAnIGNhbGxlZCBTREUKaW5jbHVkZSBUSkNPdmVyYWxsX0ZISVIzIHZlcnNpb24gJzMuNi4wMDAnIGNhbGxlZCBUSkMKCmNvZGVzeXN0ZW0gIkxPSU5DIjogJ2h0dHA6Ly9sb2luYy5vcmcnCmNvZGVzeXN0ZW0gIlNOT01FRENUIjogJ2h0dHA6Ly9zbm9tZWQuaW5mby9zY3QvNzMxMDAwMTI0MTA4Jwpjb2Rlc3lzdGVtICJEaWFnbm9zaXMgUm9sZSI6ICdodHRwOi8vaGw3Lm9yZy9maGlyL2RpYWdub3Npcy1yb2xlJwpjb2Rlc3lzdGVtICJSZXF1ZXN0SW50ZW50IjogJ2h0dHA6Ly9obDcub3JnL2ZoaXIvcmVxdWVzdC1pbnRlbnQnCgp2YWx1ZXNldCAiQ29tZm9ydCBNZWFzdXJlcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMS4zLjYuMS40LjEuMzM4OTUuMS4zLjAuNDUnCnZhbHVlc2V0ICJEaXNjaGFyZ2VkIHRvIEhlYWx0aCBDYXJlIEZhY2lsaXR5IGZvciBIb3NwaWNlIENhcmUiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIwNycKdmFsdWVzZXQgIkRpc2NoYXJnZSBUbyBBY3V0ZSBDYXJlIEZhY2lsaXR5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS44NycKdmFsdWVzZXQgIkRpc2NoYXJnZWQgdG8gSG9tZSBmb3IgSG9zcGljZSBDYXJlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMDknCnZhbHVlc2V0ICJFbWVyZ2VuY3kgRGVwYXJ0bWVudCBWaXNpdCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjkyJwp2YWx1ZXNldCAiRXRobmljaXR5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExNDIyMi40LjExLjgzNycKdmFsdWVzZXQgIklzY2hlbWljIFN0cm9rZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjQ3Jwp2YWx1ZXNldCAiSGVtb3JyaGFnaWMgU3Ryb2tlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMTInCnZhbHVlc2V0ICJMREwtYyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjE1Jwp2YWx1ZXNldCAiTGVmdCBBZ2FpbnN0IE1lZGljYWwgQWR2aWNlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4zMDgnCnZhbHVlc2V0ICJNZWRpY2FsIFJlYXNvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuNDczJwp2YWx1ZXNldCAiTm9uLUVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjQyNCcKdmFsdWVzZXQgIk9ic2VydmF0aW9uIFNlcnZpY2VzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTExMS4xNDMnCnZhbHVlc2V0ICJPTkMgQWRtaW5pc3RyYXRpdmUgU2V4IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMScKdmFsdWVzZXQgIlBhdGllbnQgRXhwaXJlZCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMzA5Jwp2YWx1ZXNldCAiUGF0aWVudCBSZWZ1c2FsIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS45MycKdmFsdWVzZXQgIlBheWVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExNDIyMi40LjExLjM1OTEnCnZhbHVlc2V0ICJSYWNlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExNDIyMi40LjExLjgzNicKdmFsdWVzZXQgIlN0YXRpbiBBbGxlcmdlbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuNDIzJwp2YWx1ZXNldCAiU3RhdGluIEdyb3VwZXIiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTEwLjE5JwoKLy8gVE9ETzogVXNlIE5MTSBWU0FDIENhbm9uaWNhbCBVUkxzCmNvZGUgIkJpcnRoZGF0ZSI6ICcyMTExMi04JyBmcm9tICJMT0lOQyIgZGlzcGxheSAnQmlydGggZGF0ZScKY29kZSAiRGVhZCI6ICc0MTkwOTkwMDknIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdEZWFkJwovL2NvZGUgIk1lZGljYXRpb24tZGlzY2hhcmdlTWVkaWNhdGlvbiI6ICc4NjU0LTYnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdIb3NwaXRhbCBEaXNjaGFyZ2UgbWVkaWNhdGlvbnMnCgpjb2RlICJCaWxsaW5nIjogJ2JpbGxpbmcnIGZyb20gIkRpYWdub3NpcyBSb2xlIiBkaXNwbGF5ICdCaWxsaW5nJwpjb2RlICJPcmRlciI6ICdvcmRlcicgZnJvbSAiUmVxdWVzdEludGVudCIgZGlzcGxheSAnT3JkZXInCgpwYXJhbWV0ZXIgIk1lYXN1cmVtZW50IFBlcmlvZCIgSW50ZXJ2YWw8RGF0ZVRpbWU+CiAgZGVmYXVsdCBJbnRlcnZhbFtAMjAxOS0wMS0wMVQwMDowMDowMC4wLCBAMjAyMC0wMS0wMVQwMDowMDowMC4wKQoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIlNERSBFdGhuaWNpdHkiOgogIFNERS4iU0RFIEV0aG5pY2l0eSIKCmRlZmluZSAiU0RFIFBheWVyIjoKCVNERS4iU0RFIFBheWVyIgoKZGVmaW5lICJTREUgUmFjZSI6CiAgU0RFLiJTREUgUmFjZSIKCmRlZmluZSAiU0RFIFNleCI6CglTREUuIlNERSBTZXgiCgpkZWZpbmUgIkluaXRpYWwgUG9wdWxhdGlvbiI6CgkiRW5jb3VudGVyIHdpdGggUHJpbmNpcGFsIERpYWdub3NpcyBhbmQgQWdlIgoKZGVmaW5lICJFbmNvdW50ZXIgd2l0aCBQcmluY2lwYWwgRGlhZ25vc2lzIGFuZCBBZ2UiOgoJIkFsbCBTdHJva2UgRW5jb3VudGVyIiBBbGxTdHJva2VFbmNvdW50ZXIKCQl3aXRoIFsiUGF0aWVudCJdIEJpcnRoRGF0ZQoJCQlzdWNoIHRoYXQgQWdlSW5ZZWFyc0F0KEFsbFN0cm9rZUVuY291bnRlci5wZXJpb2Quc3RhcnQpID49IDE4CgpkZWZpbmUgIkFsbCBTdHJva2UgRW5jb3VudGVyIjoKCSJOb24gRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciIgTm9uRWxlY3RpdmVFbmNvdW50ZXIKCQl3aGVyZSBHbG9iYWwuUHJpbmNpcGFsRGlhZ25vc2lzKE5vbkVsZWN0aXZlRW5jb3VudGVyKS5jb2RlIGluICJIZW1vcnJoYWdpYyBTdHJva2UiCgkJb3IgR2xvYmFsLlByaW5jaXBhbERpYWdub3NpcyhOb25FbGVjdGl2ZUVuY291bnRlcikuY29kZSBpbiAiSXNjaGVtaWMgU3Ryb2tlIgoKZGVmaW5lICJOb24gRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciI6CglbIkVuY291bnRlciI6ICJOb24tRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciJdIE5vbkVsZWN0aXZlRW5jb3VudGVyCgkJd2hlcmUgR2xvYmFsLiJMZW5ndGhJbkRheXMiKE5vbkVsZWN0aXZlRW5jb3VudGVyLnBlcmlvZCk8PSAxMjAKCQkJYW5kIE5vbkVsZWN0aXZlRW5jb3VudGVyLnBlcmlvZCBlbmRzIGR1cmluZyAiTWVhc3VyZW1lbnQgUGVyaW9kIgoKZGVmaW5lICJEZW5vbWluYXRvciI6CglUSkMuIklzY2hlbWljIFN0cm9rZSBFbmNvdW50ZXIiCgpkZWZpbmUgIlN0YXRpbiBBbGxlcmd5IjoKCVsiQWxsZXJneUludG9sZXJhbmNlIjogIlN0YXRpbiBBbGxlcmdlbiJdCgpkZWZpbmUgIk51bWVyYXRvciI6CgkiSXNjaGVtaWMgU3Ryb2tlIEVuY291bnRlciIgSXNjaGVtaWNTdHJva2VFbmNvdW50ZXIKCQl3aXRoICJTdGF0aW4gYXQgRGlzY2hhcmdlIiBEaXNjaGFyZ2VTdGF0aW4KCQkJc3VjaCB0aGF0IERpc2NoYXJnZVN0YXRpbi5hdXRob3JlZE9uIGR1cmluZyBJc2NoZW1pY1N0cm9rZUVuY291bnRlci5wZXJpb2QKCmRlZmluZSAiSXNjaGVtaWMgU3Ryb2tlIEVuY291bnRlciI6CgkiRW5jb3VudGVyIHdpdGggUHJpbmNpcGFsIERpYWdub3NpcyBhbmQgQWdlIiBFbmNvdW50ZXJXaXRoQWdlCgkJd2hlcmUgR2xvYmFsLlByaW5jaXBhbERpYWdub3NpcyhFbmNvdW50ZXJXaXRoQWdlKS5jb2RlIGluICJJc2NoZW1pYyBTdHJva2UiCgovLyBNZWRpY2F0aW9uIG9yZGVycyBhdCBkaXNjaGFyZ2UsIGhvdyBkbyB3ZSBrbm93IHRoYXQgdGhlc2UgYXJlIG9yZGVyZWQgd2l0aCB0aGUgaW50ZW50IHRvIGJlIHRha2VuIGRpc2NoYXJnZSByYXRoZXIgdGhhbiB0aGUgaW5wYXRpZW50IHN0YXkuCmRlZmluZSAiU3RhdGluIGF0IERpc2NoYXJnZSI6CglbIk1lZGljYXRpb25SZXF1ZXN0Il0gU3RhdGluCgkJd2hlcmUgKFN0YXRpbi5tZWRpY2F0aW9uIGFzIENvZGVhYmxlQ29uY2VwdCkgaW4gIlN0YXRpbiBHcm91cGVyIgoJCQlhbmQgU3RhdGluLmludGVudCA9ICdvcmRlcicKCmRlZmluZSAiU3RhdGluIE5vdCBHaXZlbiBhdCBEaXNjaGFyZ2UiOgoJWyJNZWRpY2F0aW9uUmVxdWVzdCJdIE5vU3RhdGluCgkJd2hlcmUgKE5vU3RhdGluLm1lZGljYXRpb24gYXMgQ29kZWFibGVDb25jZXB0KSBpbiAiU3RhdGluIEdyb3VwZXIiCgkJCWFuZCAoc2luZ2xldG9uIGZyb20gTm9TdGF0aW4ucmVhc29uQ29kZSBpbiAiTWVkaWNhbCBSZWFzb24iCgkJCQlvciBzaW5nbGV0b24gZnJvbSBOb1N0YXRpbi5yZWFzb25Db2RlIGluICJQYXRpZW50IFJlZnVzYWwiKQoKLy9Gb2xsaW5nIGZ1bmN0aW9uIGNvcGllZCBmcm9tIE1BVEdsb2JhbENvbW1vbkZ1bmN0aW9ucyAyLjAgaW4gY3FmLW1lYXN1cmVzIGdpdGh1YiByZXBvCmRlZmluZSBmdW5jdGlvbiAiTm9ybWFsaXplIE9uc2V0IihvbnNldCBDaG9pY2U8RkhJUi5kYXRlVGltZSwgRkhJUi5BZ2UsIEZISVIuUGVyaW9kLCBGSElSLlJhbmdlLCBGSElSLnN0cmluZz4pOgoJaWYgb25zZXQgaXMgRkhJUi5kYXRlVGltZSB0aGVuIEludGVydmFsW29uc2V0LnZhbHVlLCBvbnNldC52YWx1ZV0KCWVsc2UgaWYgb25zZXQgaXMgRkhJUi5QZXJpb2QgdGhlbiBGSElSSGVscGVycy5Ub0ludGVydmFsKG9uc2V0IGFzIEZISVIuUGVyaW9kKQoJZWxzZSBudWxsCgpkZWZpbmUgIkVuY291bnRlciB3aXRoIE1heCBMREwgbGVzcyB0aGFuIDcwIG1nIHBlciBkTCI6CgkiSXNjaGVtaWMgU3Ryb2tlIEVuY291bnRlciIgSXNjaGVtaWNTdHJva2VFbmNvdW50ZXIKCQl3aGVyZSBNYXgoWyJPYnNlcnZhdGlvbiI6ICJMREwtYyJdIExkbAoJCQkJd2hlcmUgTGRsLmlzc3VlZCBkdXJpbmcgSW50ZXJ2YWxbSXNjaGVtaWNTdHJva2VFbmNvdW50ZXIucGVyaW9kLnN0YXJ0IC0gMzAgZGF5cyxJc2NoZW1pY1N0cm9rZUVuY291bnRlci5wZXJpb2QuZW5kXQoJCQkJcmV0dXJuIChMZGwudmFsdWUgYXMgUXVhbnRpdHkpCgkJKSA8IDcwCgpkZWZpbmUgIkRlbm9taW5hdG9yIEV4Y2VwdGlvbiI6CgkoIklzY2hlbWljIFN0cm9rZSBFbmNvdW50ZXIiIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyCgkJd2l0aCAiU3RhdGluIE5vdCBHaXZlbiBhdCBEaXNjaGFyZ2UiIE5vRGlzY2hhcmdlU3RhdGluCgkJCXN1Y2ggdGhhdCBOb0Rpc2NoYXJnZVN0YXRpbi5hdXRob3JlZE9uIGR1cmluZyBJc2NoZW1pY1N0cm9rZUVuY291bnRlci5wZXJpb2QKCSkKCXVuaW9uCgkoIklzY2hlbWljIFN0cm9rZSBFbmNvdW50ZXIiIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyCgkJd2l0aCAiU3RhdGluIEFsbGVyZ3kiIFN0YXRpbkFsbGVyZ3kKCQkJc3VjaCB0aGF0ICJOb3JtYWxpemUgT25zZXQiKFN0YXRpbkFsbGVyZ3kub25zZXQpIG9uIG9yIGJlZm9yZSBlbmQgb2YgSXNjaGVtaWNTdHJva2VFbmNvdW50ZXIucGVyaW9kKQoKZGVmaW5lICJEZW5vbWluYXRvciBFeGNsdXNpb24iOgoJIklzY2hlbWljIFN0cm9rZSBFbmNvdW50ZXJzIHdpdGggRGlzY2hhcmdlIFN0YXR1cyIKCXVuaW9uCgkiQ29tZm9ydCBNZWFzdXJlcyBkdXJpbmcgSG9zcGl0YWxpemF0aW9uIgoKZGVmaW5lICJJc2NoZW1pYyBTdHJva2UgRW5jb3VudGVycyB3aXRoIERpc2NoYXJnZSBTdGF0dXMiOgoJKCJJc2NoZW1pYyBTdHJva2UgRW5jb3VudGVyIiBJc2NoZW1pY1N0cm9rZUVuY291bnRlcgoJCXdoZXJlIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbi5kaXNjaGFyZ2VEaXNwb3NpdGlvbiBpbiAiRGlzY2hhcmdlIFRvIEFjdXRlIENhcmUgRmFjaWxpdHkiCgkJCW9yIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbi5kaXNjaGFyZ2VEaXNwb3NpdGlvbiBpbiAiTGVmdCBBZ2FpbnN0IE1lZGljYWwgQWR2aWNlIgoJCQlvciBJc2NoZW1pY1N0cm9rZUVuY291bnRlci5ob3NwaXRhbGl6YXRpb24uZGlzY2hhcmdlRGlzcG9zaXRpb24gaW4gIlBhdGllbnQgRXhwaXJlZCIKCQkJb3IgSXNjaGVtaWNTdHJva2VFbmNvdW50ZXIuaG9zcGl0YWxpemF0aW9uLmRpc2NoYXJnZURpc3Bvc2l0aW9uIGluICJEaXNjaGFyZ2VkIHRvIEhvbWUgZm9yIEhvc3BpY2UgQ2FyZSIKCQkJb3IgSXNjaGVtaWNTdHJva2VFbmNvdW50ZXIuaG9zcGl0YWxpemF0aW9uLmRpc2NoYXJnZURpc3Bvc2l0aW9uIGluICJEaXNjaGFyZ2VkIHRvIEhlYWx0aCBDYXJlIEZhY2lsaXR5IGZvciBIb3NwaWNlIENhcmUiCgkpCgpkZWZpbmUgIkNvbWZvcnQgTWVhc3VyZXMgZHVyaW5nIEhvc3BpdGFsaXphdGlvbiI6CgkiSXNjaGVtaWMgU3Ryb2tlIEVuY291bnRlciIgSXNjaGVtaWNTdHJva2VFbmNvdW50ZXIKCQl3aXRoICJJbnRlcnZlbnRpb24gQ29tZm9ydCBNZWFzdXJlcyIgQ29tZm9ydE1lYXN1cmUKCQkJc3VjaCB0aGF0IENvbWZvcnRNZWFzdXJlLmF1dGhvcmVkT24gZHVyaW5nIEdsb2JhbC4iSG9zcGl0YWxpemF0aW9uIihJc2NoZW1pY1N0cm9rZUVuY291bnRlcikKCi8qCmRlZmluZSAiSW50ZXJ2ZW50aW9uIENvbWZvcnQgTWVhc3VyZXMiOgoJKFsiUHJvY2VkdXJlUmVxdWVzdCI6ICJDb21mb3J0IE1lYXN1cmVzIl0gUAoJCXdoZXJlIFAuaW50ZW50ID0gJ29yZGVyJykKCQl1bmlvbiBbIlByb2NlZHVyZSI6ICJDb21mb3J0IE1lYXN1cmVzIl0KKi8KCmRlZmluZSAiSW50ZXJ2ZW50aW9uIENvbWZvcnQgTWVhc3VyZXMiOgoJKFsiUHJvY2VkdXJlUmVxdWVzdCI6ICJDb21mb3J0IE1lYXN1cmVzIl0gUAoJCXdoZXJlIFAuaW50ZW50IGluIHsncGxhbicsICdvcmRlcid9KQoJCXVuaW9uCgkJKFsiUHJvY2VkdXJlIjogIkNvbWZvcnQgTWVhc3VyZXMiXSBJbnRlcnZldGlvblBlcmZvcm1lZAoJCXdoZXJlIEludGVydmV0aW9uUGVyZm9ybWVkLnN0YXR1cyBpbiB7J2NvbXBsZXRlJywgJ2luIHByb2dyZXNzJ30pCg=="
  } ]
}