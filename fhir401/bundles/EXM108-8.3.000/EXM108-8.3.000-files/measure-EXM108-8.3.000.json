{
  "resourceType": "Measure",
  "id": "measure-EXM108-8.3.000",
  "meta": {
    "versionId": "2",
    "lastUpdated": "2020-01-29T22:39:28.514-07:00",
    "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/proportion-measure-cqfm" ]
  },
  "text": {
    "status": "generated",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><table style=\"width: 60%; border-bottom: none;\" class=\"header_table\">                                                                                                                                                                                                                                                                                <!-- <tr th:if=\"${resource.hasId()}\" style=\"vertical-align: top;\"><th style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Id: </span></th><td style=\"width:80%\" colspan=\"3\"  th:narrative=\"${resource.id}\"></td></tr> --><tr style=\"vertical-align: top;\"><td scope=\"row\" style=\"background-color:#656565; width:20%\"><span class=\"td_label\">Measure Title</span></td><td colspan=\"1\" style=\"width:60%\"><h1 style=\"font-size:10px\">Venous Thromboembolism Prophylaxis</h1></td><td scope=\"row\" style=\"background-color:#656565; width:10%\"><span class=\"td_label\">Measure ID</span></td><td colspan=\"1\" style=\"width:10%\"><h1 style=\"font-size:10px\"/></td></tr>                                                                                                                                                                                                                                                                                <!-- <th:block th:each=\"ident, iter : ${resource.identifier}\"><tr th:if=\"${ident.type.coding[0].code == 'CMS'}\" style=\"vertical-align: top;\"><td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">eCQM Identifier (Measure Authoring Tool)</span></td><td style=\"width:30%\" th:text=\"${ident.value}\"></td><td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">eCQM Version number</span></td><td style=\"width:30%\" th:text=\"${resource.version}\"></td></tr></th:block><th:block th:each=\"ident, iter : ${resource.identifier}\"><tr th:if=\"${ident.type.coding[0].code == 'NQF'}\" style=\"vertical-align: top;\"><td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">NQF Number</span></td><td style=\"width:30%\" th:text=\"${ident.value}\"></td><td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">GUID</span></td><td style=\"width:30%\" th:text=\"${resource.url}\"></td></tr></th:block> --><tr style=\"vertical-align: top;\"><td scope=\"row\" style=\"background-color:#656565; width:20%\"><span class=\"td_label\">Description</span></td><td colspan=\"3\" style=\"width:80%\"><div style=\"width:660px;overflow-x:hidden;overflow-y:auto\"><pre><p>This measure assesses the number of patients who received VTE prophylaxis or have documentation why no VTE prophylaxis was given the day of or the day after hospital admission or surgery end date for surgeries that start the day of or the day after hospital admission</p>\n</pre>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td scope=\"row\" style=\"background-color:#656565; width:20%\"><span class=\"td_label\">Measurement Period</span></td>\r\n            <td colspan=\"3\" style=\"width:80%\">January 1 - December 31</td>\r\n        </tr>\r\n                                                                                                                                                                                                                                                                                        <!-- <tr>\r\n            <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Measure Steward</span></td>\r\n            <td style=\"width:80%\" colspan=\"3\" th:text=\"${resource.publisher}\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Measure Developer</span></td>\r\n            <td style=\"width:80%\" colspan=\"3\" th:text=\"${resource.publisher}\"></td>\r\n        </tr> -->\r\n                                                                                                                                                                                                                                                                                        <!-- <tr th:if=\"${resource.hasDisclaimer()}\">\r\n            <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Disclaimer</span></td>\r\n            <td style=\"width:80%\" colspan=\"3\">\r\n                <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                    <pre th:text=\"${resource.disclaimer}\"></pre>\r\n                </div>\r\n            </td>\r\n        </tr> -->\r\n        <tr>\r\n            <td scope=\"row\" style=\"background-color:#656565; width:20%\"><span class=\"td_label\">Copyright and Disclaimer Notice</span></td>\r\n            <td colspan=\"3\" style=\"width:80%\">\r\n                <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                    <pre>These performance measures are not clinical guidelines and do not establish a standard of medical care, and have not been tested for all potential applications. The measures and specifications are provided without warranty</pre>\r\n                    <br/>\r\n                    <pre>Measure specifications are in the Public Domain. LOINC(R) is a registered trademark of the Regenstrief Institute. This material contains SNOMED Clinical Terms(R) (SNOMED CT(C)) copyright 2004-2017 International Health Terminology Standards Development Organization. All rights reserved.</pre>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td scope=\"row\" style=\"background-color:#656565; width:20%\"><span class=\"td_label\">Clinical Recommendation Statement</span></td>\r\n            <td colspan=\"3\" style=\"width:80%\">\r\n                <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\"><p>Failure to recognize and protect patients at risk for venous thromboembolism (VTE) increases the chances for acutely ill hospitalized patients at high risk for developing a deep vein thrombosis or dying from a pulmonary emboli. Screening all patients is the only evidence based practice in reducing incidence of disease.  All hospitalized patients should be evaluated for primary VTE prophylaxis, and given appropriate prophylaxis when indicated.</p>\n</div>\r\n            </td>\r\n        </tr>\r\n        \r\n            <tr style=\"vertical-align: top;\">\r\n                <td rowspan=\"6\" scope=\"row\" style=\"background-color:#656565; width:20%\"><span class=\"td_label\">References</span></td>\r\n                <td colspan=\"3\" style=\"width:80%\">\r\n                    <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                        <pre>Cohen AT, Tapson VF, Bergmann JF, et al. Venous thromboembolism risk and prophylaxis in the acute hospital care setting (ENDORSE study): a multinational cross-sectional study. Lancet. 2008;371:387-394.</pre>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        \r\n        \r\n            <tr style=\"vertical-align: top;\">\r\n                \r\n                <td colspan=\"3\" style=\"width:80%\">\r\n                    <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                        <pre>Geerts  WH, Bergqvist D, Pineo GF, Heit JA, Samama CM, Lassen MR, Colwell CW. Prevention of venous thromboembolism. The Eighth ACCP Conference on antithrombotic and thrombolytic therapy. Chest. 2008; 133:381S-453S</pre>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        \r\n        \r\n            <tr style=\"vertical-align: top;\">\r\n                \r\n                <td colspan=\"3\" style=\"width:80%\">\r\n                    <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                        <pre>Guyatt, G.H., Akl, E.A., Crowther, M., Gutterman, D., Schunemann, H. Antithrombotic Therapy and Prevention of Thrombosis, 9th edition: American College of Chest Physicians Evidence-Based Clinical Practice Guidelines. CHEST 2012; 141(2)(Supp):7S-47S</pre>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        \r\n        \r\n            <tr style=\"vertical-align: top;\">\r\n                \r\n                <td colspan=\"3\" style=\"width:80%\">\r\n                    <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                        <pre>Kearon C, Akl EA, Comerota AJ, Prandoni P, Bounameaux H, Goldhaber SZ, Nelson ME, Wells PS, Gould MK, Dentali F, Crowther M, Kahn SR. Antithrombotic therapy for VTE disease: Antithrombotic Therapy and Prevention of Thrombosis, 9th Edition: American College of Chest Physicians Evidence-based Clinical Practice Guidelines. CHEST 2012 Feb; 141(2) (Supp):e419S-94S.</pre>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        \r\n        \r\n            <tr style=\"vertical-align: top;\">\r\n                \r\n                <td colspan=\"3\" style=\"width:80%\">\r\n                    <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                        <pre>National Quality Forum. National Voluntary Consensus Standards for Prevention and Care of Venous Thromboembolism: Policy, Preferred Practices, and Initial Performance Measures. A Consensus Report. Washington, DC. NQF; 2006</pre>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        \r\n        \r\n            <tr style=\"vertical-align: top;\">\r\n                \r\n                <td colspan=\"3\" style=\"width:80%\">\r\n                    <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                        <pre>Shojania KG, Duncan BW, McDonald DM, et al. (Eds.). (2001). Making healthcare safer; A critical analysis of patient safety practices (Evidence Report/Technology Assessment No. 43). Prepared by the University of California at San Francisco-Stanford Evidenced-based Practice Center under Contract no. 290-97-0013 (AHRQ Publication NO.01-E058). Rockville, MD:Agency for Healthcare Research and Quality.</pre>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        \r\n        <tr>\r\n            <td colspan=\"4\" scope=\"row\" style=\"background-color:#656565; width:100%\"><span class=\"td_label\">Characteristics</span></td>\r\n        </tr>\r\n        <tr>\r\n            <td scope=\"row\" style=\"width:20%\"><span>Scoring</span></td>\r\n            <td colspan=\"3\" style=\"width:80%\">Proportion</td>\r\n        </tr>\r\n                                                                                                                                                                                                                                                                                        <!-- <tr th:if=\"${resource.hasCompositeScoring()}\">\r\n            <td style=\"width:20%\" scope=\"row\"><span class=\"td_label\">Composite Scoring</span></td>\r\n            <td style=\"width:80%\" colspan=\"3\" th:text=\"${resource.compositeScoring.getText().substring(0, 1).toUpperCase() + resource.compositeScoring.getText().substring(1)}\"></td>\r\n        </tr> -->\r\n        \r\n            <tr style=\"vertical-align: top;\">\r\n                <td rowspan=\"1\" scope=\"row\" style=\"width:20%\"><span>Type</span></td>\r\n                <td colspan=\"3\" style=\"width:80%\">Process</td>\r\n            </tr>\r\n        \r\n                                                                                                                                                                                                                                                                                        <!-- <tr th:if=\"${resource.hasStatus()}\" style=\"vertical-align: top;\">\r\n            <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Status</span></td>\r\n            <td style=\"width:80%\" colspan=\"3\" th:text=\"${resource.status.toString().substring(0, 1).toUpperCase() + resource.status.toString().substring(1).toLowerCase()}\"></td>\r\n        </tr>\r\n        <tr th:if=\"${resource.hasPurpose()}\" style=\"vertical-align: top;\">\r\n            <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Purpose</span></td>\r\n            <td style=\"width:80%\" colspan=\"3\" th:text=\"${resource.purpose}\"></td>\r\n        </tr>\r\n        <tr th:if=\"${resource.hasUsage()}\" style=\"vertical-align: top;\" >\r\n            <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Usage</span></td>\r\n            <td style=\"width:80%\" colspan=\"3\" th:text=\"${resource.usage}\"></td>\r\n        </tr>\r\n        <th:block th:each=\"context, iter : ${resource.useContext}\" >\r\n            <tr style=\"vertical-align: top;\">\r\n                <td th:if=\"${iter.index == 0}\" th:rowspan=\"${iter.size}\" style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Use Context</span></td>\r\n                <td style=\"width:80%\" colspan=\"3\" th:text=\"${context}\"></td>\r\n            </tr>\r\n        </th:block>\r\n        <th:block th:each=\"topics, iter : ${resource.topic}\" >\r\n            <tr style=\"vertical-align: top;\">\r\n                <td th:if=\"${iter.index == 0}\" th:rowspan=\"${iter.size}\" style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Topic</span></td>\r\n                <td style=\"width:80%\" colspan=\"3\" th:text=\"${topics}\"></td>\r\n            </tr>\r\n        </th:block>\r\n        <th:block th:each=\"cont, iter : ${resource.contributor}\" >\r\n            <tr style=\"vertical-align: top;\">\r\n                <td th:if=\"${iter.index == 0}\" th:rowspan=\"${iter.size}\" style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Contributor</span></td>\r\n                <td style=\"width:80%\" colspan=\"3\">\r\n                    <b><span th:narrative=\"${cont.type.toCode()}\"></span>: </b><span th:text=\"${cont.name}\"></span>\r\n                </td>\r\n            </tr>\r\n        </th:block> -->\r\n                                                                                                                                                                                                                                                                                        <!-- <th:block th:each=\"lib, iter : ${resource.library}\" >\r\n            <tr style=\"vertical-align: top;\">\r\n                <td th:if=\"${iter.index == 0}\" th:rowspan=\"${iter.size}\" style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Library</span></td>\r\n                <td style=\"width:80%\" colspan=\"3\">\r\n                    <p th:if=\"${lib.hasIdentifier()}\"><b>identifier: </b><span th:narrative=\"${lib.identifier}\"></span></p>\r\n                    <p th:if=\"${lib.hasReference()}\"><b>reference: </b><span th:narrative=\"${lib.reference}\"></span></p>\r\n                    <p th:if=\"${lib.hasDisplay()}\"><b>display: </b><span th:text=\"${lib.display}\"></span></p>\r\n                </td>\r\n            </tr>\r\n        </th:block> -->\r\n        \r\n                                                                                                                                                                                                                                                                                        <!-- <tr th:if=\"${resource.hasRateAggregation()}\" >\r\n            <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Rate Aggregation</span></td>\r\n            <td style=\"width:80%\" colspan=\"3\">\r\n                <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                    <pre th:text=\"${resource.rateAggregation}\"></pre>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr th:if=\"${resource.hasRationale()}\">\r\n            <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Rationale</span></td>\r\n            <td style=\"width:80%\" colspan=\"3\">\r\n                <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                    <pre th:text=\"${resource.rationale}\"></pre>\r\n                </div>\r\n            </td>\r\n        </tr> -->\r\n        <tr>\r\n            <td scope=\"row\" style=\"width:20%\"><span>Improvement Notation</span></td>\r\n            <td colspan=\"3\" style=\"width:80%\">A higher rate indicates better performance.</td>\r\n            \r\n        </tr>\r\n        <tr>\r\n            <td scope=\"row\" style=\"width:20%\"><span>Guidance</span></td>\r\n            <td colspan=\"3\" style=\"width:80%\">\r\n                <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\"><p>When low dose unfractionated heparin is administered for VTE Prophylaxis, the intended administration route for low dose unfractionated heparin is subcutaneous.</p>\n<p>Reasons for no pharmacological and no mechanical VTE prophylaxis must be explicitly documented by the MD/APN/PA or pharmacist and linked with VTE prophylaxis. Ambulation alone is not a sufficient reason for not administering VTE prophylaxis. In order for ambulation/patient ambulating to be considered as an acceptable reason, there needs to be explicit documentation, e.g., &quot;patient out of bed and ambulating in halls - no VTE prophylaxis needed.&quot;</p>\n</div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"4\" scope=\"row\" style=\"background-color:#656565; width:100%\"><span class=\"td_label\">Definitions</span></td>\r\n        </tr>\r\n        \r\n        \r\n                                                                                                                                                                                                                                                                                        <!-- <th:block th:each=\"groups, iter : ${resource.uniquePopulationGroup}\" >\r\n            <tr style=\"vertical-align: top;\">\r\n                <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\" th:text=\"${groups.identifier.value}\"></span></td>\r\n                <td style=\"width:80%\" colspan=\"3\">\r\n                    <div style=\"width:660px;overflow-x:hidden;overflow-y:auto\">\r\n                        <pre th:text=\"${pops.description}\"></pre>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </th:block> -->\r\n    </table>\r\n    <table style=\"width: 60%; border-top: none; border-bottom: none\" class=\"header_table\">\r\n        \r\n    </table>\r\n    <table style=\"width: 60%; border-top: none;\" class=\"header_table\">\r\n                                                                                                                                                                                                                                                                                        <!-- <th:block th:each=\"supples, iter : ${resource.supplementalData}\">\r\n            <tr>\r\n                <th th:if=\"${iter.index == 0}\" th:rowspan=\"${iter.size}\" scope=\"row\"><b>Supplemental Data:</b></th>\r\n                <td style=\"width:80%\" colspan=\"3\" >\r\n                    <p style=\"margin-bottom: 5px;\" th:narrative=\"${supples.identifier}\"></p>\r\n                    <p style=\"margin-bottom: 5px;\" th:each=\"uses : ${supples.usage}\">\r\n                        <b>usage: </b>\r\n                        <span th:narrative=\"${uses}\"></span>\r\n                    </p>\r\n                    <p style=\"margin-bottom: 5px;\" th:if=\"${supples.hasCriteria()}\">\r\n                        <b>criteria: </b>\r\n                        <span th:narrative=\"${supples.criteria}\"></span>\r\n                    </p>\r\n                    <p style=\"margin-bottom: 5px;\" th:if=\"${supples.hasPath()}\">\r\n                        <b>path: </b>\r\n                        <span th:narrative=\"${supples.path}\"></span>\r\n                    </p>\r\n                </td>\r\n            </tr>\r\n        </th:block> -->\r\n                                                                                                                                                                                                                                                                                        <!-- <th:block th:each=\"param, iter : ${resource.parameter}\">\r\n            <tr style=\"vertical-align: top;\">\r\n                <th th:if=\"${iter.index == 0}\" th:rowspan=\"${iter.size}\" scope=\"row\"><b>Parameter: </b></th>\r\n                <td style=\"width:80%\" colspan=\"3\" >\r\n                    <span th:if=\"${param.hasName()}\">\r\n                        <b>name: </b>\r\n                        <span th:narrative=\"${param.name}\"></span>\r\n                        <br/>\r\n                    </span>\r\n                    <b>use: </b>\r\n                    <span th:narrative=\"${param.use.toCode()}\"></span>\r\n                    <br/>\r\n                    <span th:if=\"${param.hasMin()}\">\r\n                        <b>minimum cardinality: </b>\r\n                        <span th:narrative=\"${param.min}\"></span>\r\n                        <br/>\r\n                    </span>\r\n                    <span th:if=\"${param.hasMax()}\">\r\n                        <b>maximum cardinality: </b>\r\n                        <span th:narrative=\"${param.max}\"></span>\r\n                        <br/>\r\n                    </span>\r\n                    <b>type: </b>\r\n                    <span th:narrative=\"${param.type}\"></span>\r\n                    <br/>\r\n                    <span th:if=\"${param.hasDocumentation()}\">\r\n                        <b>documentation: </b>\r\n                        <span th:narrative=\"${param.documentation}\"></span>\r\n                        <br/>\r\n                    </span>\r\n                    <span th:if=\"${param.hasProfile()}\">\r\n                        <b>profile: </b>\r\n                        <span th:narrative=\"${param.profile}\"></span>\r\n                        <br/>\r\n                    </span>\r\n                    <p style=\"margin-bottom: 5px;\"></p>\r\n                </td>\r\n            </tr>\r\n        </th:block> -->\r\n                                                                                                                                                                                                                                                                                        <!-- <th:block th:each=\"dataReq, iter : ${resource.dataRequirement}\">\r\n            <tr style=\"vertical-align: top;\">\r\n                    <th th:if=\"${iter.index == 0}\" th:rowspan=\"${iter.size}\" scope=\"row\" ><b>Data Requirements: </b></th>\r\n                    <td style=\"width:80%\" colspan=\"3\" th:narrative=\"${dataReq}\"></td>\r\n            </tr>\r\n        </th:block> -->\r\n    </table>\r\n  <h2><a name=\"toc\">Table of Contents</a></h2>\r\n  <ul style=\"padding-left: 50px;\">\r\n   <li><a href=\"#d1e405\">Population Criteria</a></li>\r\n   <li><a href=\"#d1e649\">Definitions</a></li>\r\n   <li><a href=\"#d1e650\">Functions</a></li>\r\n   <li><a href=\"#d1e555\">Terminology</a></li>\r\n   <li><a href=\"#d1e647\">Data Criteria (QDM Data Elements)</a></li>\r\n   <li><a href=\"#d1e767\">Supplemental Data Elements</a></li>\r\n   <li><a href=\"#d1e879\">Risk Adjustment Variables</a></li>\r\n  </ul>\r\n  <div style=\"float:left; background:teal; height:3px; width:80%\"/>\r\n  \r\n    <pre><br/></pre>\r\n    <h3><a name=\"d1e405\" href=\"#toc\">Population Criteria</a></h3>\r\n    <div>\r\n    <ul style=\"list-style:none;padding-left:10px;\">\r\n        <li style=\"list-style:none;padding-left:0px;\" class=\"list-unstyled\">\r\n        \r\n        <div class=\"treeview hover p-l-10\">\r\n        <ul class=\"list-unstyled\">\r\n        <li class=\"list-unstyled\"><input id=\"Initial Population\" type=\"checkbox\"/><label for=\"Initial Population\" class=\"list-header\"><strong>Initial Population</strong></label>\r\n            <ul class=\"code\">\r\n            <li class=\"list-unstyled\">\r\n            <div class=\"treeview hover p-l-10\">\r\n            <ul>\r\n                <li style=\"padding-left: 0px;\">\r\n                <div>\r\n                <pre class=\"cql-definition-body\">  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</pre>\r\n                </div></li>\r\n            </ul> \r\n            </div></li>\r\n            </ul></li>\r\n        </ul>\r\n        </div>\r\n        \r\n        \r\n        <div class=\"treeview hover p-l-10\">\r\n        <ul class=\"list-unstyled\">\r\n        <li class=\"list-unstyled\"><input id=\"Numerator\" type=\"checkbox\"/><label for=\"Numerator\" class=\"list-header\"><strong>Numerator</strong></label>\r\n            <ul class=\"code\">\r\n            <li class=\"list-unstyled\">\r\n            <div class=\"treeview hover p-l-10\">\r\n            <ul>\r\n                <li style=\"padding-left: 0px;\">\r\n                <div>\r\n                <pre class=\"cql-definition-body\">    &quot;Encounter With VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;\r\n    union ( &quot;Encounter With Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;\r\n    \t\t\t  intersect ( &quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;\r\n    \t\t\t\t\t\t    union &quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;\r\n    \t\t\t            )\r\n          )\r\n    union &quot;Encounter With Low Risk for VTE or Anticoagulant Administered&quot;\r\n    union &quot;Encounter With No VTE Prophylaxis Due to Medical Reason&quot;\r\n    union &quot;Encounter With No VTE Prophylaxis Due to Patient Refusal&quot;</pre>\r\n                </div></li>\r\n            </ul> \r\n            </div></li>\r\n            </ul></li>\r\n        </ul>\r\n        </div>\r\n        \r\n        \r\n        <div class=\"treeview hover p-l-10\">\r\n        <ul class=\"list-unstyled\">\r\n        <li class=\"list-unstyled\"><input id=\"Denominator\" type=\"checkbox\"/><label for=\"Denominator\" class=\"list-header\"><strong>Denominator</strong></label>\r\n            <ul class=\"code\">\r\n            <li class=\"list-unstyled\">\r\n            <div class=\"treeview hover p-l-10\">\r\n            <ul>\r\n                <li style=\"padding-left: 0px;\">\r\n                <div>\r\n                <pre class=\"cql-definition-body\">      &quot;Initial Population&quot;</pre>\r\n                </div></li>\r\n            </ul> \r\n            </div></li>\r\n            </ul></li>\r\n        </ul>\r\n        </div>\r\n        \r\n        \r\n        <div class=\"treeview hover p-l-10\">\r\n        <ul class=\"list-unstyled\">\r\n        <li class=\"list-unstyled\"><input id=\"Denominator Exclusion\" type=\"checkbox\"/><label for=\"Denominator Exclusion\" class=\"list-header\"><strong>Denominator Exclusion</strong></label>\r\n            <ul class=\"code\">\r\n            <li class=\"list-unstyled\">\r\n            <div class=\"treeview hover p-l-10\">\r\n            <ul>\r\n                <li style=\"padding-left: 0px;\">\r\n                <div>\r\n                <pre class=\"cql-definition-body\">    &quot;Encounter Less Than 2 Days&quot;\r\n     union &quot;Encounter With ICU Location Stay 1 Day or More&quot;\r\n     union &quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;\r\n     union &quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;\r\n     union &quot;Encounter With Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission&quot;\r\n     union &quot;Encounter With Intervention Comfort Measures on Day of or Day After Procedure&quot;</pre>\r\n                </div></li>\r\n            </ul> \r\n            </div></li>\r\n            </ul></li>\r\n        </ul>\r\n        </div>\r\n        \r\n        \r\n    </li>\r\n    </ul>\r\n    </div>\r\n\r\n  <h3><a name=\"d1e649\" href=\"#toc\">Definitions</a></h3>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Admission Without VTE or Obstetrical Conditions\" type=\"checkbox\"/>\r\n         <label for=\"Admission Without VTE or Obstetrical Conditions\" class=\"list-header\"><strong>Admission Without VTE or Obstetrical Conditions</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\t  \tGlobal.&quot;Inpatient Encounter&quot; InpatientEncounter\r\n\t\t    where not (exists (Global.EncounterDiagnosis(InpatientEncounter)) EncounterDiagnosis\r\n              where (EncounterDiagnosis.code in &quot;Obstetrics&quot;\r\n\t\t\t\t\t\t\t\tor EncounterDiagnosis.code in &quot;Venous Thromboembolism&quot;\r\n\t\t\t\t\t\t\t\tor EncounterDiagnosis.code in &quot;Obstetrics VTE&quot;\r\n\t\t\t         )\r\n        )</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Denominator\" type=\"checkbox\"/>\r\n         <label for=\"Denominator\" class=\"list-header\"><strong>Denominator</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">      &quot;Initial Population&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Denominator Exclusion\" type=\"checkbox\"/>\r\n         <label for=\"Denominator Exclusion\" class=\"list-header\"><strong>Denominator Exclusion</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">    &quot;Encounter Less Than 2 Days&quot;\r\n     union &quot;Encounter With ICU Location Stay 1 Day or More&quot;\r\n     union &quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;\r\n     union &quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;\r\n     union &quot;Encounter With Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission&quot;\r\n     union &quot;Encounter With Intervention Comfort Measures on Day of or Day After Procedure&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter Less Than 2 Days\" type=\"checkbox\"/>\r\n         <label for=\"Encounter Less Than 2 Days\" class=\"list-header\"><strong>Encounter Less Than 2 Days</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n  \twhere Global.&quot;LengthInDays&quot;(QualifyingEncounter.period)&lt; 2</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions\" class=\"list-header\"><strong>Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">    ( Global.&quot;Inpatient Encounter&quot; InpatientEncounter\r\n    \t\twith [&quot;Patient&quot;] BirthDate\r\n    \t\t\tsuch that Global.&quot;CalendarAgeInYearsAt&quot;(FHIRHelpers.ToDate(BirthDate.birthDate), start of InpatientEncounter.period) &gt;= 18\r\n    )\r\n    intersect &quot;Admission Without VTE or Obstetrical Conditions&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With ICU Location Stay 1 Day or More\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With ICU Location Stay 1 Day or More\" class=\"list-header\"><strong>Encounter With ICU Location Stay 1 Day or More</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n    where exists ( QualifyingEncounter.location Location\r\n    \t\twhere Global.GetLocation(Location.location).type in &quot;Intensive Care Unit&quot;\r\n    \t\t\tand Global.&quot;LengthInDays&quot;(Location.period)&gt;= 1\r\n    \t\t\tand Location.period starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(start of QualifyingEncounter.period)\r\n\t    )</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission\" class=\"list-header\"><strong>Encounter With Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n\t\twith &quot;Intervention Comfort Measures&quot; ComfortMeasure\r\n\t\tsuch that Coalesce(start of Global.&quot;Normalize Interval&quot;(ComfortMeasure.performed), ComfortMeasure.authoredOn) during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With Intervention Comfort Measures on Day of or Day After Procedure\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With Intervention Comfort Measures on Day of or Day After Procedure\" class=\"list-header\"><strong>Encounter With Intervention Comfort Measures on Day of or Day After Procedure</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  from\r\n  \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n  \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n  \t\t&quot;Intervention Comfort Measures&quot; ComfortMeasure\r\n\t\twhere AnesthesiaProcedure.status = 'completed'\r\n\t\t\t\tand Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\r\n        and Coalesce(start of Global.&quot;Normalize Interval&quot;(ComfortMeasure.performed), ComfortMeasure.authoredOn) during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\r\n    return QualifyingEncounter</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With Low Risk for VTE or Anticoagulant Administered\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With Low Risk for VTE or Anticoagulant Administered\" class=\"list-header\"><strong>Encounter With Low Risk for VTE or Anticoagulant Administered</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">   &quot;Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission&quot;\r\n   \t union &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure\" class=\"list-header\"><strong>Encounter With Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\t( from\r\n    \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n  \t\t\t[&quot;MedicationAdministration&quot;: medication in &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\r\n    where FactorXaMedication.status = 'completed'\r\n      and Global.&quot;Normalize Interval&quot;(FactorXaMedication.effective) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(start of QualifyingEncounter.period)\r\n    return QualifyingEncounter\r\n    )\r\n    union ( from\r\n    \t\t\t\t  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n      \t\t\t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n      \t\t\t\t[&quot;MedicationAdministration&quot;: medication in &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\r\n      \t\t\twhere FactorXaMedication.status = 'completed'\r\n                and AnesthesiaProcedure.status = 'completed'\r\n      \t\t\t    and Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\r\n      \t\t\t\t\tand Global.&quot;Normalize Interval&quot;(FactorXaMedication.effective) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\r\n      \t\t\treturn QualifyingEncounter\r\n      \t\t)</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With No VTE Prophylaxis Due to Medical Reason\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With No VTE Prophylaxis Due to Medical Reason\" class=\"list-header\"><strong>Encounter With No VTE Prophylaxis Due to Medical Reason</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">   ( &quot;No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;\r\n     intersect &quot;No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;\r\n   )\r\n   union ( &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;\r\n       intersect &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;\r\n       )</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With No VTE Prophylaxis Due to Patient Refusal\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With No VTE Prophylaxis Due to Patient Refusal\" class=\"list-header\"><strong>Encounter With No VTE Prophylaxis Due to Patient Refusal</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\"> &quot;No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission&quot;\r\n \tunion &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With Principal Diagnosis of Mental Disorder or Stroke\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With Principal Diagnosis of Mental Disorder or Stroke\" class=\"list-header\"><strong>Encounter With Principal Diagnosis of Mental Disorder or Stroke</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n    where Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Mental Health Diagnoses&quot;\r\n        or Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Hemorrhagic Stroke&quot;\r\n        or Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Ischemic Stroke&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With Principal Procedure of SCIP VTE Selected Surgery\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With Principal Procedure of SCIP VTE Selected Surgery\" class=\"list-header\"><strong>Encounter With Principal Procedure of SCIP VTE Selected Surgery</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  from\r\n      &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n      &quot;SCIP VTE Selected Surgery&quot; SelectedProcedure\r\n      let EncounterProcedure: Global.GetExtension(QualifyingEncounter, 'qicore-encounter-procedure')\r\n  where FHIRHelpers.ToInteger(Global.GetExtension(EncounterProcedure, 'rank').value as FHIR.positiveInt) = 1\r\n      and Global.GetId(FHIRHelpers.ToString((Global.GetExtension(EncounterProcedure, 'procedure').value as FHIR.Reference).reference)) = SelectedProcedure.id\r\n      and Global.&quot;Normalize Interval&quot;(SelectedProcedure.performed) during QualifyingEncounter.period</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE\" class=\"list-header\"><strong>Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\t( &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n\t\twith [&quot;Condition&quot;: code in &quot;Atrial Fibrillation/Flutter&quot;] AtrialFibrillation\r\n\t\tsuch that FHIRHelpers.ToConcept(AtrialFibrillation.clinicalStatus) in { Global.&quot;active&quot;, Global.&quot;recurrence&quot;, Global.&quot;relapse&quot; }\r\n\t\t\tand Global.&quot;Normalize Onset&quot;(AtrialFibrillation.onset) starts on or before end of QualifyingEncounter.period\r\n    )\r\n    union ( &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n    \t\t\t\twhere Global.EncounterDiagnosis(QualifyingEncounter).code in &quot;Atrial Fibrillation/Flutter&quot;\r\n    \t\t\t)\r\n    union ( &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n    \t\t\t\twith [&quot;Condition&quot;: code in &quot;Venous Thromboembolism&quot;] VTEDiagnosis\r\n    \t\t\t\tsuch that  FHIRHelpers.ToConcept(VTEDiagnosis.clinicalStatus) in { Global.&quot;inactive&quot;, Global.&quot;remission&quot;, Global.&quot;resolved&quot; }\r\n      \t\t\t\t\t//and VTEDiagnosis.verificationStatus = 'confirmed'\r\n    \t\t\t\tand Global.&quot;Normalize Onset&quot;(VTEDiagnosis.onset) before start of QualifyingEncounter.period\r\n      \t\t)</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery\" class=\"list-header\"><strong>Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n\twith ( [&quot;Procedure&quot;: &quot;Hip Replacement Surgery&quot;]\r\n    \t\t\tunion [&quot;Procedure&quot;: &quot;Knee Replacement Surgery&quot;] ) HipKneeProcedure\r\n\tsuch that HipKneeProcedure.status = 'completed'\r\n\t     and Global.&quot;Normalize Interval&quot;(HipKneeProcedure.performed) starts on or before end of QualifyingEncounter.period</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Encounter With VTE Prophylaxis Received on Day of or Day After Admission or Procedure\" type=\"checkbox\"/>\r\n         <label for=\"Encounter With VTE Prophylaxis Received on Day of or Day After Admission or Procedure\" class=\"list-header\"><strong>Encounter With VTE Prophylaxis Received on Day of or Day After Admission or Procedure</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\"> \t( from\r\n   \t\t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n   \t\t\t&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot; VTEProphylaxis\r\n  \t\twhere Coalesce(Global.&quot;Normalize Interval&quot;(VTEProphylaxis.effective), Global.&quot;Normalize Interval&quot;(VTEProphylaxis.performed)) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(start of QualifyingEncounter.period)\r\n  \t\treturn QualifyingEncounter\r\n \t)\r\n \tunion (\r\n    from\r\n  \t\t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n  \t\t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n  \t\t\t&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot; VTEProphylaxis\r\n\t\t\twhere Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\r\n\t\t\t\tand Coalesce(Global.&quot;Normalize Interval&quot;(VTEProphylaxis.effective), Global.&quot;Normalize Interval&quot;(VTEProphylaxis.performed)) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\r\n\t\t\treturn QualifyingEncounter\r\n\t)</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Initial Population\" type=\"checkbox\"/>\r\n         <label for=\"Initial Population\" class=\"list-header\"><strong>Initial Population</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Intervention Comfort Measures\" type=\"checkbox\"/>\r\n         <label for=\"Intervention Comfort Measures\" class=\"list-header\"><strong>Intervention Comfort Measures</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\t([&quot;ServiceRequest&quot;: &quot;Comfort Measures&quot;] P\r\n    \t\twhere P.intent = 'order'\r\n  )\r\n  \tunion\r\n    \t([&quot;Procedure&quot;: &quot;Comfort Measures&quot;] InterventionPerformed\r\n      \twhere InterventionPerformed.status in {'completed', 'in-progress'})</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Is In Low Risk for VTE or On Anticoagulant\" type=\"checkbox\"/>\r\n         <label for=\"Is In Low Risk for VTE or On Anticoagulant\" class=\"list-header\"><strong>Is In Low Risk for VTE or On Anticoagulant</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\t  ( [&quot;Observation&quot;: &quot;Risk for venous thromboembolism&quot;] VTERiskAssessment\r\n\t\t\t  where VTERiskAssessment.value in &quot;Low Risk&quot;\r\n        and VTERiskAssessment.status in {'final','amended', 'corrected'}\r\n\t  )\r\n  union ( [&quot;Observation&quot;: &quot;INR&quot;] INRLabTest\r\n        where INRLabTest.value as Quantity &gt; 3.0\r\n            and INRLabTest.status in {'final','amended', 'corrected'}\r\n        return &quot;Observation&quot; { id: INRLabTest.id, effective: INRLabTest.issued }\r\n        )\r\n  union ((( [&quot;MedicationAdministration&quot;: &quot;Unfractionated Heparin&quot;] UnfractionatedHeparin\r\n          where UnfractionatedHeparin.dosage.route in &quot;Intravenous route&quot;\r\n         )\r\n         union [&quot;MedicationAdministration&quot;: &quot;Direct Thrombin Inhibitor&quot;]\r\n         union [&quot;MedicationAdministration&quot;: &quot;Glycoprotein IIb/IIIa Inhibitors&quot;] ) AnticoagulantMedication\r\n         where AnticoagulantMedication.status = 'complete'\r\n         return &quot;Observation&quot; { id: AnticoagulantMedication.id, effective: AnticoagulantMedication.effective }\r\n      )</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission\" type=\"checkbox\"/>\r\n         <label for=\"Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission\" class=\"list-header\"><strong>Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\"> \t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n    with &quot;Is In Low Risk for VTE or On Anticoagulant&quot; VTERiskAssessment\r\n    such that Global.&quot;Normalize Interval&quot;(VTERiskAssessment.effective) starts during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure\" type=\"checkbox\"/>\r\n         <label for=\"Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure\" class=\"list-header\"><strong>Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\"> \tfrom\r\n   \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n   \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n   \t\t&quot;Is In Low Risk for VTE or On Anticoagulant&quot; VTERiskAssessment\r\n\twhere Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\r\n \t\t\tand Global.&quot;Normalize Interval&quot;(VTERiskAssessment.effective) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\r\n\treturn QualifyingEncounter</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"No VTE Prophylaxis Device Applied or Ordered\" type=\"checkbox\"/>\r\n         <label for=\"No VTE Prophylaxis Device Applied or Ordered\" class=\"list-header\"><strong>No VTE Prophylaxis Device Applied or Ordered</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  ((\r\n    [&quot;ServiceRequest&quot;: &quot;Venous foot pumps (VFP)&quot;]\r\n    union [&quot;ServiceRequest&quot;: &quot;Intermittent pneumatic compression devices (IPC)&quot;]\r\n    union [&quot;ServiceRequest&quot;: &quot;Graduated compression stockings (GCS)&quot;]\r\n    ) DeviceOrder\r\n    where DeviceOrder.status = 'completed'\r\n    //11/5 discussion: all expressions for QI-Core must include a status\r\n    //ServiceRequest.status -  draft | active | suspended | completed | entered-in-error | cancelled\r\n        and DeviceOrder.doNotPerform is true\r\n    return {id: DeviceOrder.id, requestStatusReason: GetStatusReason(DeviceOrder), authoredOn: DeviceOrder.authoredOn}\r\n    )\r\n  union\r\n    (\r\n      [&quot;Procedure&quot;: &quot;Device Application&quot;] DeviceApplied\r\n      let DeviceNotDoneTiming: Global.GetExtension(DeviceApplied, 'qicore-recorded').value\r\n      where (DeviceApplied.usedCode in &quot;Intermittent pneumatic compression devices (IPC)&quot;\r\n            or DeviceApplied.usedCode in &quot;Venous foot pumps (VFP)&quot;\r\n            or DeviceApplied.usedCode in &quot;Graduated compression stockings (GCS)&quot;\r\n            )\r\n         and  DeviceApplied.status = 'not-done'\r\n         return {id: DeviceApplied.id, requestStatusReason: DeviceApplied.statusReason, authoredOn: DeviceNotDoneTiming}\r\n\r\n    )</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission\" type=\"checkbox\"/>\r\n         <label for=\"No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission\" class=\"list-header\"><strong>No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n  \twith &quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\r\n      such that NoVTEDevice.requestStatusReason in &quot;Medical Reason&quot;\r\n        and  NoVTEDevice.authoredOn during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure\" type=\"checkbox\"/>\r\n         <label for=\"No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure\" class=\"list-header\"><strong>No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  from\r\n  \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n  \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n  \t\t&quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\r\n  where  NoVTEDevice.requestStatusReason in &quot;Medical Reason&quot;\r\n      and AnesthesiaProcedure.status = 'completed'\r\n  \t\tand Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\r\n      and NoVTEDevice.authoredOn during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\r\n  return QualifyingEncounter</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission\" type=\"checkbox\"/>\r\n         <label for=\"No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission\" class=\"list-header\"><strong>No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\"> \t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n\t with &quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot; PatientRefusal\r\n   such that Coalesce(start of Global.&quot;Normalize Interval&quot;(PatientRefusal.effective), PatientRefusal.authoredOn)\r\n         during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure\" type=\"checkbox\"/>\r\n         <label for=\"No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure\" class=\"list-header\"><strong>No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\"> \tfrom\r\n   \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n   \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n   \t\t&quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot; PatientRefusal\r\n\twhere Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\r\n \t\t\tand Coalesce(start of Global.&quot;Normalize Interval&quot;(PatientRefusal.effective), PatientRefusal.authoredOn)\r\n             during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\r\n\treturn QualifyingEncounter</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"No VTE Prophylaxis Medication Administered or Ordered\" type=\"checkbox\"/>\r\n         <label for=\"No VTE Prophylaxis Medication Administered or Ordered\" class=\"list-header\"><strong>No VTE Prophylaxis Medication Administered or Ordered</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">   ((\t[&quot;MedicationAdministration&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\r\n     union\r\n\t    [&quot;MedicationAdministration&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\r\n     union\r\n\t    [&quot;MedicationAdministration&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\r\n     union\r\n\t    [&quot;MedicationAdministration&quot;: medication in &quot;Warfarin&quot;]\r\n       ) MedicationAdm\r\n       where MedicationAdm.status = 'not-done'\r\n        )\r\n  union\r\n\t   ((\t[&quot;MedicationRequest&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\r\n  \tunion\r\n  \t [&quot;MedicationRequest&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\r\n    union\r\n    \t[&quot;MedicationRequest&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\r\n    union\r\n    \t[&quot;MedicationRequest&quot;: medication in &quot;Warfarin&quot;]\r\n    ) MedicationOrder\r\n    \twhere\tMedicationOrder.doNotPerform is true\r\n        and MedicationOrder.status in {'completed', 'cancelled'}\r\n        //11/5 discussion: all expressions for QI-Core must include a status.\r\n        //Therefore, we need ServiceRequest.status = completed; and MedicationRequest.status = cancelled (or completed, since cancelled indicates it was once ordered but intentionally never filled).\r\n        //So the not done issue is handled by ServiceRequest.doNotPerform = True  Or MedicationRequest.doNotPerform = True\r\n    )</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission\" type=\"checkbox\"/>\r\n         <label for=\"No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission\" class=\"list-header\"><strong>No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">   \t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\r\n       with\t&quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\r\n     \tsuch that Coalesce(NoVTEMedication.statusReason,NoVTEMedication.reasonCode) in &quot;Medical Reason&quot;\r\n      \t\t\tand Coalesce(NoVTEMedication.authoredOn, start of Global.&quot;Normalize Interval&quot;(NoVTEMedication.effective)) during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure\" type=\"checkbox\"/>\r\n         <label for=\"No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure\" class=\"list-header\"><strong>No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\tfrom\r\n  \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\r\n  \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n  \t\t&quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\r\n\twhere Coalesce(NoVTEMedication.statusReason,NoVTEMedication.reasonCode) in &quot;Medical Reason&quot;\r\n\t\t\tand AnesthesiaProcedure.status = 'completed'\r\n\t\t\tand Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\r\n\t\t\tand Coalesce(NoVTEMedication.authoredOn, start of Global.&quot;Normalize Interval&quot;(NoVTEMedication.effective)) during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\r\n  return QualifyingEncounter</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"No VTE Prophylaxis Medication or Device Due to Patient Refusal\" type=\"checkbox\"/>\r\n         <label for=\"No VTE Prophylaxis Medication or Device Due to Patient Refusal\" class=\"list-header\"><strong>No VTE Prophylaxis Medication or Device Due to Patient Refusal</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">    ( &quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\r\n        where Coalesce(NoVTEMedication.statusReason,NoVTEMedication.reasonCode) in &quot;Patient Refusal&quot;\r\n    )\r\n  union (&quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\r\n           where NoVTEDevice.requestStatusReason in &quot;Patient Refusal&quot;\r\n        )</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"Numerator\" type=\"checkbox\"/>\r\n         <label for=\"Numerator\" class=\"list-header\"><strong>Numerator</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">    &quot;Encounter With VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;\r\n    union ( &quot;Encounter With Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;\r\n    \t\t\t  intersect ( &quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;\r\n    \t\t\t\t\t\t    union &quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;\r\n    \t\t\t            )\r\n          )\r\n    union &quot;Encounter With Low Risk for VTE or Anticoagulant Administered&quot;\r\n    union &quot;Encounter With No VTE Prophylaxis Due to Medical Reason&quot;\r\n    union &quot;Encounter With No VTE Prophylaxis Due to Patient Refusal&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"SCIP VTE Selected Surgery\" type=\"checkbox\"/>\r\n         <label for=\"SCIP VTE Selected Surgery\" class=\"list-header\"><strong>SCIP VTE Selected Surgery</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  (\t[&quot;Procedure&quot;: &quot;General Surgery&quot;]\r\n    union [&quot;Procedure&quot;: &quot;Gynecological Surgery&quot;]\r\n    union [&quot;Procedure&quot;: &quot;Hip Fracture Surgery&quot;]\r\n    union [&quot;Procedure&quot;: &quot;Hip Replacement Surgery&quot;]\r\n    union [&quot;Procedure&quot;: &quot;Intracranial Neurosurgery&quot;]\r\n    union [&quot;Procedure&quot;: &quot;Knee Replacement Surgery&quot;]\r\n    union [&quot;Procedure&quot;: &quot;Urological Surgery&quot;] ) Procedure\r\n  where Procedure.status = 'completed'</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"SDE Ethnicity\" type=\"checkbox\"/>\r\n         <label for=\"SDE Ethnicity\" class=\"list-header\"><strong>SDE Ethnicity</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  SDE.&quot;SDE Ethnicity&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"SDE Payer\" type=\"checkbox\"/>\r\n         <label for=\"SDE Payer\" class=\"list-header\"><strong>SDE Payer</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\tSDE.&quot;SDE Payer&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"SDE Race\" type=\"checkbox\"/>\r\n         <label for=\"SDE Race\" class=\"list-header\"><strong>SDE Race</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  SDE.&quot;SDE Race&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"SDE Sex\" type=\"checkbox\"/>\r\n         <label for=\"SDE Sex\" class=\"list-header\"><strong>SDE Sex</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">\tSDE.&quot;SDE Sex&quot;</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"VTE Prophylaxis by Medication Administered or Device Applied\" type=\"checkbox\"/>\r\n         <label for=\"VTE Prophylaxis by Medication Administered or Device Applied\" class=\"list-header\"><strong>VTE Prophylaxis by Medication Administered or Device Applied</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">  ( [&quot;MedicationAdministration&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;] VTEMedication\r\n      where VTEMedication.status ='completed'\r\n\t\t\t     and VTEMedication.dosage.route in &quot;Subcutaneous route&quot;\r\n  )\r\n   union ([&quot;MedicationAdministration&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;] LMWH where LMWH.status = 'completed')\r\n    union ([&quot;MedicationAdministration&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;] FactorXa where FactorXa.status = 'completed')\r\n     union ([&quot;MedicationAdministration&quot;: medication in &quot;Warfarin&quot;] Warfarin where Warfarin.status = 'completed')\r\n      union (\r\n          [&quot;Procedure&quot;: &quot;Device Application&quot;] DeviceApplied\r\n          where DeviceApplied.status = 'complete'\r\n                and (DeviceApplied.usedCode in &quot;Intermittent pneumatic compression devices (IPC)&quot;\r\n                    or DeviceApplied.usedCode in&quot;Venous foot pumps (VFP)&quot;\r\n                    or DeviceApplied.usedCode in &quot;Graduated compression stockings (GCS)&quot;\r\n                    )\r\n          )</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <h3><a name=\"d1e650\" href=\"#toc\">Functions</a></h3>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 10px;\">\r\n    <li style=\"list-style:none;\" class=\"list-unstyled\">\r\n     <div>\r\n      <ul style=\"list-style:none;padding-left:0;\" class=\"list-unstyled\">\r\n       <li class=\"list-unstyled\">\r\n        <div class=\"treeview hover p-l-10\">\r\n         <input id=\"GetStatusReason\" type=\"checkbox\"/>\r\n         <label for=\"GetStatusReason\" class=\"list-header\"><strong>GetStatusReason</strong></label>\r\n         <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n          <li class=\"list-unstyled\">\r\n           <div>\r\n            <ul style=\"padding-left: 0px;\">\r\n             <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n              <div>\r\n               <pre class=\"cql-definition-body\">define function GetStatusReason(requestReason ServiceRequest):\r\n      Global.GetBaseExtension(requestReason, 'request-statusReason')</pre>\r\n              </div></li>\r\n            </ul> \r\n           </div></li>\r\n         </ul>\r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <h3><a name=\"d1e555\" href=\"#toc\">Terminology</a></h3>\r\n  <div>\r\n   <ul style=\"padding-left: 50px;\">\r\n    <li style=\"width:80%\">codesystem &quot;ActPriority&quot; : 'http://terminology.hl7.org/ValueSet/v3-ActPriority'</li>\r\n    <li style=\"width:80%\">codesystem &quot;LOINC&quot; : 'http://loinc.org'</li>\r\n    <li style=\"width:80%\">codesystem &quot;RequestIntent&quot; : 'http://terminology.hl7.org/CodeSystem/request-intent'</li>\r\n    <li style=\"width:80%\">codesystem &quot;SNOMEDCT&quot; : 'http://snomed.info/sct/731000124108'</li>\r\n    <li style=\"width:80%\">code &quot;Risk for venous thromboembolism&quot; : '72136-5' from &quot;LOINC&quot; display 'Risk for venous thromboembolism'</li>\r\n    <li style=\"width:80%\">valueset &quot;Atrial Fibrillation/Flutter&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202'</li>\r\n    <li style=\"width:80%\">valueset &quot;Comfort Measures&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45'</li>\r\n    <li style=\"width:80%\">valueset &quot;Device Application&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.48'</li>\r\n    <li style=\"width:80%\">valueset &quot;Direct Thrombin Inhibitor&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205'</li>\r\n    <li style=\"width:80%\">valueset &quot;Emergency Department Visit&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292'</li>\r\n    <li style=\"width:80%\">valueset &quot;General or Neuraxial Anesthesia&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743'</li>\r\n    <li style=\"width:80%\">valueset &quot;General Surgery&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255'</li>\r\n    <li style=\"width:80%\">valueset &quot;Glycoprotein IIb/IIIa Inhibitors&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41'</li>\r\n    <li style=\"width:80%\">valueset &quot;Graduated compression stockings (GCS)&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256'</li>\r\n    <li style=\"width:80%\">valueset &quot;Gynecological Surgery&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257'</li>\r\n    <li style=\"width:80%\">valueset &quot;Hemorrhagic Stroke&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212'</li>\r\n    <li style=\"width:80%\">valueset &quot;Hip Fracture Surgery&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258'</li>\r\n    <li style=\"width:80%\">valueset &quot;Hip Replacement Surgery&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259'</li>\r\n    <li style=\"width:80%\">valueset &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211'</li>\r\n    <li style=\"width:80%\">valueset &quot;INR&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213'</li>\r\n    <li style=\"width:80%\">valueset &quot;Intensive Care Unit&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.23'</li>\r\n    <li style=\"width:80%\">valueset &quot;Intermittent pneumatic compression devices (IPC)&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214'</li>\r\n    <li style=\"width:80%\">valueset &quot;Intracranial Neurosurgery&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260'</li>\r\n    <li style=\"width:80%\">valueset &quot;Intravenous route&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222'</li>\r\n    <li style=\"width:80%\">valueset &quot;Ischemic Stroke&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247'</li>\r\n    <li style=\"width:80%\">valueset &quot;Knee Replacement Surgery&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261'</li>\r\n    <li style=\"width:80%\">valueset &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39'</li>\r\n    <li style=\"width:80%\">valueset &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219'</li>\r\n    <li style=\"width:80%\">valueset &quot;Low Risk&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400'</li>\r\n    <li style=\"width:80%\">valueset &quot;Medical Reason&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473'</li>\r\n    <li style=\"width:80%\">valueset &quot;Mental Health Diagnoses&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004'</li>\r\n    <li style=\"width:80%\">valueset &quot;Obstetrics VTE&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.264'</li>\r\n    <li style=\"width:80%\">valueset &quot;Obstetrics&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263'</li>\r\n    <li style=\"width:80%\">valueset &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134'</li>\r\n    <li style=\"width:80%\">valueset &quot;Patient Refusal&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93'</li>\r\n    <li style=\"width:80%\">valueset &quot;Subcutaneous route&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223'</li>\r\n    <li style=\"width:80%\">valueset &quot;Unfractionated Heparin&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218'</li>\r\n    <li style=\"width:80%\">valueset &quot;Urological Surgery&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272'</li>\r\n    <li style=\"width:80%\">valueset &quot;Venous foot pumps (VFP)&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230'</li>\r\n    <li style=\"width:80%\">valueset &quot;Venous Thromboembolism&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279'</li>\r\n    <li style=\"width:80%\">valueset &quot;Warfarin&quot; : 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232'</li>\r\n   </ul>\r\n  </div>\r\n  <h3><a name=\"d1e647\" href=\"#toc\">Data Criteria (QDM Data Elements)</a></h3>\r\n  <div>\r\n    <ul style=\"padding-left: 50px;\">\r\n      <li style=\"width:80%\">&quot;Condition: Atrial Fibrillation/Flutter&quot; using &quot;Atrial Fibrillation/Flutter (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202)</li>\r\n      <li style=\"width:80%\">&quot;Condition: Venous Thromboembolism&quot; using &quot;Venous Thromboembolism (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279)</li>\r\n      <li style=\"width:80%\">&quot;MedicationAdministration: Direct Thrombin Inhibitor&quot; using &quot;Direct Thrombin Inhibitor (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205)</li>\r\n      <li style=\"width:80%\">&quot;MedicationAdministration: Glycoprotein IIb/IIIa Inhibitors&quot; using &quot;Glycoprotein IIb/IIIa Inhibitors (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41)</li>\r\n      <li style=\"width:80%\">&quot;MedicationAdministration: Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot; using &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211)</li>\r\n      <li style=\"width:80%\">&quot;MedicationAdministration: Low Dose Unfractionated Heparin for VTE Prophylaxis&quot; using &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39)</li>\r\n      <li style=\"width:80%\">&quot;MedicationAdministration: Low Molecular Weight Heparin for VTE Prophylaxis&quot; using &quot;Low Molecular Weight Heparin for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219)</li>\r\n      <li style=\"width:80%\">&quot;MedicationAdministration: Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot; using &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134)</li>\r\n      <li style=\"width:80%\">&quot;MedicationAdministration: Unfractionated Heparin&quot; using &quot;Unfractionated Heparin (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218)</li>\r\n      <li style=\"width:80%\">&quot;MedicationAdministration: Warfarin&quot; using &quot;Warfarin (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232)</li>\r\n      <li style=\"width:80%\">&quot;MedicationRequest: Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot; using &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211)</li>\r\n      <li style=\"width:80%\">&quot;MedicationRequest: Low Dose Unfractionated Heparin for VTE Prophylaxis&quot; using &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39)</li>\r\n      <li style=\"width:80%\">&quot;MedicationRequest: Low Molecular Weight Heparin for VTE Prophylaxis&quot; using &quot;Low Molecular Weight Heparin for VTE Prophylaxis (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219)</li>\r\n      <li style=\"width:80%\">&quot;MedicationRequest: Warfarin&quot; using &quot;Warfarin (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232)</li>\r\n      <li style=\"width:80%\">&quot;Observation: INR&quot; using &quot;INR (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: Comfort Measures&quot; using &quot;Comfort Measures (http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: Device Application&quot; using &quot;Device Application (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.48)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: General or Neuraxial Anesthesia&quot; using &quot;General or Neuraxial Anesthesia (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: General Surgery&quot; using &quot;General Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: Gynecological Surgery&quot; using &quot;Gynecological Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: Hip Fracture Surgery&quot; using &quot;Hip Fracture Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: Hip Replacement Surgery&quot; using &quot;Hip Replacement Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: Intracranial Neurosurgery&quot; using &quot;Intracranial Neurosurgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: Knee Replacement Surgery&quot; using &quot;Knee Replacement Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261)</li>\r\n      <li style=\"width:80%\">&quot;Procedure: Urological Surgery&quot; using &quot;Urological Surgery (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272)</li>\r\n      <li style=\"width:80%\">&quot;ServiceRequest: Comfort Measures&quot; using &quot;Comfort Measures (http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45)</li>\r\n      <li style=\"width:80%\">&quot;ServiceRequest: Graduated compression stockings (GCS)&quot; using &quot;Graduated compression stockings (GCS) (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256)</li>\r\n      <li style=\"width:80%\">&quot;ServiceRequest: Intermittent pneumatic compression devices (IPC)&quot; using &quot;Intermittent pneumatic compression devices (IPC) (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214)</li>\r\n      <li style=\"width:80%\">&quot;ServiceRequest: Venous foot pumps (VFP)&quot; using &quot;Venous foot pumps (VFP) (http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230)</li>\r\n    </ul>\r\n  </div>\r\n  <h3><a name=\"d1e767\" href=\"#toc\">Supplemental Data Elements</a></h3>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 25px;\">\r\n    <li class=\"list-unstyled\">\r\n     <div class=\"treeview hover p-l-10\">\r\n      <input id=\"SDE Ethnicity\" type=\"checkbox\"/>\r\n      <label for=\"SDE Ethnicity\" class=\"list-header\"><strong>SDE Ethnicity</strong></label>\r\n      <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n       <li class=\"list-unstyled\">\r\n        <div>\r\n         <ul style=\"padding-left: 0px;\">\r\n          <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n           <div>\r\n            <pre class=\"cql-definition-body\">  SDE.&quot;SDE Ethnicity&quot;</pre>\r\n           </div></li>\r\n         </ul> \r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 25px;\">\r\n    <li class=\"list-unstyled\">\r\n     <div class=\"treeview hover p-l-10\">\r\n      <input id=\"SDE Payer\" type=\"checkbox\"/>\r\n      <label for=\"SDE Payer\" class=\"list-header\"><strong>SDE Payer</strong></label>\r\n      <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n       <li class=\"list-unstyled\">\r\n        <div>\r\n         <ul style=\"padding-left: 0px;\">\r\n          <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n           <div>\r\n            <pre class=\"cql-definition-body\">\tSDE.&quot;SDE Payer&quot;</pre>\r\n           </div></li>\r\n         </ul> \r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 25px;\">\r\n    <li class=\"list-unstyled\">\r\n     <div class=\"treeview hover p-l-10\">\r\n      <input id=\"SDE Race\" type=\"checkbox\"/>\r\n      <label for=\"SDE Race\" class=\"list-header\"><strong>SDE Race</strong></label>\r\n      <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n       <li class=\"list-unstyled\">\r\n        <div>\r\n         <ul style=\"padding-left: 0px;\">\r\n          <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n           <div>\r\n            <pre class=\"cql-definition-body\">  SDE.&quot;SDE Race&quot;</pre>\r\n           </div></li>\r\n         </ul> \r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 25px;\">\r\n    <li class=\"list-unstyled\">\r\n     <div class=\"treeview hover p-l-10\">\r\n      <input id=\"SDE Sex\" type=\"checkbox\"/>\r\n      <label for=\"SDE Sex\" class=\"list-header\"><strong>SDE Sex</strong></label>\r\n      <ul style=\"margin-right: 20%; opacity: 1;\" class=\"code\">\r\n       <li class=\"list-unstyled\">\r\n        <div>\r\n         <ul style=\"padding-left: 0px;\">\r\n          <li style=\"padding-left: 0px;\" class=\"list-unstyled\">\r\n           <div>\r\n            <pre class=\"cql-definition-body\">\tSDE.&quot;SDE Sex&quot;</pre>\r\n           </div></li>\r\n         </ul> \r\n        </div></li>\r\n      </ul>\r\n     </div></li>\r\n   </ul>\r\n  </div>\r\n  \r\n  <h3><a name=\"d1e879\" href=\"#toc\">Risk Adjustment Variables</a></h3>\r\n  <div>\r\n   <ul style=\"list-style:none;padding-left: 25px;\">\r\n    <li>None</li>\r\n   </ul>\r\n  </div>\r\n  <div style=\"float:left; background:teal; height:3px; width:80%\"/>\r\n  <table>\r\n                                                                                                                                                                                                                                                                                        <!-- <tr th:if=\"${resource.hasSet()}\" >\r\n            <td style=\"background-color:#656565; width:20%\" scope=\"row\"><span class=\"td_label\">Measure Set</span></td>\r\n            <td style=\"width:80%\" th:text=\"${resource.set}\"></td>\r\n        </tr> -->\r\n        \r\n            \r\n            \r\n        \r\n        \r\n            <tr style=\"vertical-align: top;\">\r\n                <td scope=\"row\" style=\"background-color:#656565; width:20%\"><span class=\"td_label\">Content</span></td>\r\n                <td style=\"width:80%\"><b>type: </b><span>text/cql</span></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"2\" style=\"width:100%\">\r\n                    \r\n                        <pre><code class=\"language-cql\">library EXM108 version '8.2.000'\n//for 2020 reporting year. QDM to QI-4\n//Venous Thromboembolism Prophylaxis\n//Author: TJC\n\nusing FHIR version '4.0.0'\n\ninclude FHIRHelpers version '4.0.1' called FHIRHelpers\ninclude MATGlobalCommonFunctions version '5.0.000' called Global\ninclude SupplementalDataElements version '2.0.0' called SDE\ninclude VTEICU version '3.1.000' called VTEICU\ninclude TJCOverall version '5.0.000' called TJC\n\ncodesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct/731000124108'\ncodesystem &quot;LOINC&quot;: 'http://loinc.org'\n// NOTE: R4 code system URLs changed to be based on terminology.hl7.org...\ncodesystem &quot;RequestIntent&quot;: 'http://terminology.hl7.org/CodeSystem/request-intent'\n//NOTE: Created for ActPriority for Encounter.category which is codeableConcept\ncodesystem &quot;ActPriority&quot;: 'http://terminology.hl7.org/ValueSet/v3-ActPriority'\n\nvalueset &quot;Device Application&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.48'\nvalueset &quot;Atrial Fibrillation/Flutter&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202'\nvalueset &quot;Comfort Measures&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45'\nvalueset &quot;Direct Thrombin Inhibitor&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205'\nvalueset &quot;Emergency Department Visit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292'\nvalueset &quot;General or Neuraxial Anesthesia&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743'\nvalueset &quot;General Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255'\nvalueset &quot;Glycoprotein IIb/IIIa Inhibitors&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41'\nvalueset &quot;Graduated compression stockings (GCS)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256'\nvalueset &quot;Gynecological Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257'\nvalueset &quot;Hemorrhagic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212'\nvalueset &quot;Hip Fracture Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258'\nvalueset &quot;Hip Replacement Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259'\nvalueset &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211'\nvalueset &quot;INR&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213'\nvalueset &quot;Intermittent pneumatic compression devices (IPC)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214'\nvalueset &quot;Intracranial Neurosurgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260'\nvalueset &quot;Intravenous route&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222'\nvalueset &quot;Ischemic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247'\nvalueset &quot;Knee Replacement Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261'\nvalueset &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39'\nvalueset &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219'\nvalueset &quot;Low Risk&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400'\nvalueset &quot;Medical Reason&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473'\nvalueset &quot;Mental Health Diagnoses&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004'\nvalueset &quot;Obstetrics&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263'\nvalueset &quot;Obstetrics VTE&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.264'\nvalueset &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134'\nvalueset &quot;Patient Refusal&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93'\nvalueset &quot;Subcutaneous route&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223'\nvalueset &quot;Unfractionated Heparin&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218'\nvalueset &quot;Urological Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272'\nvalueset &quot;Venous foot pumps (VFP)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230'\nvalueset &quot;Venous Thromboembolism&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279'\nvalueset &quot;Warfarin&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232'\nvalueset &quot;Intensive Care Unit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.23'\n\ncode &quot;Risk for venous thromboembolism&quot;: '72136-5' from &quot;LOINC&quot; display 'Risk for venous thromboembolism'\n\ncontext Patient\n\ndefine &quot;SDE Ethnicity&quot;:\n  SDE.&quot;SDE Ethnicity&quot;\n\ndefine &quot;SDE Payer&quot;:\n\tSDE.&quot;SDE Payer&quot;\n\ndefine &quot;SDE Race&quot;:\n  SDE.&quot;SDE Race&quot;\n\ndefine &quot;SDE Sex&quot;:\n\tSDE.&quot;SDE Sex&quot;\n\ndefine &quot;Initial Population&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;\n\n// Note: added FHIRHelpers.ToDate() in R4\ndefine &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;:\n    ( Global.&quot;Inpatient Encounter&quot; InpatientEncounter\n    \t\twith [&quot;Patient&quot;] BirthDate\n    \t\t\tsuch that Global.&quot;CalendarAgeInYearsAt&quot;(FHIRHelpers.ToDate(BirthDate.birthDate), start of InpatientEncounter.period) &gt;= 18\n    )\n    intersect &quot;Admission Without VTE or Obstetrical Conditions&quot;\n\n  define &quot;Admission Without VTE or Obstetrical Conditions&quot;:\n\t  \tGlobal.&quot;Inpatient Encounter&quot; InpatientEncounter\n\t\t    where not (exists (Global.EncounterDiagnosis(InpatientEncounter)) EncounterDiagnosis\n              where (EncounterDiagnosis.code in &quot;Obstetrics&quot;\n\t\t\t\t\t\t\t\tor EncounterDiagnosis.code in &quot;Venous Thromboembolism&quot;\n\t\t\t\t\t\t\t\tor EncounterDiagnosis.code in &quot;Obstetrics VTE&quot;\n\t\t\t         )\n        )\n\ndefine &quot;Denominator&quot;:\n      &quot;Initial Population&quot;\n\ndefine &quot;Denominator Exclusion&quot;:\n    &quot;Encounter Less Than 2 Days&quot;\n     union &quot;Encounter With ICU Location Stay 1 Day or More&quot;\n     union &quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;\n     union &quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;\n     union &quot;Encounter With Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission&quot;\n     union &quot;Encounter With Intervention Comfort Measures on Day of or Day After Procedure&quot;\n\ndefine &quot;Encounter Less Than 2 Days&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n  \twhere Global.&quot;LengthInDays&quot;(QualifyingEncounter.period)&lt; 2\n\ndefine &quot;Encounter With ICU Location Stay 1 Day or More&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    where exists ( QualifyingEncounter.location Location\n    \t\twhere Global.GetLocation(Location.location).type in &quot;Intensive Care Unit&quot;\n    \t\t\tand Global.&quot;LengthInDays&quot;(Location.period)&gt;= 1\n    \t\t\tand Location.period starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(start of QualifyingEncounter.period)\n\t    )\n\ndefine &quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    where Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Mental Health Diagnoses&quot;\n        or Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Hemorrhagic Stroke&quot;\n        or Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Ischemic Stroke&quot;\n\n/* NOTE: 2 options to express Principal Procedure to retrive &quot;encounter Procedure as an url&quot; and proedure &quot;rank as extension&quot; in R4\n          VTE-1 uses Option 1 - generic extension funtion\n          VTE-2 uses Option 2 - Specific extension functions\n  TODO:  Mapping Table needs revision on using &quot;Encounter.procedure.code&quot;, &quot;Encounter.procedure.sequence&quot;\n*/\n\ndefine &quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;:\n  from\n      &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n      &quot;SCIP VTE Selected Surgery&quot; SelectedProcedure\n      let EncounterProcedure: Global.GetExtension(QualifyingEncounter, 'qicore-encounter-procedure')\n  where FHIRHelpers.ToInteger(Global.GetExtension(EncounterProcedure, 'rank').value as FHIR.positiveInt) = 1\n      and Global.GetId(FHIRHelpers.ToString((Global.GetExtension(EncounterProcedure, 'procedure').value as FHIR.Reference).reference)) = SelectedProcedure.id\n      and Global.&quot;Normalize Interval&quot;(SelectedProcedure.performed) during QualifyingEncounter.period\n\ndefine &quot;SCIP VTE Selected Surgery&quot;:\n  (\t[&quot;Procedure&quot;: &quot;General Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Gynecological Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Hip Fracture Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Hip Replacement Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Intracranial Neurosurgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Knee Replacement Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Urological Surgery&quot;] ) Procedure\n  where Procedure.status = 'completed'\n\ndefine &quot;Encounter With Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission&quot;:\n\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n\t\twith &quot;Intervention Comfort Measures&quot; ComfortMeasure\n\t\tsuch that Coalesce(start of Global.&quot;Normalize Interval&quot;(ComfortMeasure.performed), ComfortMeasure.authoredOn) during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\ndefine &quot;Intervention Comfort Measures&quot;:\n\t([&quot;ServiceRequest&quot;: &quot;Comfort Measures&quot;] P\n    \t\twhere P.intent = 'order'\n  )\n  \tunion\n    \t([&quot;Procedure&quot;: &quot;Comfort Measures&quot;] InterventionPerformed\n      \twhere InterventionPerformed.status in {'completed', 'in-progress'})\n\ndefine &quot;Encounter With Intervention Comfort Measures on Day of or Day After Procedure&quot;:\n  from\n  \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n  \t\t&quot;Intervention Comfort Measures&quot; ComfortMeasure\n\t\twhere AnesthesiaProcedure.status = 'completed'\n\t\t\t\tand Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n        and Coalesce(start of Global.&quot;Normalize Interval&quot;(ComfortMeasure.performed), ComfortMeasure.authoredOn) during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n    return QualifyingEncounter\n\ndefine &quot;Numerator&quot;:\n    &quot;Encounter With VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;\n    union ( &quot;Encounter With Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;\n    \t\t\t  intersect ( &quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;\n    \t\t\t\t\t\t    union &quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;\n    \t\t\t            )\n          )\n    union &quot;Encounter With Low Risk for VTE or Anticoagulant Administered&quot;\n    union &quot;Encounter With No VTE Prophylaxis Due to Medical Reason&quot;\n    union &quot;Encounter With No VTE Prophylaxis Due to Patient Refusal&quot;\n\ndefine &quot;Encounter With VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;:\n \t( from\n   \t\t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n   \t\t\t&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot; VTEProphylaxis\n  \t\twhere Coalesce(Global.&quot;Normalize Interval&quot;(VTEProphylaxis.effective), Global.&quot;Normalize Interval&quot;(VTEProphylaxis.performed)) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(start of QualifyingEncounter.period)\n  \t\treturn QualifyingEncounter\n \t)\n \tunion (\n    from\n  \t\t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n  \t\t\t&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot; VTEProphylaxis\n\t\t\twhere Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n\t\t\t\tand Coalesce(Global.&quot;Normalize Interval&quot;(VTEProphylaxis.effective), Global.&quot;Normalize Interval&quot;(VTEProphylaxis.performed)) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n\t\t\treturn QualifyingEncounter\n\t)\n\n// 10/29: Replaced DeviceUseStatement with Procedure with a new value set and procedure.usdCode for specifying devices\ndefine &quot;VTE Prophylaxis by Medication Administered or Device Applied&quot;:\n  ( [&quot;MedicationAdministration&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;] VTEMedication\n      where VTEMedication.status ='completed'\n\t\t\t     and VTEMedication.dosage.route in &quot;Subcutaneous route&quot;\n  )\n   union ([&quot;MedicationAdministration&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;] LMWH where LMWH.status = 'completed')\n    union ([&quot;MedicationAdministration&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;] FactorXa where FactorXa.status = 'completed')\n     union ([&quot;MedicationAdministration&quot;: medication in &quot;Warfarin&quot;] Warfarin where Warfarin.status = 'completed')\n      union (\n          [&quot;Procedure&quot;: &quot;Device Application&quot;] DeviceApplied\n          where DeviceApplied.status = 'complete'\n                and (DeviceApplied.usedCode in &quot;Intermittent pneumatic compression devices (IPC)&quot;\n                    or DeviceApplied.usedCode in&quot;Venous foot pumps (VFP)&quot;\n                    or DeviceApplied.usedCode in &quot;Graduated compression stockings (GCS)&quot;\n                    )\n          )\n\ndefine &quot;Encounter With Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;:\n\t( from\n    \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t\t[&quot;MedicationAdministration&quot;: medication in &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\n    where FactorXaMedication.status = 'completed'\n      and Global.&quot;Normalize Interval&quot;(FactorXaMedication.effective) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(start of QualifyingEncounter.period)\n    return QualifyingEncounter\n    )\n    union ( from\n    \t\t\t\t  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n      \t\t\t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n      \t\t\t\t[&quot;MedicationAdministration&quot;: medication in &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\n      \t\t\twhere FactorXaMedication.status = 'completed'\n                and AnesthesiaProcedure.status = 'completed'\n      \t\t\t    and Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n      \t\t\t\t\tand Global.&quot;Normalize Interval&quot;(FactorXaMedication.effective) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n      \t\t\treturn QualifyingEncounter\n      \t\t)\n\n/*NOTE: Feedback at Digitial Quality Summit 2019 indicates verificationStatus may be difficult for implementers to retrieve\n        both condition.clinicalStatus and condition.verificationStatus = 'confirmed'\n*/\ndefine &quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;:\n\t( &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n\t\twith [&quot;Condition&quot;: code in &quot;Atrial Fibrillation/Flutter&quot;] AtrialFibrillation\n\t\tsuch that FHIRHelpers.ToConcept(AtrialFibrillation.clinicalStatus) in { Global.&quot;active&quot;, Global.&quot;recurrence&quot;, Global.&quot;relapse&quot; }\n\t\t\tand Global.&quot;Normalize Onset&quot;(AtrialFibrillation.onset) starts on or before end of QualifyingEncounter.period\n    )\n    union ( &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    \t\t\t\twhere Global.EncounterDiagnosis(QualifyingEncounter).code in &quot;Atrial Fibrillation/Flutter&quot;\n    \t\t\t)\n    union ( &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    \t\t\t\twith [&quot;Condition&quot;: code in &quot;Venous Thromboembolism&quot;] VTEDiagnosis\n    \t\t\t\tsuch that  FHIRHelpers.ToConcept(VTEDiagnosis.clinicalStatus) in { Global.&quot;inactive&quot;, Global.&quot;remission&quot;, Global.&quot;resolved&quot; }\n      \t\t\t\t\t//and VTEDiagnosis.verificationStatus = 'confirmed'\n    \t\t\t\tand Global.&quot;Normalize Onset&quot;(VTEDiagnosis.onset) before start of QualifyingEncounter.period\n      \t\t)\n\ndefine &quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;:\n\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n\twith ( [&quot;Procedure&quot;: &quot;Hip Replacement Surgery&quot;]\n    \t\t\tunion [&quot;Procedure&quot;: &quot;Knee Replacement Surgery&quot;] ) HipKneeProcedure\n\tsuch that HipKneeProcedure.status = 'completed'\n\t     and Global.&quot;Normalize Interval&quot;(HipKneeProcedure.performed) starts on or before end of QualifyingEncounter.period\n\n\ndefine &quot;Encounter With Low Risk for VTE or Anticoagulant Administered&quot;:\n   &quot;Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission&quot;\n   \t union &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;\n\ndefine &quot;Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission&quot;:\n \t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    with &quot;Is In Low Risk for VTE or On Anticoagulant&quot; VTERiskAssessment\n    such that Global.&quot;Normalize Interval&quot;(VTERiskAssessment.effective) starts during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\ndefine &quot;Is In Low Risk for VTE or On Anticoagulant&quot;:\n\t  ( [&quot;Observation&quot;: &quot;Risk for venous thromboembolism&quot;] VTERiskAssessment\n\t\t\t  where VTERiskAssessment.value in &quot;Low Risk&quot;\n        and VTERiskAssessment.status in {'final','amended', 'corrected'}\n\t  )\n  union ( [&quot;Observation&quot;: &quot;INR&quot;] INRLabTest\n        where INRLabTest.value as Quantity &gt; 3.0\n            and INRLabTest.status in {'final','amended', 'corrected'}\n        return &quot;Observation&quot; { id: INRLabTest.id, effective: INRLabTest.issued }\n        )\n  union ((( [&quot;MedicationAdministration&quot;: &quot;Unfractionated Heparin&quot;] UnfractionatedHeparin\n          where UnfractionatedHeparin.dosage.route in &quot;Intravenous route&quot;\n         )\n         union [&quot;MedicationAdministration&quot;: &quot;Direct Thrombin Inhibitor&quot;]\n         union [&quot;MedicationAdministration&quot;: &quot;Glycoprotein IIb/IIIa Inhibitors&quot;] ) AnticoagulantMedication\n         where AnticoagulantMedication.status = 'complete'\n         return &quot;Observation&quot; { id: AnticoagulantMedication.id, effective: AnticoagulantMedication.effective }\n      )\n\ndefine &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;:\n \tfrom\n   \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n   \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n   \t\t&quot;Is In Low Risk for VTE or On Anticoagulant&quot; VTERiskAssessment\n\twhere Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n \t\t\tand Global.&quot;Normalize Interval&quot;(VTERiskAssessment.effective) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n\treturn QualifyingEncounter\n\ndefine &quot;Encounter With No VTE Prophylaxis Due to Medical Reason&quot;:\n   ( &quot;No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;\n     intersect &quot;No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;\n   )\n   union ( &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;\n       intersect &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;\n       )\n\ndefine &quot;No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;:\n   \t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n       with\t&quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\n     \tsuch that Coalesce(NoVTEMedication.statusReason,NoVTEMedication.reasonCode) in &quot;Medical Reason&quot;\n      \t\t\tand Coalesce(NoVTEMedication.authoredOn, start of Global.&quot;Normalize Interval&quot;(NoVTEMedication.effective)) during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\ndefine &quot;No VTE Prophylaxis Medication Administered or Ordered&quot;:\n   ((\t[&quot;MedicationAdministration&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\n     union\n\t    [&quot;MedicationAdministration&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\n     union\n\t    [&quot;MedicationAdministration&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\n     union\n\t    [&quot;MedicationAdministration&quot;: medication in &quot;Warfarin&quot;]\n       ) MedicationAdm\n       where MedicationAdm.status = 'not-done'\n        )\n  union\n\t   ((\t[&quot;MedicationRequest&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\n  \tunion\n  \t [&quot;MedicationRequest&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\n    union\n    \t[&quot;MedicationRequest&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\n    union\n    \t[&quot;MedicationRequest&quot;: medication in &quot;Warfarin&quot;]\n    ) MedicationOrder\n    \twhere\tMedicationOrder.doNotPerform is true\n        and MedicationOrder.status in {'completed', 'cancelled'}\n        //11/5 discussion: all expressions for QI-Core must include a status.\n        //Therefore, we need ServiceRequest.status = completed; and MedicationRequest.status = cancelled (or completed, since cancelled indicates it was once ordered but intentionally never filled).\n        //So the not done issue is handled by ServiceRequest.doNotPerform = True  Or MedicationRequest.doNotPerform = True\n    )\n\ndefine &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;:\n\tfrom\n  \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n  \t\t&quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\n\twhere Coalesce(NoVTEMedication.statusReason,NoVTEMedication.reasonCode) in &quot;Medical Reason&quot;\n\t\t\tand AnesthesiaProcedure.status = 'completed'\n\t\t\tand Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n\t\t\tand Coalesce(NoVTEMedication.authoredOn, start of Global.&quot;Normalize Interval&quot;(NoVTEMedication.effective)) during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n  return QualifyingEncounter\n\ndefine &quot;No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n  \twith &quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\n      such that NoVTEDevice.requestStatusReason in &quot;Medical Reason&quot;\n        and  NoVTEDevice.authoredOn during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\n//11/5: ServiceRequest not done reason is an extension in QI-Core R4 as ServiceRequest.extension:statusReason\ndefine function GetStatusReason(requestReason ServiceRequest):\n      Global.GetBaseExtension(requestReason, 'request-statusReason')\n\ndefine &quot;No VTE Prophylaxis Device Applied or Ordered&quot;:\n  ((\n    [&quot;ServiceRequest&quot;: &quot;Venous foot pumps (VFP)&quot;]\n    union [&quot;ServiceRequest&quot;: &quot;Intermittent pneumatic compression devices (IPC)&quot;]\n    union [&quot;ServiceRequest&quot;: &quot;Graduated compression stockings (GCS)&quot;]\n    ) DeviceOrder\n    where DeviceOrder.status = 'completed'\n    //11/5 discussion: all expressions for QI-Core must include a status\n    //ServiceRequest.status -  draft | active | suspended | completed | entered-in-error | cancelled\n        and DeviceOrder.doNotPerform is true\n    return {id: DeviceOrder.id, requestStatusReason: GetStatusReason(DeviceOrder), authoredOn: DeviceOrder.authoredOn}\n    )\n  union\n    (\n      [&quot;Procedure&quot;: &quot;Device Application&quot;] DeviceApplied\n      let DeviceNotDoneTiming: Global.GetExtension(DeviceApplied, 'qicore-recorded').value\n      where (DeviceApplied.usedCode in &quot;Intermittent pneumatic compression devices (IPC)&quot;\n            or DeviceApplied.usedCode in &quot;Venous foot pumps (VFP)&quot;\n            or DeviceApplied.usedCode in &quot;Graduated compression stockings (GCS)&quot;\n            )\n         and  DeviceApplied.status = 'not-done'\n         return {id: DeviceApplied.id, requestStatusReason: DeviceApplied.statusReason, authoredOn: DeviceNotDoneTiming}\n\n    )\n\ndefine &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;:\n  from\n  \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n  \t\t&quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\n  where  NoVTEDevice.requestStatusReason in &quot;Medical Reason&quot;\n      and AnesthesiaProcedure.status = 'completed'\n  \t\tand Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n      and NoVTEDevice.authoredOn during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n  return QualifyingEncounter\n\ndefine &quot;Encounter With No VTE Prophylaxis Due to Patient Refusal&quot;:\n &quot;No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission&quot;\n \tunion &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;\n\ndefine &quot;No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission&quot;:\n \t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n\t with &quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot; PatientRefusal\n   such that Coalesce(start of Global.&quot;Normalize Interval&quot;(PatientRefusal.effective), PatientRefusal.authoredOn)\n         during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\ndefine &quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;:\n    ( &quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\n        where Coalesce(NoVTEMedication.statusReason,NoVTEMedication.reasonCode) in &quot;Patient Refusal&quot;\n    )\n  union (&quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\n           where NoVTEDevice.requestStatusReason in &quot;Patient Refusal&quot;\n        )\n\ndefine &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;:\n \tfrom\n   \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n   \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n   \t\t&quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot; PatientRefusal\n\twhere Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n \t\t\tand Coalesce(start of Global.&quot;Normalize Interval&quot;(PatientRefusal.effective), PatientRefusal.authoredOn)\n             during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n\treturn QualifyingEncounter\n</code></pre>\r\n                    \r\n                    \r\n                </td>\r\n            </tr>\r\n        \r\n        \r\n            \r\n            \r\n        \r\n        \r\n            <tr style=\"vertical-align: top;\">\r\n                <td scope=\"row\" style=\"background-color:#656565; width:20%\"><span class=\"td_label\">Content</span></td>\r\n                <td style=\"width:80%\"><b>type: </b><span>text/cql</span></td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"2\" style=\"width:100%\">\r\n                    \r\n                        <pre><code class=\"language-cql\">library EXM108 version '8.2.000'\n//for 2020 reporting year. QDM to QI-4\n//Venous Thromboembolism Prophylaxis\n//Author: TJC\n\nusing FHIR version '4.0.0'\n\ninclude FHIRHelpers version '4.0.1' called FHIRHelpers\ninclude MATGlobalCommonFunctions version '5.0.000' called Global\ninclude SupplementalDataElements version '2.0.0' called SDE\ninclude VTEICU version '3.1.000' called VTEICU\ninclude TJCOverall version '5.0.000' called TJC\n\ncodesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct/731000124108'\ncodesystem &quot;LOINC&quot;: 'http://loinc.org'\n// NOTE: R4 code system URLs changed to be based on terminology.hl7.org...\ncodesystem &quot;RequestIntent&quot;: 'http://terminology.hl7.org/CodeSystem/request-intent'\n//NOTE: Created for ActPriority for Encounter.category which is codeableConcept\ncodesystem &quot;ActPriority&quot;: 'http://terminology.hl7.org/ValueSet/v3-ActPriority'\n\nvalueset &quot;Device Application&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.48'\nvalueset &quot;Atrial Fibrillation/Flutter&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202'\nvalueset &quot;Comfort Measures&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45'\nvalueset &quot;Direct Thrombin Inhibitor&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205'\nvalueset &quot;Emergency Department Visit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292'\nvalueset &quot;General or Neuraxial Anesthesia&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743'\nvalueset &quot;General Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255'\nvalueset &quot;Glycoprotein IIb/IIIa Inhibitors&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41'\nvalueset &quot;Graduated compression stockings (GCS)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256'\nvalueset &quot;Gynecological Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257'\nvalueset &quot;Hemorrhagic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212'\nvalueset &quot;Hip Fracture Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258'\nvalueset &quot;Hip Replacement Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259'\nvalueset &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211'\nvalueset &quot;INR&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213'\nvalueset &quot;Intermittent pneumatic compression devices (IPC)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214'\nvalueset &quot;Intracranial Neurosurgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260'\nvalueset &quot;Intravenous route&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222'\nvalueset &quot;Ischemic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247'\nvalueset &quot;Knee Replacement Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261'\nvalueset &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39'\nvalueset &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219'\nvalueset &quot;Low Risk&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400'\nvalueset &quot;Medical Reason&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473'\nvalueset &quot;Mental Health Diagnoses&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004'\nvalueset &quot;Obstetrics&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263'\nvalueset &quot;Obstetrics VTE&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.264'\nvalueset &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134'\nvalueset &quot;Patient Refusal&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93'\nvalueset &quot;Subcutaneous route&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223'\nvalueset &quot;Unfractionated Heparin&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218'\nvalueset &quot;Urological Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272'\nvalueset &quot;Venous foot pumps (VFP)&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230'\nvalueset &quot;Venous Thromboembolism&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279'\nvalueset &quot;Warfarin&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232'\nvalueset &quot;Intensive Care Unit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.23'\n\ncode &quot;Risk for venous thromboembolism&quot;: '72136-5' from &quot;LOINC&quot; display 'Risk for venous thromboembolism'\n\ncontext Patient\n\ndefine &quot;SDE Ethnicity&quot;:\n  SDE.&quot;SDE Ethnicity&quot;\n\ndefine &quot;SDE Payer&quot;:\n\tSDE.&quot;SDE Payer&quot;\n\ndefine &quot;SDE Race&quot;:\n  SDE.&quot;SDE Race&quot;\n\ndefine &quot;SDE Sex&quot;:\n\tSDE.&quot;SDE Sex&quot;\n\ndefine &quot;Initial Population&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;\n\n// Note: added FHIRHelpers.ToDate() in R4\ndefine &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot;:\n    ( Global.&quot;Inpatient Encounter&quot; InpatientEncounter\n    \t\twith [&quot;Patient&quot;] BirthDate\n    \t\t\tsuch that Global.&quot;CalendarAgeInYearsAt&quot;(FHIRHelpers.ToDate(BirthDate.birthDate), start of InpatientEncounter.period) &gt;= 18\n    )\n    intersect &quot;Admission Without VTE or Obstetrical Conditions&quot;\n\n  define &quot;Admission Without VTE or Obstetrical Conditions&quot;:\n\t  \tGlobal.&quot;Inpatient Encounter&quot; InpatientEncounter\n\t\t    where not (exists (Global.EncounterDiagnosis(InpatientEncounter)) EncounterDiagnosis\n              where (EncounterDiagnosis.code in &quot;Obstetrics&quot;\n\t\t\t\t\t\t\t\tor EncounterDiagnosis.code in &quot;Venous Thromboembolism&quot;\n\t\t\t\t\t\t\t\tor EncounterDiagnosis.code in &quot;Obstetrics VTE&quot;\n\t\t\t         )\n        )\n\ndefine &quot;Denominator&quot;:\n      &quot;Initial Population&quot;\n\ndefine &quot;Denominator Exclusion&quot;:\n    &quot;Encounter Less Than 2 Days&quot;\n     union &quot;Encounter With ICU Location Stay 1 Day or More&quot;\n     union &quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;\n     union &quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;\n     union &quot;Encounter With Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission&quot;\n     union &quot;Encounter With Intervention Comfort Measures on Day of or Day After Procedure&quot;\n\ndefine &quot;Encounter Less Than 2 Days&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n  \twhere Global.&quot;LengthInDays&quot;(QualifyingEncounter.period)&lt; 2\n\ndefine &quot;Encounter With ICU Location Stay 1 Day or More&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    where exists ( QualifyingEncounter.location Location\n    \t\twhere Global.GetLocation(Location.location).type in &quot;Intensive Care Unit&quot;\n    \t\t\tand Global.&quot;LengthInDays&quot;(Location.period)&gt;= 1\n    \t\t\tand Location.period starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(start of QualifyingEncounter.period)\n\t    )\n\ndefine &quot;Encounter With Principal Diagnosis of Mental Disorder or Stroke&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    where Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Mental Health Diagnoses&quot;\n        or Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Hemorrhagic Stroke&quot;\n        or Global.&quot;PrincipalDiagnosis&quot;(QualifyingEncounter).code in &quot;Ischemic Stroke&quot;\n\n/* NOTE: 2 options to express Principal Procedure to retrive &quot;encounter Procedure as an url&quot; and proedure &quot;rank as extension&quot; in R4\n          VTE-1 uses Option 1 - generic extension funtion\n          VTE-2 uses Option 2 - Specific extension functions\n  TODO:  Mapping Table needs revision on using &quot;Encounter.procedure.code&quot;, &quot;Encounter.procedure.sequence&quot;\n*/\n\ndefine &quot;Encounter With Principal Procedure of SCIP VTE Selected Surgery&quot;:\n  from\n      &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n      &quot;SCIP VTE Selected Surgery&quot; SelectedProcedure\n      let EncounterProcedure: Global.GetExtension(QualifyingEncounter, 'qicore-encounter-procedure')\n  where FHIRHelpers.ToInteger(Global.GetExtension(EncounterProcedure, 'rank').value as FHIR.positiveInt) = 1\n      and Global.GetId(FHIRHelpers.ToString((Global.GetExtension(EncounterProcedure, 'procedure').value as FHIR.Reference).reference)) = SelectedProcedure.id\n      and Global.&quot;Normalize Interval&quot;(SelectedProcedure.performed) during QualifyingEncounter.period\n\ndefine &quot;SCIP VTE Selected Surgery&quot;:\n  (\t[&quot;Procedure&quot;: &quot;General Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Gynecological Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Hip Fracture Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Hip Replacement Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Intracranial Neurosurgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Knee Replacement Surgery&quot;]\n    union [&quot;Procedure&quot;: &quot;Urological Surgery&quot;] ) Procedure\n  where Procedure.status = 'completed'\n\ndefine &quot;Encounter With Intervention Comfort Measures From Day of Start of Hospitalization To Day After Admission&quot;:\n\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n\t\twith &quot;Intervention Comfort Measures&quot; ComfortMeasure\n\t\tsuch that Coalesce(start of Global.&quot;Normalize Interval&quot;(ComfortMeasure.performed), ComfortMeasure.authoredOn) during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\ndefine &quot;Intervention Comfort Measures&quot;:\n\t([&quot;ServiceRequest&quot;: &quot;Comfort Measures&quot;] P\n    \t\twhere P.intent = 'order'\n  )\n  \tunion\n    \t([&quot;Procedure&quot;: &quot;Comfort Measures&quot;] InterventionPerformed\n      \twhere InterventionPerformed.status in {'completed', 'in-progress'})\n\ndefine &quot;Encounter With Intervention Comfort Measures on Day of or Day After Procedure&quot;:\n  from\n  \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n  \t\t&quot;Intervention Comfort Measures&quot; ComfortMeasure\n\t\twhere AnesthesiaProcedure.status = 'completed'\n\t\t\t\tand Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n        and Coalesce(start of Global.&quot;Normalize Interval&quot;(ComfortMeasure.performed), ComfortMeasure.authoredOn) during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n    return QualifyingEncounter\n\ndefine &quot;Numerator&quot;:\n    &quot;Encounter With VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;\n    union ( &quot;Encounter With Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;\n    \t\t\t  intersect ( &quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;\n    \t\t\t\t\t\t    union &quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;\n    \t\t\t            )\n          )\n    union &quot;Encounter With Low Risk for VTE or Anticoagulant Administered&quot;\n    union &quot;Encounter With No VTE Prophylaxis Due to Medical Reason&quot;\n    union &quot;Encounter With No VTE Prophylaxis Due to Patient Refusal&quot;\n\ndefine &quot;Encounter With VTE Prophylaxis Received on Day of or Day After Admission or Procedure&quot;:\n \t( from\n   \t\t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n   \t\t\t&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot; VTEProphylaxis\n  \t\twhere Coalesce(Global.&quot;Normalize Interval&quot;(VTEProphylaxis.effective), Global.&quot;Normalize Interval&quot;(VTEProphylaxis.performed)) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(start of QualifyingEncounter.period)\n  \t\treturn QualifyingEncounter\n \t)\n \tunion (\n    from\n  \t\t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n  \t\t\t&quot;VTE Prophylaxis by Medication Administered or Device Applied&quot; VTEProphylaxis\n\t\t\twhere Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n\t\t\t\tand Coalesce(Global.&quot;Normalize Interval&quot;(VTEProphylaxis.effective), Global.&quot;Normalize Interval&quot;(VTEProphylaxis.performed)) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n\t\t\treturn QualifyingEncounter\n\t)\n\n// 10/29: Replaced DeviceUseStatement with Procedure with a new value set and procedure.usdCode for specifying devices\ndefine &quot;VTE Prophylaxis by Medication Administered or Device Applied&quot;:\n  ( [&quot;MedicationAdministration&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;] VTEMedication\n      where VTEMedication.status ='completed'\n\t\t\t     and VTEMedication.dosage.route in &quot;Subcutaneous route&quot;\n  )\n   union ([&quot;MedicationAdministration&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;] LMWH where LMWH.status = 'completed')\n    union ([&quot;MedicationAdministration&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;] FactorXa where FactorXa.status = 'completed')\n     union ([&quot;MedicationAdministration&quot;: medication in &quot;Warfarin&quot;] Warfarin where Warfarin.status = 'completed')\n      union (\n          [&quot;Procedure&quot;: &quot;Device Application&quot;] DeviceApplied\n          where DeviceApplied.status = 'complete'\n                and (DeviceApplied.usedCode in &quot;Intermittent pneumatic compression devices (IPC)&quot;\n                    or DeviceApplied.usedCode in&quot;Venous foot pumps (VFP)&quot;\n                    or DeviceApplied.usedCode in &quot;Graduated compression stockings (GCS)&quot;\n                    )\n          )\n\ndefine &quot;Encounter With Medication Oral Factor Xa Inhibitor Administered on Day of or Day After Admission or Procedure&quot;:\n\t( from\n    \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t\t[&quot;MedicationAdministration&quot;: medication in &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\n    where FactorXaMedication.status = 'completed'\n      and Global.&quot;Normalize Interval&quot;(FactorXaMedication.effective) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(start of QualifyingEncounter.period)\n    return QualifyingEncounter\n    )\n    union ( from\n    \t\t\t\t  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n      \t\t\t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n      \t\t\t\t[&quot;MedicationAdministration&quot;: medication in &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\n      \t\t\twhere FactorXaMedication.status = 'completed'\n                and AnesthesiaProcedure.status = 'completed'\n      \t\t\t    and Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n      \t\t\t\t\tand Global.&quot;Normalize Interval&quot;(FactorXaMedication.effective) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n      \t\t\treturn QualifyingEncounter\n      \t\t)\n\n/*NOTE: Feedback at Digitial Quality Summit 2019 indicates verificationStatus may be difficult for implementers to retrieve\n        both condition.clinicalStatus and condition.verificationStatus = 'confirmed'\n*/\ndefine &quot;Encounter With Prior or Present Diagnosis of Atrial Fibrillation or VTE&quot;:\n\t( &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n\t\twith [&quot;Condition&quot;: code in &quot;Atrial Fibrillation/Flutter&quot;] AtrialFibrillation\n\t\tsuch that FHIRHelpers.ToConcept(AtrialFibrillation.clinicalStatus) in { Global.&quot;active&quot;, Global.&quot;recurrence&quot;, Global.&quot;relapse&quot; }\n\t\t\tand Global.&quot;Normalize Onset&quot;(AtrialFibrillation.onset) starts on or before end of QualifyingEncounter.period\n    )\n    union ( &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    \t\t\t\twhere Global.EncounterDiagnosis(QualifyingEncounter).code in &quot;Atrial Fibrillation/Flutter&quot;\n    \t\t\t)\n    union ( &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    \t\t\t\twith [&quot;Condition&quot;: code in &quot;Venous Thromboembolism&quot;] VTEDiagnosis\n    \t\t\t\tsuch that  FHIRHelpers.ToConcept(VTEDiagnosis.clinicalStatus) in { Global.&quot;inactive&quot;, Global.&quot;remission&quot;, Global.&quot;resolved&quot; }\n      \t\t\t\t\t//and VTEDiagnosis.verificationStatus = 'confirmed'\n    \t\t\t\tand Global.&quot;Normalize Onset&quot;(VTEDiagnosis.onset) before start of QualifyingEncounter.period\n      \t\t)\n\ndefine &quot;Encounter With Prior or Present Procedure of Hip or Knee Replacement Surgery&quot;:\n\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n\twith ( [&quot;Procedure&quot;: &quot;Hip Replacement Surgery&quot;]\n    \t\t\tunion [&quot;Procedure&quot;: &quot;Knee Replacement Surgery&quot;] ) HipKneeProcedure\n\tsuch that HipKneeProcedure.status = 'completed'\n\t     and Global.&quot;Normalize Interval&quot;(HipKneeProcedure.performed) starts on or before end of QualifyingEncounter.period\n\n\ndefine &quot;Encounter With Low Risk for VTE or Anticoagulant Administered&quot;:\n   &quot;Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission&quot;\n   \t union &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;\n\ndefine &quot;Low Risk for VTE or Anticoagulant Administered From Day of Start of Hospitalization To Day After Admission&quot;:\n \t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n    with &quot;Is In Low Risk for VTE or On Anticoagulant&quot; VTERiskAssessment\n    such that Global.&quot;Normalize Interval&quot;(VTERiskAssessment.effective) starts during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\ndefine &quot;Is In Low Risk for VTE or On Anticoagulant&quot;:\n\t  ( [&quot;Observation&quot;: &quot;Risk for venous thromboembolism&quot;] VTERiskAssessment\n\t\t\t  where VTERiskAssessment.value in &quot;Low Risk&quot;\n        and VTERiskAssessment.status in {'final','amended', 'corrected'}\n\t  )\n  union ( [&quot;Observation&quot;: &quot;INR&quot;] INRLabTest\n        where INRLabTest.value as Quantity &gt; 3.0\n            and INRLabTest.status in {'final','amended', 'corrected'}\n        return &quot;Observation&quot; { id: INRLabTest.id, effective: INRLabTest.issued }\n        )\n  union ((( [&quot;MedicationAdministration&quot;: &quot;Unfractionated Heparin&quot;] UnfractionatedHeparin\n          where UnfractionatedHeparin.dosage.route in &quot;Intravenous route&quot;\n         )\n         union [&quot;MedicationAdministration&quot;: &quot;Direct Thrombin Inhibitor&quot;]\n         union [&quot;MedicationAdministration&quot;: &quot;Glycoprotein IIb/IIIa Inhibitors&quot;] ) AnticoagulantMedication\n         where AnticoagulantMedication.status = 'complete'\n         return &quot;Observation&quot; { id: AnticoagulantMedication.id, effective: AnticoagulantMedication.effective }\n      )\n\ndefine &quot;Low Risk for VTE or Anticoagulant Administered on Day of or Day After Procedure&quot;:\n \tfrom\n   \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n   \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n   \t\t&quot;Is In Low Risk for VTE or On Anticoagulant&quot; VTERiskAssessment\n\twhere Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n \t\t\tand Global.&quot;Normalize Interval&quot;(VTERiskAssessment.effective) starts during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n\treturn QualifyingEncounter\n\ndefine &quot;Encounter With No VTE Prophylaxis Due to Medical Reason&quot;:\n   ( &quot;No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;\n     intersect &quot;No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;\n   )\n   union ( &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;\n       intersect &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;\n       )\n\ndefine &quot;No VTE Prophylaxis Medication Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;:\n   \t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n       with\t&quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\n     \tsuch that Coalesce(NoVTEMedication.statusReason,NoVTEMedication.reasonCode) in &quot;Medical Reason&quot;\n      \t\t\tand Coalesce(NoVTEMedication.authoredOn, start of Global.&quot;Normalize Interval&quot;(NoVTEMedication.effective)) during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\ndefine &quot;No VTE Prophylaxis Medication Administered or Ordered&quot;:\n   ((\t[&quot;MedicationAdministration&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\n     union\n\t    [&quot;MedicationAdministration&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\n     union\n\t    [&quot;MedicationAdministration&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\n     union\n\t    [&quot;MedicationAdministration&quot;: medication in &quot;Warfarin&quot;]\n       ) MedicationAdm\n       where MedicationAdm.status = 'not-done'\n        )\n  union\n\t   ((\t[&quot;MedicationRequest&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\n  \tunion\n  \t [&quot;MedicationRequest&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\n    union\n    \t[&quot;MedicationRequest&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\n    union\n    \t[&quot;MedicationRequest&quot;: medication in &quot;Warfarin&quot;]\n    ) MedicationOrder\n    \twhere\tMedicationOrder.doNotPerform is true\n        and MedicationOrder.status in {'completed', 'cancelled'}\n        //11/5 discussion: all expressions for QI-Core must include a status.\n        //Therefore, we need ServiceRequest.status = completed; and MedicationRequest.status = cancelled (or completed, since cancelled indicates it was once ordered but intentionally never filled).\n        //So the not done issue is handled by ServiceRequest.doNotPerform = True  Or MedicationRequest.doNotPerform = True\n    )\n\ndefine &quot;No VTE Prophylaxis Medication Due to Medical Reason on Day of or Day After Procedure&quot;:\n\tfrom\n  \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n  \t\t&quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\n\twhere Coalesce(NoVTEMedication.statusReason,NoVTEMedication.reasonCode) in &quot;Medical Reason&quot;\n\t\t\tand AnesthesiaProcedure.status = 'completed'\n\t\t\tand Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n\t\t\tand Coalesce(NoVTEMedication.authoredOn, start of Global.&quot;Normalize Interval&quot;(NoVTEMedication.effective)) during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n  return QualifyingEncounter\n\ndefine &quot;No VTE Prophylaxis Device Due to Medical Reason From Day of Start of Hospitalization To Day After Admission&quot;:\n  &quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n  \twith &quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\n      such that NoVTEDevice.requestStatusReason in &quot;Medical Reason&quot;\n        and  NoVTEDevice.authoredOn during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\n//11/5: ServiceRequest not done reason is an extension in QI-Core R4 as ServiceRequest.extension:statusReason\ndefine function GetStatusReason(requestReason ServiceRequest):\n      Global.GetBaseExtension(requestReason, 'request-statusReason')\n\ndefine &quot;No VTE Prophylaxis Device Applied or Ordered&quot;:\n  ((\n    [&quot;ServiceRequest&quot;: &quot;Venous foot pumps (VFP)&quot;]\n    union [&quot;ServiceRequest&quot;: &quot;Intermittent pneumatic compression devices (IPC)&quot;]\n    union [&quot;ServiceRequest&quot;: &quot;Graduated compression stockings (GCS)&quot;]\n    ) DeviceOrder\n    where DeviceOrder.status = 'completed'\n    //11/5 discussion: all expressions for QI-Core must include a status\n    //ServiceRequest.status -  draft | active | suspended | completed | entered-in-error | cancelled\n        and DeviceOrder.doNotPerform is true\n    return {id: DeviceOrder.id, requestStatusReason: GetStatusReason(DeviceOrder), authoredOn: DeviceOrder.authoredOn}\n    )\n  union\n    (\n      [&quot;Procedure&quot;: &quot;Device Application&quot;] DeviceApplied\n      let DeviceNotDoneTiming: Global.GetExtension(DeviceApplied, 'qicore-recorded').value\n      where (DeviceApplied.usedCode in &quot;Intermittent pneumatic compression devices (IPC)&quot;\n            or DeviceApplied.usedCode in &quot;Venous foot pumps (VFP)&quot;\n            or DeviceApplied.usedCode in &quot;Graduated compression stockings (GCS)&quot;\n            )\n         and  DeviceApplied.status = 'not-done'\n         return {id: DeviceApplied.id, requestStatusReason: DeviceApplied.statusReason, authoredOn: DeviceNotDoneTiming}\n\n    )\n\ndefine &quot;No VTE Prophylaxis Device Due to Medical Reason on Day of or Day After Procedure&quot;:\n  from\n  \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n  \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n  \t\t&quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\n  where  NoVTEDevice.requestStatusReason in &quot;Medical Reason&quot;\n      and AnesthesiaProcedure.status = 'completed'\n  \t\tand Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n      and NoVTEDevice.authoredOn during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n  return QualifyingEncounter\n\ndefine &quot;Encounter With No VTE Prophylaxis Due to Patient Refusal&quot;:\n &quot;No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission&quot;\n \tunion &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;\n\ndefine &quot;No VTE Prophylaxis Due to Patient Refusal From Day of Start of Hospitalization To Day After Admission&quot;:\n \t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter\n\t with &quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot; PatientRefusal\n   such that Coalesce(start of Global.&quot;Normalize Interval&quot;(PatientRefusal.effective), PatientRefusal.authoredOn)\n         during VTEICU.&quot;FromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(QualifyingEncounter)\n\ndefine &quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot;:\n    ( &quot;No VTE Prophylaxis Medication Administered or Ordered&quot; NoVTEMedication\n        where Coalesce(NoVTEMedication.statusReason,NoVTEMedication.reasonCode) in &quot;Patient Refusal&quot;\n    )\n  union (&quot;No VTE Prophylaxis Device Applied or Ordered&quot; NoVTEDevice\n           where NoVTEDevice.requestStatusReason in &quot;Patient Refusal&quot;\n        )\n\ndefine &quot;No VTE Prophylaxis Due to Patient Refusal on Day of or Day After Procedure&quot;:\n \tfrom\n   \t\t&quot;Encounter With Age Range and Without VTE Diagnosis or Obstetrical Conditions&quot; QualifyingEncounter,\n   \t\t[&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\n   \t\t&quot;No VTE Prophylaxis Medication or Device Due to Patient Refusal&quot; PatientRefusal\n\twhere Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed) ends 1 day after day of start of QualifyingEncounter.period\n \t\t\tand Coalesce(start of Global.&quot;Normalize Interval&quot;(PatientRefusal.effective), PatientRefusal.authoredOn)\n             during TJC.&quot;CalendarDayOfOrDayAfter&quot;(end of Global.&quot;Normalize Interval&quot;(AnesthesiaProcedure.performed))\n\treturn QualifyingEncounter\n</code></pre>\r\n                    \r\n                    \r\n                </td>\r\n            </tr>\r\n        \r\n    </table>\r\n</div>"
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
    "valueCode": "boolean"
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "#cqf-tooling"
    }
  } ],
  "url": "http://hl7.org/fhir/us/cqfmeasures/Measure/measure-EXM108",
  "identifier": [ {
    "use": "official",
    "system": "http://hl7.org/fhir/cqi/ecqm/Measure/Identifier/cms",
    "value": "108"
  } ],
  "title": "Venous Thromboembolism Prophylaxis",
  "status": "active",
  "experimental": true,
  "publisher": "The Joint Commission",
  "contact": [ {
    "telecom": [ {
      "system": "url",
      "value": "https://www.jointcommission.org/en/"
    } ]
  } ],
  "description": "This measure assesses the number of patients who received VTE prophylaxis or have documentation why no VTE prophylaxis was given the day of or the day after hospital admission or surgery end date for surgeries that start the day of or the day after hospital admission",
  "useContext": [ {
    "code": {
      "code": "program"
    },
    "valueCodeableConcept": {
      "text": "eligible-provider"
    }
  } ],
  "jurisdiction": [ {
    "coding": [ {
      "system": "urn:iso:std:iso:3166",
      "code": "US"
    } ]
  } ],
  "purpose": "Patients age 18 and older discharged from hospital inpatient acute care without a diagnosis of venous thromboembolism (VTE) or obstetrics with a length of stay less than or equal to 120 days that ends during the measurement period",
  "copyright": "Measure specifications are in the Public Domain. LOINC(R) is a registered trademark of the Regenstrief Institute. This material contains SNOMED Clinical Terms(R) (SNOMED CT(C)) copyright 2004-2017 International Health Terminology Standards Development Organization. All rights reserved.",
  "approvalDate": "2016-01-01",
  "lastReviewDate": "2019-08-19",
  "effectivePeriod": {
    "start": "2019-01-01",
    "end": "2019-12-31"
  },
  "topic": [ {
    "coding": [ {
      "system": "http://loinc.org",
      "code": "57024-2",
      "display": "Health Quality Measure Document"
    } ]
  } ],
  "relatedArtifact": [ {
    "type": "citation",
    "citation": "Cohen AT, Tapson VF, Bergmann JF, et al. Venous thromboembolism risk and prophylaxis in the acute hospital care setting (ENDORSE study): a multinational cross-sectional study. Lancet. 2008;371:387-394."
  }, {
    "type": "citation",
    "citation": "\t\nGeerts  WH, Bergqvist D, Pineo GF, Heit JA, Samama CM, Lassen MR, Colwell CW. Prevention of venous thromboembolism. The Eighth ACCP Conference on antithrombotic and thrombolytic therapy. Chest. 2008; 133:381S-453S"
  }, {
    "type": "citation",
    "citation": "Guyatt, G.H., Akl, E.A., Crowther, M., Gutterman, D., Schunemann, H. Antithrombotic Therapy and Prevention of Thrombosis, 9th edition: American College of Chest Physicians Evidence-Based Clinical Practice Guidelines. CHEST 2012; 141(2)(Supp):7S-47S"
  }, {
    "type": "citation",
    "citation": "Kearon C, Akl EA, Comerota AJ, Prandoni P, Bounameaux H, Goldhaber SZ, Nelson ME, Wells PS, Gould MK, Dentali F, Crowther M, Kahn SR. Antithrombotic therapy for VTE disease: Antithrombotic Therapy and Prevention of Thrombosis, 9th Edition: American College of Chest Physicians Evidence-based Clinical Practice Guidelines. CHEST 2012 Feb; 141(2) (Supp):e419S-94S. "
  }, {
    "type": "citation",
    "citation": "National Quality Forum. National Voluntary Consensus Standards for Prevention and Care of Venous Thromboembolism: Policy, Preferred Practices, and Initial Performance Measures. A Consensus Report. Washington, DC. NQF; 2006"
  }, {
    "type": "citation",
    "citation": "\t\nShojania KG, Duncan BW, McDonald DM, et al. (Eds.). (2001). Making healthcare safer; A critical analysis of patient safety practices (Evidence Report/Technology Assessment No. 43). Prepared by the University of California at San Francisco-Stanford Evidenced-based Practice Center under Contract no. 290-97-0013 (AHRQ Publication NO.01-E058). Rockville, MD:Agency for Healthcare Research and Quality."
  }, {
    "type": "depends-on",
    "resource": "Library/library-FHIRHelpers-4.0.1"
  }, {
    "type": "depends-on",
    "resource": "Library/library-MATGlobalCommonFunctions-5.0.000"
  }, {
    "type": "depends-on",
    "resource": "Library/library-SupplementalDataElements-2.0.0"
  }, {
    "type": "depends-on",
    "resource": "Library/library-VTEICU-5.0.000"
  }, {
    "type": "depends-on",
    "resource": "Library/library-TJCOverall-5.0.000"
  } ],
  "library": [ "Library/library-EXM108-8.3.000" ],
  "disclaimer": "These performance measures are not clinical guidelines and do not establish a standard of medical care, and have not been tested for all potential applications. The measures and specifications are provided without warranty",
  "scoring": {
    "coding": [ {
      "system": "http://hl7.org/fhir/measure-scoring",
      "code": "proportion"
    } ]
  },
  "type": [ {
    "coding": [ {
      "system": "http://hl7.org/fhir/measure-type",
      "code": "process"
    } ]
  } ],
  "rationale": "Hospitalized patients at high-risk for VTE may develop an asymptomatic deep vein thrombosis (DVT), and die from pulmonary embolism (PE) even before the diagnosis is suspected. The majority of fatal events occur as sudden or abrupt death, underscoring the importance of prevention as the most critical action step for reducing death from PE (Geerts, et al, 2008).\n\nThe estimated annual incidence of deep-vein thrombosis (DVT) and pulmonary embolism (PE), known collectively as venous thromboembolism (VTE), is approximately 900,000 (Geerts, et al, 2008). Approximately two-thirds of cases of DVT or PE are associated with recent hospitalization. This is consistent with the 2001 report by The Agency for Healthcare Research and Quality (AHRQ). AHRQ indicates that \"the appropriate application of effective preventive measures in hospitals has major potential for improving patient safety by reducing the incidence of venous thromboembolism\" (Shojania, 2001).\n\nDespite its proven effectiveness, rates of appropriate thromboprophylaxis remain low in both medical and surgical patients. A recent analysis from the ENDORSE survey, which evaluated prophylaxis rates in 17,084 major surgery patients, found that more than one third of patients at risk for VTE (38%) did not receive prophylaxis and that rates varied by surgery type (Cohen, et al., 2008).\n\nIn a review of evidence-based patient safety practices, the Agency for Healthcare Research and Quality defined thromboprophylaxis against VTE as the \"number one patient safety practice\" for hospitalized patients (Shojania, 2001). Updated \"safe practices\" published by the National Quality Forum (NQF) recommend routine evaluation of hospitalized patients for risk of VTE and use of appropriate prophylaxis (National Quality Forum. National Voluntary Consensus Standards for Prevention and Care of Venous Thromboembolism, 2006).\n\nAs noted by the ACCP, a vast number of randomized clinical trials provide irrefutable evidence that thromboprophylaxis reduces VTE events, and there are studies that have also shown that fatal PE is prevented by thromboprophylaxis (Geerts, et al. 2008).\n\nSome select surgeries have previously been monitored in the Surgical Care Improvement Project; since performance on these surgeries has achieved very high levels, they are not included in this measure.",
  "clinicalRecommendationStatement": "Failure to recognize and protect patients at risk for venous thromboembolism (VTE) increases the chances for acutely ill hospitalized patients at high risk for developing a deep vein thrombosis or dying from a pulmonary emboli. Screening all patients is the only evidence based practice in reducing incidence of disease.  All hospitalized patients should be evaluated for primary VTE prophylaxis, and given appropriate prophylaxis when indicated.",
  "improvementNotation": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/measure-improvement-notation",
      "code": "increase"
    } ]
  },
  "guidance": "When low dose unfractionated heparin is administered for VTE Prophylaxis, the intended administration route for low dose unfractionated heparin is subcutaneous.\n\nReasons for no pharmacological and no mechanical VTE prophylaxis must be explicitly documented by the MD/APN/PA or pharmacist and linked with VTE prophylaxis. Ambulation alone is not a sufficient reason for not administering VTE prophylaxis. In order for ambulation/patient ambulating to be considered as an acceptable reason, there needs to be explicit documentation, e.g., \"patient out of bed and ambulating in halls - no VTE prophylaxis needed.\"",
  "group": [ {
    "id": "group-1",
    "population": [ {
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "initial-population",
          "display": "Initial Population"
        } ]
      },
      "criteria": {
        "language": "text/cql",
        "expression": "Initial Population"
      }
    }, {
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "numerator",
          "display": "Numerator"
        } ]
      },
      "criteria": {
        "language": "text/cql",
        "expression": "Numerator"
      }
    }, {
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "denominator",
          "display": "Denominator"
        } ]
      },
      "criteria": {
        "language": "text/cql",
        "expression": "Denominator"
      }
    }, {
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "denominator-exclusion",
          "display": "Denominator Exclusion"
        } ]
      },
      "criteria": {
        "language": "text/cql",
        "expression": "Denominator Exclusion"
      }
    } ]
  } ],
  "supplementalData": [ {
    "code": {
      "text": "sde-ethnicity"
    },
    "usage": [ {
      "coding": [ {
        "system": "http://hl7.org/fhir/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "criteria": {
      "language": "text/cql",
      "expression": "SDE Ethnicity"
    }
  }, {
    "code": {
      "text": "sde-payer"
    },
    "usage": [ {
      "coding": [ {
        "system": "http://hl7.org/fhir/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "criteria": {
      "language": "text/cql",
      "expression": "SDE Payer"
    }
  }, {
    "code": {
      "text": "sde-race"
    },
    "usage": [ {
      "coding": [ {
        "system": "http://hl7.org/fhir/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "criteria": {
      "language": "text/cql",
      "expression": "SDE Race"
    }
  }, {
    "code": {
      "text": "sde-sex"
    },
    "usage": [ {
      "coding": [ {
        "system": "http://hl7.org/fhir/measure-data-usage",
        "code": "supplemental-data"
      } ]
    } ],
    "criteria": {
      "language": "text/cql",
      "expression": "SDE Sex"
    }
  } ]
}