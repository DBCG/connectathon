{
  "resourceType": "Library",
  "id": "AdvancedIllnessandFrailtyExclusion-6.0.000",
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "#cqf-tooling"
    }
  } ],
  "url": "http://fhir.org/guides/dbcg/connectathon/Library/AdvancedIllnessandFrailtyExclusion",
  "version": "6.0.000",
  "name": "AdvancedIllnessandFrailtyExclusion",
  "status": "active",
  "experimental": true,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBBZHZhbmNlZElsbG5lc3NhbmRGcmFpbHR5RXhjbHVzaW9uIHZlcnNpb24gJzYuMC4wMDAnCgovKgpAdXBkYXRlOiBAQEJUUiAyMDIwLTAzLTMxIC0+CkluY3JlbWVudGVkIHZlcnNpb24gdG8gNS4wLjAwMApVcGRhdGVkIEZISVIgdmVyc2lvbiB0byA0LjAuMQpAQEAKKi8KCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMC4xJyBjYWxsZWQgRkhJUkhlbHBlcnMKaW5jbHVkZSBNQVRHbG9iYWxDb21tb25GdW5jdGlvbnMgdmVyc2lvbiAnNS4wLjAwMCcgY2FsbGVkIEdsb2JhbAoKY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycKCnZhbHVlc2V0ICJBY3V0ZSBJbnBhdGllbnQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwODMnCnZhbHVlc2V0ICJBZHZhbmNlZCBJbGxuZXNzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMC4xMi4xMDgyJwp2YWx1ZXNldCAiQ2FyZSBTZXJ2aWNlcyBpbiBMb25nLVRlcm0gUmVzaWRlbnRpYWwgRmFjaWxpdHkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwMTQnCnZhbHVlc2V0ICJEZW1lbnRpYSBNZWRpY2F0aW9ucyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xOTYuMTIuMTUxMCcKdmFsdWVzZXQgIkVEIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDg1Jwp2YWx1ZXNldCAiRnJhaWx0eSBEZXZpY2UiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTE4LjEyLjEzMDAnCnZhbHVlc2V0ICJGcmFpbHR5IERpYWdub3NpcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMTMuMTIuMTA3NCcKdmFsdWVzZXQgIkZyYWlsdHkgRW5jb3VudGVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDg4Jwp2YWx1ZXNldCAiRnJhaWx0eSBTeW1wdG9tIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjExMy4xMi4xMDc1Jwp2YWx1ZXNldCAiTm9uYWN1dGUgSW5wYXRpZW50IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDg0Jwp2YWx1ZXNldCAiTnVyc2luZyBGYWNpbGl0eSBWaXNpdCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDEuMTIuMTAxMicKdmFsdWVzZXQgIk9ic2VydmF0aW9uIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDg2Jwp2YWx1ZXNldCAiT3V0cGF0aWVudCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDEuMTIuMTA4NycKCmNvZGUgIkJpcnRoIGRhdGUiOiAnMjExMTItOCcgZnJvbSAiTE9JTkMiIGRpc3BsYXkgJ0JpcnRoIGRhdGUnCgpwYXJhbWV0ZXIgIk1lYXN1cmVtZW50IFBlcmlvZCIgSW50ZXJ2YWw8RGF0ZVRpbWU+CiAgZGVmYXVsdCBJbnRlcnZhbFtAMjAxOS0wMS0wMVQwMDowMDowMC4wLCBAMjAyMC0wMS0wMVQwMDowMDowMC4wKQoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIkFkdmFuY2VkIElsbG5lc3MgYW5kIEZyYWlsdHkgRXhjbHVzaW9uIEluY2x1ZGluZyBPdmVyIEFnZSA4MCI6CgkvL0lmIHRoZSBtZWFzdXJlIGluY2x1ZGVzIHBvcHVsYXRpb25zIGFnZSA4MCBhbmQgb2xkZXIsIHRoZW4gdXNlIHRoaXMgbG9naWM6CgkoCiAgICAgICAgR2xvYmFsLiJDYWxlbmRhckFnZUluWWVhcnNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpaW4gSW50ZXJ2YWxbNjYsIDgwXQogICAgICAgICAgICBhbmQgIkhhcyBDcml0ZXJpYSBJbmRpY2F0aW5nIEZyYWlsdHkiCiAgICAgICAgICAgIGFuZCAoIENvdW50KCJPdXRwYXRpZW50IEVuY291bnRlcnMgd2l0aCBBZHZhbmNlZCBJbGxuZXNzIik+PSAyCiAgICAgICAgICAgICAgICBvciBleGlzdHMgKCAiSW5wYXRpZW50IEVuY291bnRlciB3aXRoIEFkdmFuY2VkIElsbG5lc3MiICkKICAgICAgICAgICAgICAgIG9yIGV4aXN0cyAiRGVtZW50aWEgTWVkaWNhdGlvbnMgSW4gWWVhciBCZWZvcmUgb3IgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCIKICAgICAgICAgICAgKQoJKQoJCW9yICgKICAgICAgICAgICAgR2xvYmFsLiJDYWxlbmRhckFnZUluWWVhcnNBdCIoRkhJUkhlbHBlcnMuVG9EYXRlKFBhdGllbnQuYmlydGhEYXRlKSwgc3RhcnQgb2YgIk1lYXN1cmVtZW50IFBlcmlvZCIpPj0gODEKCQkJICAgIGFuZCAiSGFzIENyaXRlcmlhIEluZGljYXRpbmcgRnJhaWx0eSIKCQkpCgpkZWZpbmUgIkFkdmFuY2VkIElsbG5lc3MgYW5kIEZyYWlsdHkgRXhjbHVzaW9uIEluY2x1ZGluZyBVbmRlciBBZ2UgODAiOgoJLy9JZiB0aGUgbWVhc3VyZSBkb2VzIE5PVCBpbmNsdWRlIHBvcHVsYXRpb25zIGFnZSA4MCBhbmQgb2xkZXIsIHRoZW4gdXNlIHRoaXMgbG9naWM6CglHbG9iYWwuIkNhbGVuZGFyQWdlSW5ZZWFyc0F0IihGSElSSGVscGVycy5Ub0RhdGUoUGF0aWVudC5iaXJ0aERhdGUpLCBzdGFydCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIik+PSA2NQogICAgICAgIGFuZCAiSGFzIENyaXRlcmlhIEluZGljYXRpbmcgRnJhaWx0eSIKICAgICAgICBhbmQgKCBDb3VudCgiT3V0cGF0aWVudCBFbmNvdW50ZXJzIHdpdGggQWR2YW5jZWQgSWxsbmVzcyIpPj0gMgogICAgICAgICAgICBvciBleGlzdHMgKCAiSW5wYXRpZW50IEVuY291bnRlciB3aXRoIEFkdmFuY2VkIElsbG5lc3MiICkKICAgICAgICAgICAgb3IgZXhpc3RzICJEZW1lbnRpYSBNZWRpY2F0aW9ucyBJbiBZZWFyIEJlZm9yZSBvciBEdXJpbmcgTWVhc3VyZW1lbnQgUGVyaW9kIgogICAgICAgICkKCmRlZmluZSAiT3V0cGF0aWVudCBFbmNvdW50ZXJzIHdpdGggQWR2YW5jZWQgSWxsbmVzcyI6CgkoIFtFbmNvdW50ZXI6ICJPdXRwYXRpZW50Il0KCQl1bmlvbiBbRW5jb3VudGVyOiAiT2JzZXJ2YXRpb24iXQoJCXVuaW9uIFtFbmNvdW50ZXI6ICJFRCJdCgkJdW5pb24gW0VuY291bnRlcjogIk5vbmFjdXRlIElucGF0aWVudCJdICkgT3V0cGF0aWVudEVuY291bnRlcgoJCSB3aXRoIFtDb25kaXRpb246ICJBZHZhbmNlZCBJbGxuZXNzIl0gQWR2YW5jZWRJbGxuZXNzRGlhZ25vc2lzCiAgICAgICAgICAgIHN1Y2ggdGhhdCBleGlzdHMgKAogICAgICAgICAgICAgICAgT3V0cGF0aWVudEVuY291bnRlci5kaWFnbm9zaXMuY29uZGl0aW9uIEVuY291bnRlckRpYWdub3NpcwogICAgICAgICAgICAgICAgICAgIHdoZXJlIEVuZHNXaXRoKEVuY291bnRlckRpYWdub3Npcy5yZWZlcmVuY2UsIEFkdmFuY2VkSWxsbmVzc0RpYWdub3Npcy5pZCkKICAgICAgICAgICAgKQogICAgICAgICAgICBhbmQgT3V0cGF0aWVudEVuY291bnRlci5wZXJpb2Qgc3RhcnRzIDIgeWVhcnMgb3IgbGVzcyBvbiBvciBiZWZvcmUKCQkJZW5kIG9mICJNZWFzdXJlbWVudCBQZXJpb2QiCgpkZWZpbmUgIklucGF0aWVudCBFbmNvdW50ZXIgd2l0aCBBZHZhbmNlZCBJbGxuZXNzIjoKCVtFbmNvdW50ZXI6ICJBY3V0ZSBJbnBhdGllbnQiXSBJbnBhdGllbnRFbmNvdW50ZXIKCQl3aXRoIFtDb25kaXRpb246ICJBZHZhbmNlZCBJbGxuZXNzIl0gQWR2YW5jZWRJbGxuZXNzRGlhZ25vc2lzCiAgICAgICAgICAgIHN1Y2ggdGhhdCBleGlzdHMgKAogICAgICAgICAgICAgICAgSW5wYXRpZW50RW5jb3VudGVyLmRpYWdub3Npcy5jb25kaXRpb24gRW5jb3VudGVyRGlhZ25vc2lzCiAgICAgICAgICAgICAgICAgICAgd2hlcmUgRW5kc1dpdGgoRW5jb3VudGVyRGlhZ25vc2lzLnJlZmVyZW5jZSwgQWR2YW5jZWRJbGxuZXNzRGlhZ25vc2lzLmlkKQogICAgICAgICAgICApCgkJCWFuZCBJbnBhdGllbnRFbmNvdW50ZXIucGVyaW9kIHN0YXJ0cyAyIHllYXJzIG9yIGxlc3Mgb24gb3IgYmVmb3JlCgkJCWVuZCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIgovLyBzdGFydCBoZXJlCmRlZmluZSAiRGVtZW50aWEgTWVkaWNhdGlvbnMgSW4gWWVhciBCZWZvcmUgb3IgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCI6CglbIk1lZGljYXRpb25EaXNwZW5zZSI6ICJEZW1lbnRpYSBNZWRpY2F0aW9ucyJdIERlbWVudGlhTWVkCgkJd2hlcmUgRGVtZW50aWFNZWQud2hlbkhhbmRlZE92ZXIgZHVyaW5nIEludGVydmFsWwogICAgICAgICAgICAoIHN0YXJ0IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiIC0gMSB5ZWFyICksIGVuZCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIgogICAgICAgIF0KCmRlZmluZSAiSGFzIENyaXRlcmlhIEluZGljYXRpbmcgRnJhaWx0eSI6Ci8vQXNrIEJyeW4gYWJvdXQgZGV2aWNlcwoJZXhpc3RzICggW0RldmljZVJlcXVlc3Q6ICJGcmFpbHR5IERldmljZSJdIEZyYWlsdHlEZXZpY2VPcmRlcgoJCQl3aGVyZSBGcmFpbHR5RGV2aWNlT3JkZXIuYXV0aG9yZWRPbiBkdXJpbmcgIk1lYXN1cmVtZW50IFBlcmlvZCIKCSkKCQlvciBleGlzdHMgKCBbRGV2aWNlVXNlU3RhdGVtZW50OiAiRnJhaWx0eSBEZXZpY2UiXSBGcmFpbHR5RGV2aWNlVXNlCgkJCQl3aGVyZSBHbG9iYWwuIk5vcm1hbGl6ZSBJbnRlcnZhbCIoRnJhaWx0eURldmljZVVzZS50aW1pbmcpIG92ZXJsYXBzICJNZWFzdXJlbWVudCBQZXJpb2QiCgkJKQoJCW9yIGV4aXN0cyAoIFtDb25kaXRpb246ICJGcmFpbHR5IERpYWdub3NpcyJdIEZyYWlsdHlEaWFnbm9zaXMKCQkJCXdoZXJlIEdsb2JhbC4iUHJldmFsZW5jZSBQZXJpb2QiKEZyYWlsdHlEaWFnbm9zaXMpIG92ZXJsYXBzICJNZWFzdXJlbWVudCBQZXJpb2QiCgkJKQoJCW9yIGV4aXN0cyAoIFtFbmNvdW50ZXI6ICJGcmFpbHR5IEVuY291bnRlciJdIEZyYWlsdHlFbmNvdW50ZXIKCQkJCXdoZXJlIEZyYWlsdHlFbmNvdW50ZXIucGVyaW9kIG92ZXJsYXBzICJNZWFzdXJlbWVudCBQZXJpb2QiCgkJKQoJCW9yIGV4aXN0cyAoIFtPYnNlcnZhdGlvbjogIkZyYWlsdHkgU3ltcHRvbSJdIEZyYWlsdHlTeW1wdG9tT2JzZXJ2YXRpb24KCQkJCXdoZXJlIEdsb2JhbC4iTm9ybWFsaXplIEludGVydmFsIihGcmFpbHR5U3ltcHRvbU9ic2VydmF0aW9uLmVmZmVjdGl2ZSkgb3ZlcmxhcHMgIk1lYXN1cmVtZW50IFBlcmlvZCIKCQkpCgoKICAgICAgICBkZWZpbmUgIkxvbmcgVGVybSBDYXJlIFBlcmlvZHMgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCI6CiAgICAgICAgCSggW0VuY291bnRlcjogIkNhcmUgU2VydmljZXMgaW4gTG9uZy1UZXJtIFJlc2lkZW50aWFsIEZhY2lsaXR5Il0KICAgICAgICAJCXVuaW9uIFtFbmNvdW50ZXI6ICJOdXJzaW5nIEZhY2lsaXR5IFZpc2l0Il0gKSBMb25nVGVybUZhY2lsaXR5RW5jb3VudGVyCiAgICAgICAgCQl3aGVyZSBMb25nVGVybUZhY2lsaXR5RW5jb3VudGVyLnBlcmlvZCBvdmVybGFwcyAiTWVhc3VyZW1lbnQgUGVyaW9kIgogICAgICAgIAkJcmV0dXJuIExvbmdUZXJtRmFjaWxpdHlFbmNvdW50ZXIucGVyaW9kCiAgICAgICAgCQkJaW50ZXJzZWN0ICJNZWFzdXJlbWVudCBQZXJpb2QiCgpkZWZpbmUgIkhhcyBTcGVudCBNb3JlIFRoYW4gOTAgRGF5cyBpbiBMb25nIFRlcm0gQ2FyZSI6CgkiRGF5cyBTcGVudCBpbiBMb25nIFRlcm0gQ2FyZSBEdXJpbmcgTWVhc3VyZW1lbnQgUGVyaW9kIiA+IDkwCgpkZWZpbmUgIkRheXMgU3BlbnQgaW4gTG9uZyBUZXJtIENhcmUgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCI6CgkiQ3VtdWxhdGl2ZURheXMiKCJMb25nIFRlcm0gQ2FyZSBQZXJpb2RzIER1cmluZyBNZWFzdXJlbWVudCBQZXJpb2QiKQoKZGVmaW5lIGZ1bmN0aW9uICJDdW11bGF0aXZlRGF5cyIoSW50ZXJ2YWxzIExpc3Q8SW50ZXJ2YWw8RGF0ZVRpbWU+PiApOgoJU3VtKChjb2xsYXBzZSBJbnRlcnZhbHMpQ29sbGFwc2VkSW50ZXJ2YWwKCQkJcmV0dXJuIGFsbCBkdXJhdGlvbiBpbiBkYXlzIG9mIENvbGxhcHNlZEludGVydmFsCgkpCg=="
  } ]
}